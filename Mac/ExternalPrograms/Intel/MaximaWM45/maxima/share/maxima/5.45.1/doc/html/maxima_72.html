<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Functions and Variables for TeX Output (Maxima 5.45.1 Manual)</title>

<meta name="description" content="Functions and Variables for TeX Output (Maxima 5.45.1 Manual)">
<meta name="keywords" content="Functions and Variables for TeX Output (Maxima 5.45.1 Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="maxima_368.html" rel="index" title="Function and Variable Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_68.html" rel="up" title="File Input and Output">
<link href="maxima_73.html" rel="next" title="Functions and Variables for Fortran Output">
<link href="maxima_71.html" rel="prev" title="Functions and Variables for File Input and Output">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="en">
<div class="section" id="Functions-and-Variables-for-TeX-Output">
<div class="header">
<p>
Next: <a href="maxima_73.html" accesskey="n" rel="next">Functions and Variables for Fortran Output</a>, Previous: <a href="maxima_71.html" accesskey="p" rel="prev">Functions and Variables for File Input and Output</a>, Up: <a href="maxima_68.html" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_368.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-and-Variables-for-TeX-Output-1"></span><h3 class="section">13.4 Functions and Variables for TeX Output</h3>


<p>Note that the built-in TeX output functionality of wxMaxima makes no use of
the functions described here but uses its own implementation instead.
</p>
<span id="tex"></span><span id="Item_003a-Input_002fdeffn_002ftex"></span><dl class="def">
<dt id="index-tex"><span class="category">Function: </span><span><strong>tex</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>expr</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>expr</var>, <var>destination</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>expr</var>, false) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>label</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>label</var>, <var>destination</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tex</tt> (<var>label</var>, false)</em><a href='#index-tex' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Prints a representation of an expression suitable for the TeX document
preparation system.  The result is a fragment of a document, which can be copied
into a larger document but not processed by itself.
</p>
<p><code>tex (<var>expr</var>)</code> prints a TeX representation of <var>expr</var> on the
console.
</p>
<p><code>tex (<var>label</var>)</code> prints a TeX representation of the expression named by
<var>label</var> and assigns it an equation label (to be displayed to the left of the
expression).  The TeX equation label is the same as the Maxima label.
</p>
<p><var>destination</var> may be an output stream or file name.  When <var>destination</var>
is a file name, <code>tex</code> appends its output to the file.  The functions
<code>openw</code> and <code>opena</code> create output streams.
</p>
<p><code>tex (<var>expr</var>, false)</code> and <code>tex (<var>label</var>, false)</code>
return their TeX output as a string.
</p>
<p><code>tex</code> evaluates its first argument after testing it to see if it is a
label.  Quote-quote <code>''</code> forces evaluation of the argument, thereby
defeating the test and preventing the label.
</p>
<p>See also <code><a href="#tex1">tex1</a></code> and <code><a href="#texput">texput</a></code>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) integrate (1/(1+x^3), x);
                                    2 x - 1
                  2            atan(-------)
             log(x  - x + 1)        sqrt(3)    log(x + 1)
(%o1)      - --------------- + ------------- + ----------
                    6             sqrt(3)          3
(%i2) tex (%o1);
$$-{{\log \left(x^2-x+1\right)}\over{6}}+{{\arctan \left({{2\,x-1
 }\over{\sqrt{3}}}\right)}\over{\sqrt{3}}}+{{\log \left(x+1\right)
 }\over{3}}\leqno{\tt (\%o1)}$$
(%o2)                          (\%o1)
(%i3) tex (integrate (sin(x), x));
$$-\cos x$$
(%o3)                           false
(%i4) tex (%o1, &quot;foo.tex&quot;);
(%o4)                          (\%o1)
</pre></div>

<p><code>tex (<var>expr</var>, false)</code> returns its TeX output as a string.
</p>
<div class="example">
<pre class="example">(%i1) S : tex (x * y * z, false);
(%o1) $$x\,y\,z$$
(%i2) S;
(%o2) $$x\,y\,z$$
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-TeX-output">TeX output</a>

<a href="maxima_369.html#Category_003a-File-output">File output</a>
</div>
</p></dd></dl>

<span id="tex1"></span><span id="Item_003a-Input_002fdeffn_002ftex1"></span><dl class="def">
<dt id="index-tex1"><span class="category">Function: </span><span><strong>tex1</strong> <em>(<var>e</var>)</em><a href='#index-tex1' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Returns a string which represents the TeX output for the expressions <var>e</var>.
The TeX output is not enclosed in delimiters for an equation or any other
environment.
</p>
<p>See also <code><a href="#tex">tex</a></code> and <code><a href="#texput">texput</a></code>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) tex1 (sin(x) + cos(x));
(%o1)                     \sin x+\cos x
</pre></div>
</dd></dl>

<span id="texput"></span><span id="Item_003a-Input_002fdeffn_002ftexput"></span><dl class="def">
<dt id="index-texput"><span class="category">Function: </span><span><strong>texput</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>texput</tt> (<var>a</var>, <var>s</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>texput</tt> (<var>a</var>, <var>f</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>texput</tt> (<var>a</var>, <var>s</var>, <var>operator_type</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>texput</tt> (<var>a</var>, [<var>s_1</var>, <var>s_2</var>], matchfix) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>texput</tt> (<var>a</var>, [<var>s_1</var>, <var>s_2</var>, <var>s_3</var>], matchfix)</em><a href='#index-texput' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Assign the TeX output for the atom <var>a</var>, which can be a symbol or the name
of an operator.
</p>
<p><code>texput (<var>a</var>, <var>s</var>)</code> causes the <code>tex</code> function to interpolate
the string <var>s</var> into the TeX output in place of <var>a</var>.
</p>
<p><code>texput (<var>a</var>, <var>f</var>)</code> causes the <code>tex</code> function to call the
function <var>f</var> to generate TeX output.  <var>f</var> must accept one argument,
which is an expression which has operator <var>a</var>, and must return a string
(the TeX output).  <var>f</var> may call <code>tex1</code> to generate TeX output for the
arguments of the input expression.
</p>
<p><code>texput (<var>a</var>, <var>s</var>, <var>operator_type</var>)</code>, where <var>operator_type</var>
is <code>prefix</code>, <code>infix</code>, <code>postfix</code>, <code>nary</code>, or <code>nofix</code>,
causes the <code>tex</code> function to interpolate <var>s</var> into the TeX output in
place of <var>a</var>, and to place the interpolated text in the appropriate
position.
</p>
<p><code>texput (<var>a</var>, [<var>s_1</var>, <var>s_2</var>], matchfix)</code> causes the <code>tex</code>
function to interpolate <var>s_1</var> and <var>s_2</var> into the TeX output on either
side of the arguments of <var>a</var>.  The arguments (if more than one) are
separated by commas.
</p>
<p><code>texput (<var>a</var>, [<var>s_1</var>, <var>s_2</var>, <var>s_3</var>], matchfix)</code> causes the
<code>tex</code> function to interpolate <var>s_1</var> and <var>s_2</var> into the TeX output
on either side of the arguments of <var>a</var>, with <var>s_3</var> separating the
arguments.
</p>
<p>See also <code><a href="#tex">tex</a></code> and <code><a href="#tex1">tex1</a></code>.
</p>
<p>Examples:
</p>
<p>Assign TeX output for a variable.
</p>
<div class="example">
<pre class="example">(%i1) texput (me,&quot;\\mu_e&quot;);
(%o1)                         \mu_e
(%i2) tex (me);
$$\mu_e$$
(%o2)                         false
</pre></div>

<p>Assign TeX output for an ordinary function (not an operator).
</p>
<div class="example">
<pre class="example">(%i1) texput (lcm, &quot;\\mathrm{lcm}&quot;);
(%o1)                     \mathrm{lcm}
(%i2) tex (lcm (a, b));
$$\mathrm{lcm}\left(a , b\right)$$
(%o2)                         false
</pre></div>

<p>Call a function to generate TeX output.
</p>
<div class="example">
<pre class="example">(%i1) texfoo (e) := block ([a, b], [a, b] : args (e),
  concat(&quot;\\left[\\stackrel{&quot;,tex1(b),&quot;}{&quot;,tex1(a),&quot;}\\right]&quot;))$
(%i2) texput (foo, texfoo);
(%o2)                        texfoo
(%i3) tex (foo (2^x, %pi));
$$\left[\stackrel{\pi}{2^{x}}\right]$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for a prefix operator.
</p>
<div class="example">
<pre class="example">(%i1) prefix (&quot;grad&quot;);
(%o1)                         grad
(%i2) texput (&quot;grad&quot;, &quot; \\nabla &quot;, prefix);
(%o2)                        \nabla 
(%i3) tex (grad f);
$$ \nabla f$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for an infix operator.
</p>
<div class="example">
<pre class="example">(%i1) infix (&quot;~&quot;);
(%o1)                           ~
(%i2) texput (&quot;~&quot;, &quot; \\times &quot;, infix);
(%o2)                        \times 
(%i3) tex (a ~ b);
$$a \times b$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for a postfix operator.
</p>
<div class="example">
<pre class="example">(%i1) postfix (&quot;##&quot;);
(%o1)                          ##
(%i2) texput (&quot;##&quot;, &quot;!!&quot;, postfix);
(%o2)                          !!
(%i3) tex (x ##);
$$x!!$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for a nary operator.
</p>
<div class="example">
<pre class="example">(%i1) nary (&quot;@@&quot;);
(%o1)                          @@
(%i2) texput (&quot;@@&quot;, &quot; \\circ &quot;, nary);
(%o2)                         \circ 
(%i3) tex (a @@ b @@ c @@ d);
$$a \circ b \circ c \circ d$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for a nofix operator.
</p>
<div class="example">
<pre class="example">(%i1) nofix (&quot;foo&quot;);
(%o1)                          foo
(%i2) texput (&quot;foo&quot;, &quot;\\mathsc{foo}&quot;, nofix);
(%o2)                     \mathsc{foo}
(%i3) tex (foo);
$$\mathsc{foo}$$
(%o3)                         false
</pre></div>

<p>Assign TeX output for a matchfix operator.
</p>
<div class="example">
<pre class="example">(%i1) matchfix (&quot;&lt;&lt;&quot;, &quot;&gt;&gt;&quot;);
(%o1)                          &lt;&lt;
(%i2) texput (&quot;&lt;&lt;&quot;, [&quot; \\langle &quot;, &quot; \\rangle &quot;], matchfix);
(%o2)                [ \langle ,  \rangle ]
(%i3) tex (&lt;&lt;a&gt;&gt;);
$$ \langle a \rangle $$
(%o3)                         false
(%i4) tex (&lt;&lt;a, b&gt;&gt;);
$$ \langle a , b \rangle $$
(%o4)                         false
(%i5) texput (&quot;&lt;&lt;&quot;, [&quot; \\langle &quot;, &quot; \\rangle &quot;, &quot; \\, | \\,&quot;],
      matchfix);
(%o5)           [ \langle ,  \rangle ,  \, | \,]
(%i6) tex (&lt;&lt;a&gt;&gt;);
$$ \langle a \rangle $$
(%o6)                         false
(%i7) tex (&lt;&lt;a, b&gt;&gt;);
$$ \langle a \, | \,b \rangle $$
(%o7)                         false
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-TeX-output">TeX output</a>
</div>
</p></dd></dl>

<span id="get_005ftex_005fenvironment"></span><span id="Item_003a-Input_002fdeffn_002fget_005ftex_005fenvironment"></span><dl class="def">
<dt id="index-get_005ftex_005fenvironment"><span class="category">Function: </span><span><strong>get_tex_environment</strong> <em>(<var>op</var>)</em><a href='#index-get_005ftex_005fenvironment' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="Item_003a-Input_002fdeffn_002fset_005ftex_005fenvironment"></span></dd><dt id="index-set_005ftex_005fenvironment"><span class="category">Function: </span><span><strong>set_tex_environment</strong> <em>(<var>op</var>, <var>before</var>, <var>after</var>)</em><a href='#index-set_005ftex_005fenvironment' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Customize the TeX environment output by <code>tex</code>.
As maintained by these functions, the TeX environment comprises two strings:
one is printed before any other TeX output, and the other is printed after.
</p>
<p>Only the TeX environment of the top-level operator in an expression
is output; TeX environments associated with other operators are ignored.
</p>
<p><code>get_tex_environment</code> returns the TeX environment which is applied
to the operator <var>op</var>; returns the default if no other environment
has been assigned.
</p>
<p><code>set_tex_environment</code> assigns the TeX environment for the operator
<var>op</var>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) get_tex_environment (&quot;:=&quot;);
(%o1) [
\begin{verbatim}
, ;
\end{verbatim}
]
(%i2) tex (f (x) := 1 - x);

\begin{verbatim}
f(x):=1-x;
\end{verbatim}

(%o2)                         false
(%i3) set_tex_environment (&quot;:=&quot;, &quot;$$&quot;, &quot;$$&quot;);
(%o3)                       [$$, $$]
(%i4) tex (f (x) := 1 - x);
$$f(x):=1-x$$
(%o4)                         false
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-TeX-output">TeX output</a>
</div>
</p></dd></dl>

<span id="get_005ftex_005fenviroment_005fdefault"></span><span id="Item_003a-Input_002fdeffn_002fget_005ftex_005fenvironment_005fdefault"></span><dl class="def">
<dt id="index-get_005ftex_005fenvironment_005fdefault"><span class="category">Function: </span><span><strong>get_tex_environment_default</strong> <em>()</em><a href='#index-get_005ftex_005fenvironment_005fdefault' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="Item_003a-Input_002fdeffn_002fset_005ftex_005fenvironment_005fdefault"></span></dd><dt id="index-set_005ftex_005fenvironment_005fdefault"><span class="category">Function: </span><span><strong>set_tex_environment_default</strong> <em>(<var>before</var>, <var>after</var>)</em><a href='#index-set_005ftex_005fenvironment_005fdefault' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Customize the TeX environment output by <code>tex</code>.
As maintained by these functions, the TeX environment comprises two strings:
one is printed before any other TeX output, and the other is printed after.
</p>
<p><code>get_tex_environment_default</code> returns the TeX environment which is
applied to expressions for which the top-level operator has no
specific TeX environment (as assigned by <code>set_tex_environment</code>).
</p>
<p><code>set_tex_environment_default</code> assigns the default TeX environment.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) get_tex_environment_default ();
(%o1)                       [$$, $$]
(%i2) tex (f(x) + g(x));
$$g\left(x\right)+f\left(x\right)$$
(%o2)                         false
(%i3) set_tex_environment_default (&quot;\\begin{equation}
&quot;, &quot;
\\end{equation}&quot;);
(%o3) [\begin{equation}
, 
\end{equation}]
(%i4) tex (f(x) + g(x));
\begin{equation}
g\left(x\right)+f\left(x\right)
\end{equation}
(%o4)                         false
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-TeX-output">TeX output</a>
</div>
</p></dd></dl>

<span id="Item_003a-Input_002fnode_002fFunctions-and-Variables-for-Fortran-Output"></span></div>
<hr>
<div class="header">
<p>
Next: <a href="maxima_73.html" accesskey="n" rel="next">Functions and Variables for Fortran Output</a>, Previous: <a href="maxima_71.html" accesskey="p" rel="prev">Functions and Variables for File Input and Output</a>, Up: <a href="maxima_68.html" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_368.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
