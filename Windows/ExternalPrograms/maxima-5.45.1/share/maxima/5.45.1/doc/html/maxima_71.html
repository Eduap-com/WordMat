<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Functions and Variables for File Input and Output (Maxima 5.45.1 Manual)</title>

<meta name="description" content="Functions and Variables for File Input and Output (Maxima 5.45.1 Manual)">
<meta name="keywords" content="Functions and Variables for File Input and Output (Maxima 5.45.1 Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="maxima_368.html" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_68.html" rel="up" title="File Input and Output">
<link href="maxima_72.html" rel="next" title="Functions and Variables for TeX Output">
<link href="maxima_70.html" rel="prev" title="Files">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="en">
<span id="Functions-and-Variables-for-File-Input-and-Output"></span><div class="header">
<p>
Next: <a href="maxima_72.html" accesskey="n" rel="next">Functions and Variables for TeX Output</a>, Previous: <a href="maxima_70.html" accesskey="p" rel="prev">Files</a>, Up: <a href="maxima_68.html" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_368.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-and-Variables-for-File-Input-and-Output-1"></span><h3 class="section">13.3 Functions and Variables for File Input and Output</h3>

<span id="appendfile"></span><span id="Item_003a-Input_002fdeffn_002fappendfile"></span><dl>
<dt id="index-appendfile">Function: <strong>appendfile</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Appends a console transcript to <var>filename</var>.  <code>appendfile</code> is the same
as <code><a href="#writefile">writefile</a></code>, except that the transcript file, if it exists, is
always appended.
</p>
<p><code><a href="#closefile">closefile</a></code> closes the transcript file opened by <code>appendfile</code> or
<code>writefile</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-output">File output</a>

<a href="maxima_369.html#Category_003a-Console-interaction">Console interaction</a>
</div>
</p></dd></dl>

<span id="batch"></span><span id="Item_003a-Input_002fdeffn_002fbatch"></span><dl>
<dt id="index-batch">Function: <strong>batch</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>batch</tt> (<var>filename</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>batch</tt> (<var>filename</var>, <code>option</code>)</em></dt>
<dd>
<p><code>batch(<var>filename</var>)</code> reads Maxima expressions from <var>filename</var> and 
evaluates them.  <code>batch</code> searches for <var>filename</var> in the list 
<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>.  See also <code><a href="#file_005fsearch">file_search</a></code>.
</p>
<p><code>batch(<var>filename</var>, <code>demo</code>)</code> is like <code>demo(<var>filename</var>)</code>.
In this case <code>batch</code> searches for <var>filename</var> in the list
<code><a href="#file_005fsearch_005fdemo">file_search_demo</a></code>.  See <code><a href="maxima_5.html#demo">demo</a></code>.
</p>
<p><code>batch(<var>filename</var>, <code>test</code>)</code> is like <code><a href="maxima_2.html#run_005ftestsuite">run_testsuite</a></code> with the
option <code>display_all=true</code>.  For this case <code>batch</code> searches 
<var>filename</var> in the list <code>file_search_maxima</code> and not in the list
<code><a href="#file_005fsearch_005ftests">file_search_tests</a></code> like <code>run_testsuite</code>.  Furthermore,
<code>run_testsuite</code> runs tests which are in the list
<code><a href="maxima_2.html#testsuite_005ffiles">testsuite_files</a></code>.  With <code>batch</code> it is possible to run any file in
a test mode, which can be found in the list <code>file_search_maxima</code>.  This is
useful, when writing a test file.
</p>
<p><var>filename</var> comprises a sequence of Maxima expressions, each terminated with
<code>;</code> or <code>$</code>.  The special variable <code><a href="maxima_8.html#g_t_0025">%</a></code> and the function
<code><a href="maxima_8.html#g_t_0025th">%th</a></code> refer to previous results within the file.  The file may include
<code>:lisp</code> constructs.  Spaces, tabs, and newlines in the file are ignored.
A suitable input file may be created by a text editor or by the
<code><a href="#stringout">stringout</a></code> function.
</p>
<p><code>batch</code> reads each input expression from <var>filename</var>, displays the input
to the console, computes the corresponding output expression, and displays the
output expression.  Input labels are assigned to the input expressions and
output labels are assigned to the output expressions.  <code>batch</code> evaluates
every input expression in the file unless there is an error.  If user input is
requested (by <code><a href="maxima_59.html#asksign">asksign</a></code> or <code><a href="maxima_59.html#askinteger">askinteger</a></code>, for example) <code>batch</code>
pauses to collect the requisite input and then continue.
</p>
<p>It may be possible to halt <code>batch</code> by typing <code>control-C</code> at the
console.  The effect of <code>control-C</code> depends on the underlying Lisp
implementation.
</p>
<p><code>batch</code> has several uses, such as to provide a reservoir for working
command lines, to give error-free demonstrations, or to help organize one&rsquo;s
thinking in solving complex problems.
</p>
<p><code>batch</code> evaluates its argument.  <code>batch</code> returns the path of
<var>filename</var> as a string, when called with no second argument or with the 
option <code>demo</code>.  When called with the option <code>test</code>, the return value
is a an empty list <code>[]</code> or a list with <var>filename</var> and the numbers of
the tests which have failed.
</p>
<p>See also <code><a href="#load">load</a></code>, <code><a href="#batchload">batchload</a></code>, and <code><a href="maxima_5.html#demo">demo</a></code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>


<span id="batchload"></span><span id="Item_003a-Input_002fdeffn_002fbatchload"></span><dl>
<dt id="index-batchload">Function: <strong>batchload</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Reads Maxima expressions from <var>filename</var> and evaluates them, without
displaying the input or output expressions and without assigning labels to
output expressions.  Printed output (such as produced by <code><a href="maxima_9.html#print">print</a></code> or
<code><a href="maxima_5.html#describe">describe</a></code>)) is displayed, however.
</p>
<p>The special variable <code><a href="maxima_8.html#g_t_0025">%</a></code> and the function <code><a href="maxima_8.html#g_t_0025th">%th</a></code> refer to previous
results from the interactive interpreter, not results within the file.
The file cannot include <code>:lisp</code> constructs.
</p>
<p><code>batchload</code> returns the path of <var>filename</var>, as a string.
<code>batchload</code> evaluates its argument.
</p>
<p>See also <code><a href="#batch">batch</a></code>, and <code><a href="#load">load</a></code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="closefile"></span><span id="Item_003a-Input_002fdeffn_002fclosefile"></span><dl>
<dt id="index-closefile">Function: <strong>closefile</strong> <em>()</em></dt>
<dd>
<p>Closes the transcript file opened by <code><a href="#writefile">writefile</a></code> or <code><a href="#appendfile">appendfile</a></code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-output">File output</a>

<a href="maxima_369.html#Category_003a-Console-interaction">Console interaction</a>
</div>
</p></dd></dl>

<span id="file_005foutput_005fappend"></span><span id="Item_003a-Input_002fdefvr_002ffile_005foutput_005fappend"></span><dl>
<dt id="index-file_005foutput_005fappend">Option variable: <strong>file_output_append</strong></dt>
<dd><p>Default value: <code>false</code>
</p>
<p><code>file_output_append</code> governs whether file output functions append or
truncate their output file.  When <code>file_output_append</code> is <code>true</code>, such
functions append to their output file.  Otherwise, the output file is truncated.
</p>
<p><code><a href="#save">save</a></code>, <code><a href="#stringout">stringout</a></code>, and <code><a href="#with_005fstdout">with_stdout</a></code> respect
<code>file_output_append</code>.  Other functions which write output files do not
respect <code>file_output_append</code>.  In particular, plotting and translation
functions always truncate their output file, and <code><a href="maxima_72.html#tex">tex</a></code> and
<code><a href="#appendfile">appendfile</a></code> always append.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-output">File output</a>

<a href="maxima_369.html#Category_003a-Global-flags">Global flags</a>
</div>
</p></dd></dl>


<span id="filename_005fmerge"></span><span id="Item_003a-Input_002fdeffn_002ffilename_005fmerge"></span><dl>
<dt id="index-filename_005fmerge">Function: <strong>filename_merge</strong> <em>(<var>path</var>, <var>filename</var>)</em></dt>
<dd>
<p>Constructs a modified path from <var>path</var> and <var>filename</var>.  If the final
component of <var>path</var> is of the form <code>###.<var>something</var></code>, the component
is replaced with <code><var>filename</var>.<var>something</var></code>.  Otherwise, the final
component is simply replaced by <var>filename</var>.
</p>
<p>The result is a Lisp pathname object.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>

<a href="maxima_369.html#Category_003a-File-output">File output</a>
</div>
</p></dd></dl>

<span id="file_005fsearch"></span><span id="Item_003a-Input_002fdeffn_002ffile_005fsearch"></span><dl>
<dt id="index-file_005fsearch">Function: <strong>file_search</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>file_search</tt> (<var>filename</var>) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>file_search</tt> (<var>filename</var>, <var>pathlist</var>)</em></dt>
<dd>
<p><code>file_search</code> searches for the file <var>filename</var> and returns the path to
the file (as a string) if it can be found; otherwise <code>file_search</code> returns
<code>false</code>.  <code>file_search (<var>filename</var>)</code> searches in the default
search directories, which are specified by the
<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>, <code><a href="#file_005fsearch_005flisp">file_search_lisp</a></code>, and
<code><a href="#file_005fsearch_005fdemo">file_search_demo</a></code> variables.
</p>
<p><code>file_search</code> first checks if the actual name passed exists,
before attempting to match it to &ldquo;wildcard&rdquo; file search patterns.
See <code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code> concerning file search patterns.
</p>
<p>The argument <var>filename</var> can be a path and file name, or just a file name,
or, if a file search directory includes a file search pattern, just the base of
the file name (without an extension).  For example,
</p>
<div class="example">
<pre class="example">file_search (&quot;/home/wfs/special/zeta.mac&quot;);
file_search (&quot;zeta.mac&quot;);
file_search (&quot;zeta&quot;);
</pre></div>

<p>all find the same file, assuming the file exists and 
<code>/home/wfs/special/###.mac</code> is in <code>file_search_maxima</code>.
</p>
<p><code>file_search (<var>filename</var>, <var>pathlist</var>)</code> searches only in the
directories specified by <var>pathlist</var>, which is a list of strings.  The
argument <var>pathlist</var> supersedes the default search directories, so if the
path list is given, <code>file_search</code> searches only the ones specified, and not
any of the default search directories.  Even if there is only one directory in
<var>pathlist</var>, it must still be given as an one-element list.
</p>
<p>The user may modify the default search directories.
See <code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>.
</p>
<p><code>file_search</code> is invoked by <code><a href="#load">load</a></code> with <code>file_search_maxima</code> and
<code><a href="#file_005fsearch_005flisp">file_search_lisp</a></code> as the search directories.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="file_005fsearch_005fmaxima"></span><span id="file_005fsearch_005flisp"></span><span id="file_005fsearch_005fdemo"></span><span id="file_005fsearch_005fusage"></span><span id="file_005fsearch_005ftests"></span><span id="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fmaxima"></span><dl>
<dt id="index-file_005fsearch_005fmaxima">Option variable: <strong>file_search_maxima</strong></dt>
<dd><span id="Item_003a-Input_002fdefvr_002ffile_005fsearch_005flisp"></span></dd><dt id="index-file_005fsearch_005flisp">Option variable: <strong>file_search_lisp</strong></dt>
<dd><span id="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fdemo"></span></dd><dt id="index-file_005fsearch_005fdemo">Option variable: <strong>file_search_demo</strong></dt>
<dd><span id="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fusage"></span></dd><dt id="index-file_005fsearch_005fusage">Option variable: <strong>file_search_usage</strong></dt>
<dd><span id="Item_003a-Input_002fdefvr_002ffile_005fsearch_005ftests"></span></dd><dt id="index-file_005fsearch_005ftests">Option variable: <strong>file_search_tests</strong></dt>
<dd>
<p>These variables specify lists of directories to be searched by
<code><a href="#load">load</a></code>, <code><a href="maxima_5.html#demo">demo</a></code>, and some other Maxima functions.  The default
values of these variables name various directories in the Maxima installation.
</p>
<p>The user can modify these variables, either to replace the default values or to
append additional directories.  For example,
</p>
<div class="example">
<pre class="example">file_search_maxima: [&quot;/usr/local/foo/###.mac&quot;,
    &quot;/usr/local/bar/###.mac&quot;]$
</pre></div>

<p>replaces the default value of <code>file_search_maxima</code>, while
</p>
<div class="example">
<pre class="example">file_search_maxima: append (file_search_maxima,
    [&quot;/usr/local/foo/###.mac&quot;, &quot;/usr/local/bar/###.mac&quot;])$
</pre></div>

<p>appends two additional directories.  It may be convenient to put such an
expression in the file <code>maxima-init.mac</code> so that the file search path is
assigned automatically when Maxima starts.
See also <a href="maxima_147.html">Introduction for Runtime Environment</a>.
</p>
<p>Multiple filename extensions and multiple paths can be specified by special 
&ldquo;wildcard&rdquo; constructions.  The string <code>###</code> expands into the sought-after
name, while a comma-separated list enclosed in curly braces
<code>{foo,bar,baz}</code> expands into multiple strings.  For example, supposing
the sought-after name is <code>neumann</code>,
</p>
<div class="example">
<pre class="example">&quot;/home/{wfs,gcj}/###.{lisp,mac}&quot;
</pre></div>

<p align="left">expands into <code>/home/wfs/neumann.lisp</code>, <code>/home/gcj/neumann.lisp</code>,
<code>/home/wfs/neumann.mac</code>, and <code>/home/gcj/neumann.mac</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>

<a href="maxima_369.html#Category_003a-Global-variables">Global variables</a>
</div>
</p></dd></dl>

<span id="file_005ftype"></span><span id="Item_003a-Input_002fdeffn_002ffile_005ftype"></span><dl>
<dt id="index-file_005ftype">Function: <strong>file_type</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Returns a guess about the content of <var>filename</var>, based on the filename 
extension.  <var>filename</var> need not refer to an actual file; no attempt is made 
to open the file and inspect the content.
</p>
<p>The return value is a symbol, either <code>object</code>, <code>lisp</code>, or
<code>maxima</code>.  If the extension is matches one of the values in
<code>file_type_maxima</code>, <code>file_type</code> returns <code>maxima</code>.  If the
extension matches one of the values in <code>file_type_lisp</code>, <code>file_type</code>
returns <code>lisp</code>.  If none of the above, <code>file_type</code> returns
<code>object</code>.
</p>
<p>See also <code><a href="#pathname_005ftype">pathname_type</a></code>.
</p>
<p>See <code><a href="#file_005ftype_005fmaxima">file_type_maxima</a></code> and <code><a href="#file_005ftype_005flisp">file_type_lisp</a></code> for the default values.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i2) map('file_type,
          [&quot;test.lisp&quot;, &quot;test.mac&quot;, &quot;test.dem&quot;, &quot;test.txt&quot;]);
(%o2)            [lisp, maxima, maxima, object]
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="file_005ftype_005flisp"></span><span id="Item_003a-Input_002fdefvr_002ffile_005ftype_005flisp"></span><dl>
<dt id="index-file_005ftype_005flisp">Option variable: <strong>file_type_lisp</strong></dt>
<dd><p>Default value:  <code>[l, lsp, lisp]</code>
</p>
<p><code>file_type_lisp</code> is a list of file extensions that maxima recognizes
as denoting a Lisp source file.
</p>
<p>See also <code><a href="#file_005ftype">file_type</a></code>.
</p></dd></dl>

<span id="file_005ftype_005fmaxima"></span><span id="Item_003a-Input_002fdefvr_002ffile_005ftype_005fmaxima"></span><dl>
<dt id="index-file_005ftype_005fmaxima">Option variable: <strong>file_type_maxima</strong></dt>
<dd><p>Default value:  <code>[mac, mc, demo, dem, dm1, dm2, dm3, dmt, wxm]</code>
</p>
<p><code>file_type_maxima</code> is a list of file extensions that maxima recognizes
as denoting a Maxima source file.
</p>
<p>See also <code><a href="#file_005ftype">file_type</a></code>.
</p></dd></dl>

<span id="load"></span><span id="Item_003a-Input_002fdeffn_002fload"></span><dl>
<dt id="index-load">Function: <strong>load</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Evaluates expressions in <var>filename</var>, thus bringing variables, functions, and
other objects into Maxima.  The binding of any existing object is clobbered by
the binding recovered from <var>filename</var>.  To find the file, <code>load</code> calls
<code><a href="#file_005fsearch">file_search</a></code> with <code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code> and
<code><a href="#file_005fsearch_005flisp">file_search_lisp</a></code> as the search directories.  If <code>load</code> succeeds, it
returns the name of the file.  Otherwise <code>load</code> prints an error message.
</p>
<p><code>load</code> works equally well for Lisp code and Maxima code.  Files created by
<code><a href="#save">save</a></code>, <code><a href="maxima_164.html#translate_005ffile">translate_file</a></code>, and <code><a href="maxima_164.html#compile_005ffile">compile_file</a></code>, which
create Lisp code, and <code><a href="#stringout">stringout</a></code>, which creates Maxima code, can all
be processed by <code>load</code>.  <code>load</code> calls <code><a href="#loadfile">loadfile</a></code> to load Lisp
files and <code><a href="#batchload">batchload</a></code> to load Maxima files.
</p>
<p><code>load</code> does not recognize <code>:lisp</code> constructs in Maxima files, and
while processing <var>filename</var>, the global variables <code>_</code>, <code>__</code>,
<code>%</code>, and <code>%th</code> have whatever bindings they had when <code>load</code> was
called.
</p>
<p>Note also that structures will only be read back as structures if
they have been defined by <code>defstruct</code> before the <code>load</code> command
is called.
</p>
<p>See also <code><a href="#loadfile">loadfile</a></code>, for Lisp files; and <code><a href="#batch">batch</a></code>, <code><a href="#batchload">batchload</a></code>, and
<code><a href="maxima_5.html#demo">demo</a></code>. for Maxima files.
</p>
<p>See <code><a href="#file_005fsearch">file_search</a></code> for more detail about the file search mechanism.
The <code><a href="maxima_283.html#numericalio">numericalio</a></code> chapter describes many functions
for loading csv and other data files.
</p>
<p>During Maxima file loading, the variable <code><a href="#load_005fpathname">load_pathname</a></code> is bound to the pathname of the file
being loaded.
</p>
<p><code>load</code> evaluates its argument.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="load_005fpathname"></span><span id="Item_003a-Input_002fdefvr_002fload_005fpathname"></span><dl>
<dt id="index-load_005fpathname">System variable: <strong>load_pathname</strong></dt>
<dd><p>Default value: <code>false</code>
</p>
<p>When a file is loaded with the functions <code><a href="#load">load</a></code>, <code><a href="#loadfile">loadfile</a></code> or
<code><a href="#batchload">batchload</a></code> the system variable <code>load_pathname</code> is bound to the
pathname of the file which is processed.
</p>
<p>The variable <code>load_pathname</code> can be accessed from the file during the
loading.
</p>
<p>Example:
</p>
<p>Suppose we have a batchfile <code>test.mac</code> in the directory
</p><p align="left"><code>&quot;/home/dieter/workspace/mymaxima/temp/&quot;</code> with the following commands
</p>
<div class="example">
<pre class="example">print(&quot;The value of load_pathname is: &quot;, load_pathname)$
print(&quot;End of batchfile&quot;)$
</pre></div>

<p>then we get the following output
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;/home/dieter/workspace/mymaxima/temp/test.mac&quot;)$
The value of load_pathname is:  
                   /home/dieter/workspace/mymaxima/temp/test.mac 
End of batchfile
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>


<span id="loadfile"></span><span id="Item_003a-Input_002fdeffn_002floadfile"></span><dl>
<dt id="index-loadfile">Function: <strong>loadfile</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Evaluates Lisp expressions in <var>filename</var>.  <code>loadfile</code> does not invoke
<code><a href="#file_005fsearch">file_search</a></code>, so <code>filename</code> must include the file extension and
as much of the path as needed to find the file.
</p>
<p><code>loadfile</code> can process files created by <code><a href="#save">save</a></code>,<!-- /@w -->
<code><a href="maxima_164.html#translate_005ffile">translate_file</a></code>, and <code><a href="maxima_164.html#compile_005ffile">compile_file</a></code>.  The user may find it
more convenient to use <code><a href="#load">load</a></code> instead of <code>loadfile</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>


<span id="loadprint"></span><span id="Item_003a-Input_002fdefvr_002floadprint"></span><dl>
<dt id="index-loadprint">Option variable: <strong>loadprint</strong></dt>
<dd><p>Default value: <code>true</code>
</p>
<p><code>loadprint</code> tells whether to print a message when a file is loaded.
</p>
<ul>
<li> When <code>loadprint</code> is <code>true</code>, always print a message.
</li><li> When <code>loadprint</code> is <code>'loadfile</code>, print a message only if
a file is loaded by the function <code>loadfile</code>.
</li><li> When <code>loadprint</code> is <code>'autoload</code>,
print a message only if a file is automatically loaded.
See <code><a href="maxima_153.html#setup_005fautoload">setup_autoload</a></code>.
</li><li> When <code>loadprint</code> is <code>false</code>, never print a message.
</li></ul>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>

<a href="maxima_369.html#Category_003a-Global-flags">Global flags</a>
</div>
</p></dd></dl>

<span id="directory"></span><span id="Item_003a-Input_002fdeffn_002fdirectory"></span><dl>
<dt id="index-directory">Function: <strong>directory</strong> <em>(<var>path</var>)</em></dt>
<dd>
<p>Returns a list of the files and directories found in <var>path</var>
in the file system.
</p>
<p><var>path</var> may contain wildcard characters (i.e., characters which represent
unspecified parts of the path),
which include at least the asterisk on most systems,
and possibly other characters, depending on the system.
</p>
<p><code>directory</code> relies on the Lisp function DIRECTORY,
which may have implementation-specific behavior.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="pathname_005fdirectory"></span><span id="pathname_005fname"></span><span id="pathname_005ftype"></span><span id="Item_003a-Input_002fdeffn_002fpathname_005fdirectory"></span><dl>
<dt id="index-pathname_005fdirectory">Function: <strong>pathname_directory</strong> <em>(<var>pathname</var>)</em></dt>
<dd><span id="Item_003a-Input_002fdeffn_002fpathname_005fname"></span></dd><dt id="index-pathname_005fname">Function: <strong>pathname_name</strong> <em>(<var>pathname</var>)</em></dt>
<dd><span id="Item_003a-Input_002fdeffn_002fpathname_005ftype"></span></dd><dt id="index-pathname_005ftype">Function: <strong>pathname_type</strong> <em>(<var>pathname</var>)</em></dt>
<dd>
<p>These functions return the components of <var>pathname</var>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) pathname_directory(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o1)                 /home/dieter/maxima/
(%i2) pathname_name(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o2)                       changelog
(%i3) pathname_type(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o3)                          txt
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>
</div>
</p></dd></dl>

<span id="printfile"></span><span id="Item_003a-Input_002fdeffn_002fprintfile"></span><dl>
<dt id="index-printfile">Function: <strong>printfile</strong> <em>(<var>path</var>)</em></dt>
<dd>
<p>Prints the file named by <var>path</var> to the console.  <var>path</var> may be a string
or a symbol; if it is a symbol, it is converted to a string.
</p>
<p>If <var>path</var> names a file which is accessible from the current working
directory, that file is printed to the console.  Otherwise, <code>printfile</code>
attempts to locate the file by appending <var>path</var> to each of the elements of
<code><a href="#file_005fsearch_005fusage">file_search_usage</a></code> via <code><a href="#filename_005fmerge">filename_merge</a></code>.
</p>
<p><code>printfile</code> returns <var>path</var> if it names an existing file,
or otherwise the result of a successful filename merge.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-input">File input</a>

<a href="maxima_369.html#Category_003a-Console-interaction">Console interaction</a>
</div>
</p></dd></dl>


<span id="save"></span><span id="Item_003a-Input_002fdeffn_002fsave"></span><dl>
<dt id="index-save">Function: <strong>save</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, <var>name_1</var>, <var>name_2</var>, <var>name_3</var>, &hellip;) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, values, functions, labels, &hellip;) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, [<var>m</var>, <var>n</var>]) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, <var>name_1</var>=<var>expr_1</var>, &hellip;) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, all) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>save</tt> (<var>filename</var>, <var>name_1</var>=<var>expr_1</var>, <var>name_2</var>=<var>expr_2</var>, &hellip;)</em></dt>
<dd>
<p>Stores the current values of <var>name_1</var>, <var>name_2</var>, <var>name_3</var>, &hellip;,
in <var>filename</var>.  The arguments are the names of variables, functions, or
other objects.  If a name has no value or function associated with it, it is
ignored.  <code>save</code> returns <var>filename</var>.
</p>
<p><code>save</code> stores data in the form of Lisp expressions.
If <var>filename</var> ends in <code>.lisp</code> the
data stored by <code>save</code> may be recovered by <code>load (<var>filename</var>)</code>.
See <code><a href="#load">load</a></code>.
</p>
<p>The global flag <code><a href="#file_005foutput_005fappend">file_output_append</a></code> governs whether <code>save</code> appends or
truncates the output file.  When <code>file_output_append</code> is <code>true</code>,
<code>save</code> appends to the output file.  Otherwise, <code>save</code> truncates the
output file.  In either case, <code>save</code> creates the file if it does not yet
exist.
</p>
<p>The special form <code>save (<var>filename</var>, values, functions, labels, ...)</code>
stores the items named by <code><a href="maxima_8.html#values">values</a></code>, <code><a href="maxima_164.html#functions">functions</a></code>,<!-- /@w -->
<code><a href="maxima_8.html#labels">labels</a></code>, etc.  The names may be any specified by the variable
<code><a href="maxima_8.html#infolists">infolists</a></code>.  <code>values</code> comprises all user-defined variables.
</p>
<p>The special form <code>save (<var>filename</var>, [<var>m</var>, <var>n</var>])</code> stores the
values of input and output labels <var>m</var> through <var>n</var>.  Note that <var>m</var>
and <var>n</var> must be literal integers.  Input and output labels may also be
stored one by one, e.g., <code>save (&quot;foo.1&quot;, %i42, %o42)</code>.
<code>save (<var>filename</var>, labels)</code> stores all input and output labels.
When the stored labels are recovered, they clobber existing labels.
</p>
<p>The special form <code>save (<var>filename</var>, <var>name_1</var>=<var>expr_1</var>,
<var>name_2</var>=<var>expr_2</var>, ...)</code> stores the values of <var>expr_1</var>,
<var>expr_2</var>, &hellip;, with names <var>name_1</var>, <var>name_2</var>, &hellip;
It is useful to apply this form to input and output labels, e.g.,
<code>save (&quot;foo.1&quot;, aa=%o88)</code>.  The right-hand side of the equality in this
form may be any expression, which is evaluated.  This form does not introduce
the new names into the current Maxima environment, but only stores them in
<var>filename</var>.
</p>
<p>These special forms and the general form of <code>save</code> may be mixed at will.
For example, <code>save (<var>filename</var>, aa, bb, cc=42, functions, [11, 17])</code>.
</p>
<p>The special form <code>save (<var>filename</var>, all)</code> stores the current state of
Maxima.  This includes all user-defined variables, functions, arrays, etc., as
well as some automatically defined items.  The saved items include system
variables, such as <code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code> or <code><a href="maxima_8.html#showtime">showtime</a></code>, if they
have been assigned new values by the user; see <code><a href="maxima_8.html#myoptions">myoptions</a></code>.
</p>
<p><code>save</code> evaluates <var>filename</var> and quotes all other arguments.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-output">File output</a>
</div>
</p></dd></dl>

<span id="stringout"></span><span id="Item_003a-Input_002fdeffn_002fstringout"></span><dl>
<dt id="index-stringout">Function: <strong>stringout</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>stringout</tt> (<var>filename</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>stringout</tt> (<var>filename</var>, [<var>m</var>, <var>n</var>]) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>stringout</tt> (<var>filename</var>, input) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>stringout</tt> (<var>filename</var>, functions) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>stringout</tt> (<var>filename</var>, values)</em></dt>
<dd>
<p><code>stringout</code> writes expressions to a file in the same form the expressions
would be typed for input.  The file can then be used as input for the
<code><a href="#batch">batch</a></code> or <code><a href="maxima_5.html#demo">demo</a></code> commands, and it may be edited for any purpose.
<code>stringout</code> can be executed while <code><a href="#writefile">writefile</a></code> is in progress.
</p>
<p>The global flag <code><a href="#file_005foutput_005fappend">file_output_append</a></code> governs whether <code>stringout</code>
appends or truncates the output file.  When <code>file_output_append</code> is
<code>true</code>, <code>stringout</code> appends to the output file.  Otherwise,
<code>stringout</code> truncates the output file.  In either case, <code>stringout</code>
creates the file if it does not yet exist.
</p>
<p>The general form of <code>stringout</code> writes the values of one or more 
expressions to the output file.  Note that if an expression is a
variable, only the value of the variable is written and not the name
of the variable.  As an useful special case, the expressions may be
input labels (<code>%i1</code>, <code>%i2</code>, <code>%i3</code>, &hellip;) or output labels
(<code>%o1</code>, <code>%o2</code>, <code>%o3</code>, &hellip;).
</p>
<p>If <code><a href="maxima_9.html#grind">grind</a></code> is <code>true</code>, <code>stringout</code> formats the output using the
<code>grind</code> format.  Otherwise the <code>string</code> format is used.  See
<code>grind</code> and <code>string</code>.
</p>
<p>The special form <code>stringout (<var>filename</var>, [<var>m</var>, <var>n</var>])</code> writes
the values of input labels m through n, inclusive.
</p>
<p>The special form <code>stringout (<var>filename</var>, input)</code> writes all
input labels to the file.
</p>
<p>The special form <code>stringout (<var>filename</var>, functions)</code> writes all
user-defined functions (named by the global list <code><a href="maxima_164.html#functions">functions</a></code>)) to the
file.
</p>
<p>The special form <code>stringout (<var>filename</var>, values)</code> writes all
user-assigned variables (named by the global list <code><a href="maxima_8.html#values">values</a></code>)) to the file.
Each variable is printed as an assignment statement, with the name of the
variable, a colon, and its value.  Note that the general form of
<code>stringout</code> does not print variables as assignment statements.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-Session-management">Session management</a>

<a href="maxima_369.html#Category_003a-File-output">File output</a>
</div>
</p></dd></dl>

<span id="with_005fstdout"></span><span id="Item_003a-Input_002fdeffn_002fwith_005fstdout"></span><dl>
<dt id="index-with_005fstdout">Function: <strong>with_stdout</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>with_stdout</tt> (<var>f</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>with_stdout</tt> (<var>s</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;)</em></dt>
<dd>
<p>Evaluates <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip; and writes any
output thus generated to a file <var>f</var> or output stream <var>s</var>.  The evaluated
expressions are not written to the output.  Output may be generated by
<code><a href="maxima_9.html#print">print</a></code>, <code><a href="maxima_9.html#display">display</a></code>, <code><a href="maxima_9.html#grind">grind</a></code>, among other functions.
</p>
<p>The global flag <code><a href="#file_005foutput_005fappend">file_output_append</a></code> governs whether <code>with_stdout</code>
appends or truncates the output file <var>f</var>.  When <code>file_output_append</code>
is <code>true</code>, <code>with_stdout</code> appends to the output file.  Otherwise,
<code>with_stdout</code> truncates the output file.  In either case,
<code>with_stdout</code> creates the file if it does not yet exist.
</p>
<p><code>with_stdout</code> returns the value of its final argument.
</p>
<p>See also <code><a href="#writefile">writefile</a></code> and <code><a href="maxima_9.html#display2d">display2d</a></code>.
</p>
<div class="example">
<pre class="example">(%i1) with_stdout (&quot;tmp.out&quot;, for i:5 thru 10 do
      print (i, &quot;! yields&quot;, i!))$
(%i2) printfile (&quot;tmp.out&quot;)$
5 ! yields 120 
6 ! yields 720 
7 ! yields 5040 
8 ! yields 40320 
9 ! yields 362880 
10 ! yields 3628800
</pre></div>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-output">File output</a>
</div>
</p></dd></dl>

<span id="writefile"></span><span id="Item_003a-Input_002fdeffn_002fwritefile"></span><dl>
<dt id="index-writefile">Function: <strong>writefile</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Begins writing a transcript of the Maxima session to <var>filename</var>.
All interaction between the user and Maxima is then recorded in this file,
just as it appears on the console.
</p>
<p>As the transcript is printed in the console output format, it cannot be reloaded
into Maxima.  To make a file containing expressions which can be reloaded,
see <code><a href="#save">save</a></code> and <code><a href="#stringout">stringout</a></code>.  <code>save</code> stores expressions in Lisp
form, while <code>stringout</code> stores expressions in Maxima form.
</p>
<p>The effect of executing <code>writefile</code> when <var>filename</var> already exists
depends on the underlying Lisp implementation; the transcript file may be
clobbered, or the file may be appended.  <code><a href="#appendfile">appendfile</a></code> always appends to
the transcript file.
</p>
<p>It may be convenient to execute <code><a href="maxima_8.html#playback">playback</a></code> after <code>writefile</code> to save
the display of previous interactions.  As <code>playback</code> displays only the
input and output variables (<code>%i1</code>, <code>%o1</code>, etc.), any output generated
by a print statement in a function (as opposed to a return value) is not
displayed by <code>playback</code>.
</p>
<p><code><a href="#closefile">closefile</a></code> closes the transcript file opened by <code>writefile</code> or
<code>appendfile</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_369.html#Category_003a-File-output">File output</a>

<a href="maxima_369.html#Category_003a-Console-interaction">Console interaction</a>
</div>
</p></dd></dl>

<span id="Item_003a-Input_002fnode_002fFunctions-and-Variables-for-TeX-Output"></span><hr>
<div class="header">
<p>
Next: <a href="maxima_72.html" accesskey="n" rel="next">Functions and Variables for TeX Output</a>, Previous: <a href="maxima_70.html" accesskey="p" rel="prev">Files</a>, Up: <a href="maxima_68.html" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_368.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
