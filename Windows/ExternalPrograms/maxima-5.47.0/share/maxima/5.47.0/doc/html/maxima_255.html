<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.47.0 Manual: Functions and Variables for drawdf</title>

<meta name="description" content="Maxima 5.47.0 Manual: Functions and Variables for drawdf">
<meta name="keywords" content="Maxima 5.47.0 Manual: Functions and Variables for drawdf">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_423.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_253.html#drawdf_002dpkg" rel="up" title="drawdf-pkg">
<link href="maxima_256.html#dynamics_002dpkg" rel="next" title="dynamics-pkg">
<link href="maxima_254.html#Introduction-to-drawdf" rel="previous" title="Introduction to drawdf">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6>"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Functions-and-Variables-for-drawdf"></a>
<div class="header">
<p>
Previous: <a href="maxima_254.html#Introduction-to-drawdf" accesskey="p" rel="previous">Introduction to drawdf</a>, Up: <a href="maxima_253.html#drawdf_002dpkg" accesskey="u" rel="up">drawdf-pkg</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_423.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Functions-and-Variables-for-drawdf-1"></a>
<h3 class="section">54.2 Functions and Variables for drawdf</h3>

<a name="Functions-1"></a>
<h4 class="subsection">54.2.1 Functions</h4>

<a name="drawdf"></a><a name="Item_003a-drawdf_002fdeffn_002fdrawdf"></a><dl>
<dt><a name="index-drawdf"></a>Function: <strong>drawdf</strong> <em><br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> (<var>dydx</var>, ...options and objects...) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> (<var>dvdu</var>, [<var>u</var>,<var>v</var>], ...options and objects...) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> (<var>dvdu</var>, [<var>u</var>,<var>umin</var>,<var>umax</var>], [<var>v</var>,<var>vmin</var>,<var>vmax</var>], ...options and objects...) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> ([<var>dxdt</var>,<var>dydt</var>], ...options and objects...) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> ([<var>dudt</var>,<var>dvdt</var>], [<var>u</var>,<var>v</var>], ...options and objects...) <br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>drawdf</tt> ([<var>dudt</var>,<var>dvdt</var>], [<var>u</var>,<var>umin</var>,<var>umax</var>], [<var>v</var>,<var>vmin</var>,<var>vmax</var>], ...options and objects...)</em></dt>
<dd>
<p>Function <code>drawdf</code> draws a 2D direction field with optional
solution curves and other graphics using the <code>draw</code> package.
</p>
<p>The first argument specifies the derivative(s), and must be either an
expression or a list of two expressions.  <var>dydx</var>, <var>dxdt</var> and
<var>dydt</var> are expressions that depend on <var>x</var> and <var>y</var>.
<var>dvdu</var>, <var>dudt</var> and <var>dvdt</var> are expressions that depend on
<var>u</var> and <var>v</var>.
</p>
<p>If the independent and dependent variables are not <var>x</var> and
<var>y</var>, then their names must be specified immediately following the
derivative(s), either as a list of two names
<code>[</code><var>u</var>,<var>v</var><code>]</code>, or as two lists of the form
<code>[</code><var>u</var>,<var>umin</var>,<var>umax</var><code>]</code> and
<code>[</code><var>v</var>,<var>vmin</var>,<var>vmax</var><code>]</code>.
</p>
<p>The remaining arguments are <i>graphic options</i>, <i>graphic objects</i>,
or lists containing graphic options and objects, nested to arbitrary
depth.  The set of graphic options and objects supported by
<code>drawdf</code> is a superset of those supported by <code>draw2d</code> and
<code>gr2d</code> from the <code>draw</code> package.
</p>
<p>The arguments are interpreted sequentially: <i>graphic options</i> affect
all following <i>graphic objects</i>.  Furthermore, <i>graphic objects</i>
are drawn on the canvas in order specified, and may obscure graphics
drawn earlier.  Some <i>graphic options</i> affect the global appearance
of the scene.
</p>
<p>The additional <i>graphic objects</i> supported by <code>drawdf</code> include:
<code>solns_at</code>, <code>points_at</code>, <code>saddles_at</code>, <code>soln_at</code>,
<code>point_at</code>, and <code>saddle_at</code>.
</p>
<p>The additional <i>graphic options</i> supported by <code>drawdf</code> include:
<code>field_degree</code>, <code>soln_arrows</code>, <code>field_arrows</code>,
<code>field_grid</code>, <code>field_color</code>, <code>show_field</code>,
<code>tstep</code>, <code>nsteps</code>, <code>duration</code>, <code>direction</code>,
<code>field_tstep</code>, <code>field_nsteps</code>, and <code>field_duration</code>.
</p>
<p>Commonly used <i>graphic objects</i> inherited from the <code>draw</code>
package include: <code>explicit</code>, <code>implicit</code>, <code>parametric</code>,
<code>polygon</code>, <code>points</code>, <code>vector</code>, <code>label</code>, and all
others supported by <code>draw2d</code> and <code>gr2d</code>.
</p>
<p>Commonly used <i>graphic options</i> inherited from the <code>draw</code>
package include:<br>
<code>points_joined</code>, <code>color</code>,
<code>point_type</code>, <code>point_size</code>, <code>line_width</code>,
<code>line_type</code>, <code>key</code>, <code>title</code>, <code>xlabel</code>,
<code>ylabel</code>, <code>user_preamble</code>, <code>terminal</code>,
<code>dimensions</code>, <code>file_name</code>, and all
others supported by <code>draw2d</code> and <code>gr2d</code>.
</p>
<p>See also <code><a href="maxima_250.html#draw2d">draw2d</a></code>, <code><a href="maxima_118.html#rk">rk</a></code>, <code><a href="maxima_111.html#desolve">desolve</a></code> and 
<code><a href="maxima_111.html#ode2">ode2</a></code>.
</p>
<p>Users of wxMaxima or Imaxima may optionally use <code>wxdrawdf</code>, which
is identical to <code>drawdf</code> except that the graphics are drawn
within the notebook using <code>wxdraw</code>.
</p>
<p>To make use of this function, write first <code>load(&quot;drawdf&quot;)</code>.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;drawdf&quot;)$
(%i2) drawdf(exp(-x)+y)$        /* default vars: x,y */
(%i3) drawdf(exp(-t)+y, [t,y])$ /* default range: [-10,10] */
(%i4) drawdf([y,-9*sin(x)-y/5], [x,1,5], [y,-2,2])$
</pre></div>

<p>For backward compatibility, <code>drawdf</code> accepts
most of the parameters supported by plotdf.
</p>
<div class="example">
<pre class="example">(%i5) drawdf(2*cos(t)-1+y, [t,y], [t,-5,10], [y,-4,9],
             [trajectory_at,0,0])$
</pre></div>

<p><code>soln_at</code> and <code>solns_at</code> draw solution curves
passing through the specified points, using a slightly
enhanced 4th-order Runge Kutta numerical integrator.
</p>
<div class="example">
<pre class="example">(%i6) drawdf(2*cos(t)-1+y, [t,-5,10], [y,-4,9],
             solns_at([0,0.1],[0,-0.1]),
             color=blue, soln_at(0,0))$
</pre></div>

<p><code>field_degree=2</code> causes the field to be composed of quadratic
splines, based on the first and second derivatives at each grid point.
<code>field_grid=[</code><var>COLS</var>,<var>ROWS</var><code>]</code> specifies the number
of columns and rows in the grid.
</p>
<div class="example">
<pre class="example">(%i7) drawdf(2*cos(t)-1+y, [t,-5,10], [y,-4,9],
             field_degree=2, field_grid=[20,15],
             solns_at([0,0.1],[0,-0.1]),
             color=blue, soln_at(0,0))$
</pre></div>

<p><code>soln_arrows=true</code> adds arrows to the solution curves, and (by
default) removes them from the direction field.  It also changes the
default colors to emphasize the solution curves.
</p>
<div class="example">
<pre class="example">(%i8) drawdf(2*cos(t)-1+y, [t,-5,10], [y,-4,9],
             soln_arrows=true,
             solns_at([0,0.1],[0,-0.1],[0,0]))$
</pre></div>

<p><code>duration=40</code> specifies the time duration of numerical
integration (default 10).  Integration will also stop automatically if
the solution moves too far away from the plotted region, or if the
derivative becomes complex or infinite.  Here we also specify
<code>field_degree=2</code> to plot quadratic splines.  The equations below
model a predator-prey system.
</p>
<div class="example">
<pre class="example">(%i9) drawdf([x*(1-x-y), y*(3/4-y-x/2)], [x,0,1.1], [y,0,1],
             field_degree=2, duration=40,
             soln_arrows=true, point_at(1/2,1/2),
             solns_at([0.1,0.2], [0.2,0.1], [1,0.8], [0.8,1],
                      [0.1,0.1], [0.6,0.05], [0.05,0.4],
                      [1,0.01], [0.01,0.75]))$
</pre></div>

<p><code>field_degree='solns</code> causes the field to be composed
of many small solution curves computed by 4th-order
Runge Kutta, with better results in this case.
</p>
<div class="example">
<pre class="example">(%i10) drawdf([x*(1-x-y), y*(3/4-y-x/2)], [x,0,1.1], [y,0,1],
              field_degree='solns, duration=40,
              soln_arrows=true, point_at(1/2,1/2),
              solns_at([0.1,0.2], [0.2,0.1], [1,0.8],
                       [0.8,1], [0.1,0.1], [0.6,0.05],
                       [0.05,0.4], [1,0.01], [0.01,0.75]))$
</pre></div>

<p><code>saddles_at</code> attempts to automatically linearize the equation at
each saddle, and to plot a numerical solution corresponding to each
eigenvector, including the separatrices.  <code>tstep=0.05</code> specifies
the maximum time step for the numerical integrator (the default is
0.1).  Note that smaller time steps will sometimes be used in order to
keep the x and y steps small.  The equations below model a damped
pendulum.
</p>
<div class="example">
<pre class="example">(%i11) drawdf([y,-9*sin(x)-y/5], tstep=0.05,
              soln_arrows=true, point_size=0.5,
              points_at([0,0], [2*%pi,0], [-2*%pi,0]),
              field_degree='solns,
              saddles_at([%pi,0], [-%pi,0]))$
</pre></div>

<p><code>show_field=false</code> suppresses the field entirely.
</p>
<div class="example">
<pre class="example">(%i12) drawdf([y,-9*sin(x)-y/5], tstep=0.05,
              show_field=false, soln_arrows=true,
              point_size=0.5,
              points_at([0,0], [2*%pi,0], [-2*%pi,0]),
              saddles_at([3*%pi,0], [-3*%pi,0],
                         [%pi,0], [-%pi,0]))$
</pre></div>

<p><code>drawdf</code> passes all unrecognized parameters to <code>draw2d</code> or
<code>gr2d</code>, allowing you to combine the full power of the <code>draw</code>
package with <code>drawdf</code>.
</p>
<div class="example">
<pre class="example">(%i13) drawdf(x^2+y^2, [x,-2,2], [y,-2,2], field_color=gray,
              key=&quot;soln 1&quot;, color=black, soln_at(0,0),
              key=&quot;soln 2&quot;, color=red, soln_at(0,1),
              key=&quot;isocline&quot;, color=green, line_width=2,
              nticks=100, parametric(cos(t),sin(t),t,0,2*%pi))$
</pre></div>

<p><code>drawdf</code> accepts nested lists of graphic options and objects,
allowing convenient use of makelist and other function calls to
generate graphics.
</p>
<div class="example">
<pre class="example">(%i14) colors : ['red,'blue,'purple,'orange,'green]$
(%i15) drawdf([x-x*y/2, (x*y - 3*y)/4],
              [x,2.5,3.5], [y,1.5,2.5],
              field_color = gray,
              makelist([ key   = concat(&quot;soln&quot;,k),
                         color = colors[k],
                         soln_at(3, 2 + k/20) ],
                       k,1,5))$
</pre></div>

<div class=categorybox>
Categories:<a href="maxima_424.html#Category_003a-Package-drawdf">Package drawdf</a>
&middot;</div>
</dd></dl>


<hr>
<div class="header">
<p>
Previous: <a href="maxima_254.html#Introduction-to-drawdf" accesskey="p" rel="previous">Introduction to drawdf</a>, Up: <a href="maxima_253.html#drawdf_002dpkg" accesskey="u" rel="up">drawdf-pkg</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_423.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
