$wnd.web.runAsyncCallback11('function XFi(){}\nfunction YFi(){YFi=zhc;WFi=new XFi}\nvar WFi;yhc(6528,1,r3l,XFi);_.dh=function(){return \'multiplayer\'};_.eh=function(){var a;a=new J5c;a.a+=\'/*! For license information please see multiplayer.js.LICENSE.txt */\\n(()=>{var e={"../node_modules/@opentelemetry/api/build/esm/api/context.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ContextAPI:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js"),o=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),i=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a="context",l=new n.NoopContextManager,c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,o.registerGlobal)(a,e,s.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(n=this._getContextManager()).with.apply(n,i([e,t,r],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,o.getGlobal)(a)||l},e.prototype.disable=function(){this._getContextManager().disable(),(0,o.unregisterGlobal)(a,s.DiagAPI.instance())},e}()},"../node_modules/@opentelemetry/api/build/esm/api/diag.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagAPI:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js"),o=r("../node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js"),s=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js"),i=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),a=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(0,i.getGlobal)("diag");if(n)return n[e].apply(n,t)}}var t=this;t.setLogger=function(e,r){var n,a;if(void 0===r&&(r=s.DiagLogLevel.INFO),e===t){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=l.stack)&&void 0!==n?n:l.message),!1}var c=(0,i.getGlobal)("diag"),u=(0,o.createLogLevelDiagLogger)(r,e);if(c){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+d),u.warn("Current logger will overwrite one already registered from "+d)}return(0,i.registerGlobal)("diag",u,t,!0)},t.disable=function(){(0,i.unregisterGlobal)("diag",t)},t.createComponentLogger=function(e){return new n.DiagComponentLogger(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},"../node_modules/@opentelemetry/api/build/esm/api/propagation.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PropagationAPI:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js"),s=r("../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js"),i=r("../node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js"),a=r("../node_modules/@opentelemetry/api/build/esm/baggage/utils.js"),l=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),c="propagation",u=new o.NoopTextMapPropagator,d=function(){function e(){this.createBaggage=a.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.registerGlobal)(c,e,l.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=s.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=s.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.unregisterGlobal)(c,l.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.getGlobal)(c)||u},e}()},"../node_modules/@opentelemetry/api/build/esm/api/trace.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceAPI:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),i=r("../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js"),a=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),l="trace",c=function(){function e(){this._proxyTracerProvider=new o.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.registerGlobal)(l,this._proxyTracerProvider,a.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.getGlobal)(l)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.unregisterGlobal)(l,a.DiagAPI.instance()),this._proxyTracerProvider=new o.ProxyTracerProvider},e}()},"../node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteBaggage:()=>i,getBaggage:()=>o,setBaggage:()=>s});var n=(0,r("../node_modules/@opentelemetry/api/build/esm/context/context.js").createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(n)||void 0}function s(e,t){return e.setValue(n,t)}function i(e){return e.deleteValue(n)}},"../node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaggageImpl:()=>n});var n=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),o=0,s=t;o<s.length;o++){var i=s[o];n._entries.delete(i)}return n},e.prototype.clear=function(){return new e},e}()},"../node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{baggageEntryMetadataSymbol:()=>n});var n=Symbol("BaggageEntryMetadata")},"../node_modules/@opentelemetry/api/build/esm/baggage/types.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/baggage/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{baggageEntryMetadataFromString:()=>l,createBaggage:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),o=r("../node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js"),s=r("../node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js"),i=n.DiagAPI.instance();function a(e){return void 0===e&&(e={}),new o.BaggageImpl(new Map(Object.entries(e)))}function l(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:function(){return e}}}},"../node_modules/@opentelemetry/api/build/esm/common/Exception.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/common/Time.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopContextManager:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),o=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},s=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,t,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return t.call.apply(t,o([r],n))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()},"../node_modules/@opentelemetry/api/build/esm/context/context.js":(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.r(t),r.d(t,{ROOT_CONTEXT:()=>o,createContextKey:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},"../node_modules/@opentelemetry/api/build/esm/context/types.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagComponentLogger:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("verbose",this._namespace,e)},e}();function s(e,t,r){var o=(0,n.getGlobal)("diag");if(o)return r.unshift(t),o[e].apply(o,r)}},"../node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>o});var n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],o=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<n.length;t++)this[n[t].n]=e(n[t].c)}},"../node_modules/@opentelemetry/api/build/esm/diag/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>n.DiagConsoleLogger,DiagLogLevel:()=>o.DiagLogLevel});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js"),o=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js")},"../node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createLogLevelDiagLogger:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js");function o(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},"../node_modules/@opentelemetry/api/build/esm/diag/types.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{DiagLogLevel:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>o.DiagConsoleLogger,DiagLogLevel:()=>o.DiagLogLevel,INVALID_SPANID:()=>m.INVALID_SPANID,INVALID_SPAN_CONTEXT:()=>m.INVALID_SPAN_CONTEXT,INVALID_TRACEID:()=>m.INVALID_TRACEID,ProxyTracer:()=>i.ProxyTracer,ProxyTracerProvider:()=>a.ProxyTracerProvider,ROOT_CONTEXT:()=>h.ROOT_CONTEXT,SamplingDecision:()=>l.SamplingDecision,SpanKind:()=>c.SpanKind,SpanStatusCode:()=>u.SpanStatusCode,TraceFlags:()=>d.TraceFlags,baggageEntryMetadataFromString:()=>n.baggageEntryMetadataFromString,context:()=>b,createContextKey:()=>h.createContextKey,default:()=>v,defaultTextMapGetter:()=>s.defaultTextMapGetter,defaultTextMapSetter:()=>s.defaultTextMapSetter,diag:()=>T,isSpanContextValid:()=>p.isSpanContextValid,isValidSpanId:()=>p.isValidSpanId,isValidTraceId:()=>p.isValidTraceId,propagation:()=>S,trace:()=>y});r("../node_modules/@opentelemetry/api/build/esm/baggage/types.js");var n=r("../node_modules/@opentelemetry/api/build/esm/baggage/utils.js"),o=(r("../node_modules/@opentelemetry/api/build/esm/common/Exception.js"),r("../node_modules/@opentelemetry/api/build/esm/common/Time.js"),r("../node_modules/@opentelemetry/api/build/esm/diag/index.js")),s=r("../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js"),i=(r("../node_modules/@opentelemetry/api/build/esm/trace/attributes.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/link.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js")),a=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js"),l=(r("../node_modules/@opentelemetry/api/build/esm/trace/Sampler.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js")),c=(r("../node_modules/@opentelemetry/api/build/esm/trace/span_context.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js")),u=(r("../node_modules/@opentelemetry/api/build/esm/trace/span.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/SpanOptions.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/status.js")),d=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),p=(r("../node_modules/@opentelemetry/api/build/esm/trace/trace_state.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/tracer_provider.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/tracer.js"),r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js")),m=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),h=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),_=(r("../node_modules/@opentelemetry/api/build/esm/context/types.js"),r("../node_modules/@opentelemetry/api/build/esm/api/context.js")),f=r("../node_modules/@opentelemetry/api/build/esm/api/trace.js"),g=r("../node_modules/@opentelemetry/api/build/esm/api/propagation.js"),E=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),b=_.ContextAPI.getInstance(),y=f.TraceAPI.getInstance(),S=g.PropagationAPI.getInstance(),T=E.DiagAPI.instance();const v={trace:y,context:b,propagation:S,diag:T}},"../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getGlobal:()=>u,registerGlobal:()=>c,unregisterGlobal:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/platform/browser/index.js"),o=r("../node_modules/@opentelemetry/api/build/esm/version.js"),s=r("../node_modules/@opentelemetry/api/build/esm/internal/semver.js"),i=o.VERSION.split(".")[0],a=Symbol.for("opentelemetry.js.api."+i),l=n._globalThis;function c(e,t,r,n){var s;void 0===n&&(n=!1);var i=l[a]=null!==(s=l[a])&&void 0!==s?s:{version:o.VERSION};if(!n&&i[e]){var c=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(c.stack||c.message),!1}if(i.version!==o.VERSION){c=new Error("@opentelemetry/api: All API registration versions must match");return r.error(c.stack||c.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o.VERSION+"."),!0}function u(e){var t,r,n=null===(t=l[a])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=l[a])||void 0===r?void 0:r[e]}function d(e,t){t.debug("@op\';a.a+=\'entelemetry/api: Unregistering a global for "+e+" v"+o.VERSION+".");var r=l[a];r&&delete r[e]}},"../node_modules/@opentelemetry/api/build/esm/internal/semver.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_makeCompatibilityCheck:()=>s,isCompatible:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/version.js"),o=/^(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(-(.+))?$/;function s(e){var t=new Set([e]),r=new Set,n=e.match(o);if(!n)return function(){return!1};var s=+n[1],i=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function l(e){return r.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(o);if(!n)return l(e);var u=+n[1],d=+n[2],p=+n[3];return null!=n[4]||s!==u?l(e):0===s?i===d&&a<=p?c(e):l(e):i<=d?c(e):l(e)}}var i=s(n.VERSION)},"../node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{}},"../node_modules/@opentelemetry/api/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n._globalThis});var n=r("../node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js")},"../node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTextMapPropagator:()=>n});var n=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}()},"../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{defaultTextMapGetter:()=>n,defaultTextMapSetter:()=>o});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,r){null!=e&&(e[t]=r)}}},"../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NonRecordingSpan:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),o=function(){function e(e){void 0===e&&(e=n.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTracer:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/api/context.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),i=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),a=n.ContextAPI.getInstance(),l=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(Boolean(null==t?void 0:t.root))return new s.NonRecordingSpan;var n,a=r&&(0,o.getSpanContext)(r);return"object"==typeof(n=a)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,i.isSpanContextValid)(a)?new s.NonRecordingSpan(a):new s.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,n){var s,i,l;if(!(arguments.length<2)){2===arguments.length?l=t:3===arguments.length?(s=t,l=r):(s=t,i=r,l=n);var c=null!=i?i:a.active(),u=this.startSpan(e,s,c),d=(0,o.setSpan)(c,u);return a.with(d,l,void 0,u)}},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTracerProvider:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js"),o=function(){function e(){}return e.prototype.getTracer=function(e,t){return new n.NoopTracer},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProxyTracer:()=>o});var n=new(r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js").NoopTracer),o=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):n},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProxyTracerProvider:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js"),o=new(r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js").NoopTracerProvider),s=function(){function e(){}return e.prototype.getTracer=function(e,t){var r;return null!==(r=this.getDelegateTracer(e,t))&&void 0!==r?r:new n.ProxyTracer(this,e,t)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/Sampler.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/SpanOptions.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/attributes.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteSpan:()=>l,getSpan:()=>i,getSpanContext:()=>u,setSpan:()=>a,setSpanContext:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(s)||void 0}function a(e,t){return e.setValue(s,t)}function l(e){return e.deleteValue(s)}function c(e,t){return a(e,new o.NonRecordingSpan(t))}function u(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}},"../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{INVALID_SPANID:()=>o,INVALID_SPAN_CONTEXT:()=>i,INVALID_TRACEID:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),o="0000000000000000",s="00000000000000000000000000000000",i={traceId:s,spanId:o,traceFlags:n.TraceFlags.NONE}},"../node_modules/@opentelemetry/api/build/esm/trace/link.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/span.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/span_context.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SpanKind:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isSpanContextValid:()=>c,isValidSpanId:()=>l,isValidTraceId:()=>a,wrapSpanContext:()=>u});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),s=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==n.INVALID_TRACEID}function l(e){return i.test(e)&&e!==n.INVALID_SPANID}function c(e){return a(e.traceId)&&l(e.spanId)}function u(e){return new o.NonRecordingSpan(e)}},"../node_modules/@opentelemetry/api/build/esm/trace/status.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SpanStatusCode:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{TraceFlags:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/trace_state.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/tracer.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/trace/tracer_provider.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/api/build/esm/version.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>n});var n="1.0.4"},"../node_modules/@opentelemetry/core/build/esm/ExportResult.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{ExportResultCode:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/baggage/constants.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BAGGAGE_HEADER:()=>i,BAGGAGE_ITEMS_SEPARATOR:()=>s,BAGGAGE_KEY_PAIR_SEPARATOR:()=>n,BAGGAGE_MAX_NAME_VALUE_PAIRS:()=>a,BAGGAGE_MAX_PER_NAME_VALUE_PAIRS:()=>l,BAGGAGE_MAX_TOTAL_LENGTH:()=>c,BAGGAGE_PROPERTIES_SEPARATOR:()=>o});var n="=",o=";",s=",",i="baggage",a=180,l=4096,c=8192},"../node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{W3CBaggagePropagator:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),s=r("../node_modules/@opentelemetry/core/build/esm/baggage/constants.js"),i=r("../node_modules/@opentelemetry/core/build/esm/baggage/utils.js"),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.propagation.getBaggage(e);if(a&&!(0,o.isTracingSuppressed)(e)){var l=(0,i.getKeyPairs)(a).filter((function(e){return e.length<=s.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS})).slice(0,s.BAGGAGE_MAX_NAME_VALUE_PAIRS),c=(0,i.serializeKeyPairs)(l);c.length>0&&r.set(t,s.BAGGAGE_HEADER,c)}},e.prototype.extract=function(e,t,r){var o=r.get(t,s.BAGGAGE_HEADER),a=Array.isArray(o)?o.join(s.BAGGAGE_ITEMS_SEPARATOR):o;if(!a)return e;var l={};return 0===a.length?e:(a.split(s.BAGGAGE_ITEMS_SEPARATOR).forEach((function(e){var t=(0,i.parsePairKeyValue)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),l[t.key]=r}})),0===Object.entries(l).length?e:n.propagation.setBaggage(e,n.propagation.createBaggage(l)))},e.prototype.fields=function(){return[s.BAGGAGE_HEADER]},e}()},"../node_modules/@opentelemetry/core/build/esm/baggage/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>c,parsePairKeyValue:()=>l,serializeKeyPairs:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/baggage/constants.js"),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){return e.reduce((function(e,t){var r=""+e+(""!==e?o.BAGGAGE_ITEMS_SEPARATOR:"")+t;return r.length>o.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")}function a(e){return e.getAllEntries().map((function(e){var t=s(e,2),r=t[0],n=t[1],i=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(i+=o.BAGGAGE_PROPERTIES_SEPARATOR+n.metadata.toString()),i}))}function l(e){var t=e.split(o.BAGGAGE_PROPERTIES_SEPARATOR);if(!(t.length<=0)){var r=t.shift();if(r){var s=r.split(o.BAGGAGE_KEY_PAIR_SEPARATOR);if(2===s.length){var i,a=decodeURIComponent(s[0].trim()),l=decodeURIComponent(s[1].trim());return t.length>0&&(i=(0,n.baggageEntryMetadataFromString)(t.join(o.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:l,metadata:i}}}}}function c(e){return"string"!=typeof e||0===e.length?{}:e.split(o.BAGGAGE_ITEMS_SEPARATOR).map((function(e){return l(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},"../node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnchoredClock:()=>n});var n=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}()},"../node_modules/@opentelemetry/core/build/esm/common/attributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isAttributeKey:()=>a,isAttributeValue:()=>l,sanitizeAttributes:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){var t,r,i={};if("object"!=typeof e||null==e)return i;try{for(var c=o(Object.entries(e)),u=c.next();!u.done;u=c.next()){var d=s(u.value,2),p=d[0],m=d[1];a(p)?l(m)?Array.isArray(m)?i[p]=m.slice():i[p]=m:n.diag.warn("Invalid attribute value set for key: "+p):n.diag.warn("Invalid attribute key: "+p)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return i}function a(e){return"string"==typeof e&&e.length>0}function l(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var s=o(e),i=s.next();!i.done;i=s.next()){var a=i.value;if(null!=a){if(!n){if(c(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return!0}(e):c(e))}function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},"../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{globalErrorHandler:()=>s,setGlobalErrorHandler:()=>o});var n=(0,r("../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js").loggingErrorHandler)();function o(e){n=e}function s(e){try{n(e)}catch(e){}}},"../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{loggingErrorHandler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js");function o(){return function(e){n.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){var t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}},"../node_modules/@opentelemetry/core/build/esm/common/time.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{hrTime:()=>a,hrTimeDuration:()=>c,hrTimeToMicroseconds:()=>m,hrTimeToMilliseconds:()=>p,hrTimeToNanoseconds:()=>d,hrTimeToTimeStamp:()=>u,isTimeInput:()=>_,isTimeInputHrTime:()=>h,timeInputToHrTime:()=>l});var n=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/index.js"),o=Math.pow(10,9);function s(e){var t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*o]}function i(){var e=n.otperformance.timeOrigin;if("number"!=typeof e){var t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function a(e){var t=s(i()),r=s("number"==typeof e?e:n.otperformance.now()),a=t[0]+r[0],l=t[1]+r[1];return l>o&&(l-=o,a+=1),[a,l]}function l(e){if(h(e))return e;if("number"==typeof e)return e<i()?a(e):s(e);if(e instanceof Date)return \';a.a+=\'s(e.getTime());throw TypeError("Invalid input type")}function c(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=o),[r,n]}function u(e){var t=""+"0".repeat(9)+e[1]+"Z",r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)}function d(e){return e[0]*o+e[1]}function p(e){return Math.round(1e3*e[0]+e[1]/1e6)}function m(e){return Math.round(1e6*e[0]+e[1]/1e3)}function h(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function _(e){return h(e)||"number"==typeof e||e instanceof Date}},"../node_modules/@opentelemetry/core/build/esm/common/types.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/core/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>f.AlwaysOffSampler,AlwaysOnSampler:()=>g.AlwaysOnSampler,AnchoredClock:()=>o.AnchoredClock,BindOnceFuture:()=>C.BindOnceFuture,CompositePropagator:()=>m.CompositePropagator,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>T.DEFAULT_ATTRIBUTE_COUNT_LIMIT,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>T.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,DEFAULT_ENVIRONMENT:()=>T.DEFAULT_ENVIRONMENT,ExportResultCode:()=>c.ExportResultCode,ParentBasedSampler:()=>E.ParentBasedSampler,RPCType:()=>_.RPCType,RandomIdGenerator:()=>p.RandomIdGenerator,SDK_INFO:()=>p.SDK_INFO,TRACE_PARENT_HEADER:()=>h.TRACE_PARENT_HEADER,TRACE_STATE_HEADER:()=>h.TRACE_STATE_HEADER,TraceIdRatioBasedSampler:()=>b.TraceIdRatioBasedSampler,TraceState:()=>S.TraceState,TracesSamplerValues:()=>A.TracesSamplerValues,VERSION:()=>u.VERSION,W3CBaggagePropagator:()=>n.W3CBaggagePropagator,W3CTraceContextPropagator:()=>h.W3CTraceContextPropagator,_globalThis:()=>p._globalThis,baggageUtils:()=>d,deleteRPCMetadata:()=>_.deleteRPCMetadata,getEnv:()=>p.getEnv,getEnvWithoutDefaults:()=>T.getEnvWithoutDefaults,getRPCMetadata:()=>_.getRPCMetadata,globalErrorHandler:()=>i.globalErrorHandler,hexToBase64:()=>p.hexToBase64,hrTime:()=>l.hrTime,hrTimeDuration:()=>l.hrTimeDuration,hrTimeToMicroseconds:()=>l.hrTimeToMicroseconds,hrTimeToMilliseconds:()=>l.hrTimeToMilliseconds,hrTimeToNanoseconds:()=>l.hrTimeToNanoseconds,hrTimeToTimeStamp:()=>l.hrTimeToTimeStamp,isAttributeKey:()=>s.isAttributeKey,isAttributeValue:()=>s.isAttributeValue,isTimeInput:()=>l.isTimeInput,isTimeInputHrTime:()=>l.isTimeInputHrTime,isTracingSuppressed:()=>y.isTracingSuppressed,isUrlIgnored:()=>O.isUrlIgnored,isWrapped:()=>R.isWrapped,loggingErrorHandler:()=>a.loggingErrorHandler,merge:()=>v.merge,otperformance:()=>p.otperformance,parseEnvironment:()=>T.parseEnvironment,parseTraceParent:()=>h.parseTraceParent,sanitizeAttributes:()=>s.sanitizeAttributes,setGlobalErrorHandler:()=>i.setGlobalErrorHandler,setRPCMetadata:()=>_.setRPCMetadata,suppressTracing:()=>y.suppressTracing,timeInputToHrTime:()=>l.timeInputToHrTime,unrefTimer:()=>p.unrefTimer,unsuppressTracing:()=>y.unsuppressTracing,urlMatches:()=>O.urlMatches});var n=r("../node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js"),o=r("../node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js"),s=r("../node_modules/@opentelemetry/core/build/esm/common/attributes.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),a=r("../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js"),l=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),c=(r("../node_modules/@opentelemetry/core/build/esm/common/types.js"),r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js")),u=r("../node_modules/@opentelemetry/core/build/esm/version.js"),d=r("../node_modules/@opentelemetry/core/build/esm/baggage/utils.js"),p=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/index.js"),m=r("../node_modules/@opentelemetry/core/build/esm/propagation/composite.js"),h=r("../node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js"),_=(r("../node_modules/@opentelemetry/core/build/esm/trace/IdGenerator.js"),r("../node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js")),f=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js"),g=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js"),E=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js"),b=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js"),y=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),S=r("../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js"),T=r("../node_modules/@opentelemetry/core/build/esm/utils/environment.js"),v=r("../node_modules/@opentelemetry/core/build/esm/utils/merge.js"),A=r("../node_modules/@opentelemetry/core/build/esm/utils/sampling.js"),O=r("../node_modules/@opentelemetry/core/build/esm/utils/url.js"),R=r("../node_modules/@opentelemetry/core/build/esm/utils/wrap.js"),C=r("../node_modules/@opentelemetry/core/build/esm/utils/callback.js")},"../node_modules/@opentelemetry/core/build/esm/internal/validators.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateKey:()=>i,validateValue:()=>a});var n=new RegExp("^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function i(e){return n.test(e)}function a(e){return o.test(e)&&!s.test(e)}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/RandomIdGenerator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>n});var n=function(){this.generateTraceId=s(16),this.generateSpanId=s(8)},o=Array(32);function s(e){return function(){for(var t=0;t<2*e;t++)o[t]=Math.floor(16*Math.random())+48,o[t]>=58&&(o[t]+=39);return String.fromCharCode.apply(null,o.slice(0,2*e))}}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getEnv:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/environment.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js");function s(){var e=(0,n.parseEnvironment)(o._globalThis);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/hex-to-base64.js":(e,t,r)=>{"use strict";function n(e){for(var t=e.length,r="",n=0;n<t;n+=2){var o=e.substring(n,n+2),s=parseInt(o,16);r+=String.fromCharCode(s)}return btoa(r)}r.r(t),r.d(t,{hexToBase64:()=>n})},"../node_modules/@opentelemetry/core/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>i.RandomIdGenerator,SDK_INFO:()=>l.SDK_INFO,_globalThis:()=>o._globalThis,getEnv:()=>n.getEnv,hexToBase64:()=>s.hexToBase64,otperformance:()=>a.otperformance,unrefTimer:()=>c.unrefTimer});var n=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/hex-to-base64.js"),i=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/RandomIdGenerator.js"),a=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js"),l=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/sdk-info.js"),c=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/timer-util.js")},"../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{otperformance:()=>n});var n=performance},"../node_modules/@opentelemetry/core/build/esm/platform/browser/sdk-info.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDK_INFO:()=>i});var n,o=r("../node_modules/@opentelemetry/core/build/esm/version.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),i=((n={})[s.SemanticResourceAttributes.TELEMETRY_SDK_NAME]="opentelemetry",n[s.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",n[s.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=s.TelemetrySdkLanguageValues.WEBJS,n[s.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=o.VERSION,n)},"../node_modules/@opentelemetry/core/build/esm/platform/browser/timer-util.js":(e,t,r)=>{"use strict";function n(e){}r.r(t),r.d(t,{unrefTimer:()=>n})},"../node_modules/@opentelemetry/core/build/esm/propagation/composite.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompositePropagator:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var s,i;try{for(var a=o(this._propagators),l=a.next();!l.done;l=a.next()){var c=l.value;try{c.inject(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){s={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+o.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/IdGenerator.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceState:()=>o});var n=r("../node_modules/@opentelemetry/core/build/esm/internal/validators.js"),o=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),o=r.indexOf("=");if(-1!==o){var s=r.slice(0,o),i=r.slice(o+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(i)&&e.set(s,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TRACE_PARENT_HEADER:()=>i,TRACE_STATE_HEADER:()=>a,W3CTraceContextPropagator:()=>u,parseTraceParent:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),s=r("../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js"),i="traceparent",a="tracestate",l=new RegExp("^\\\\\\\\s?((?!ff)[\\\\\\\\da-f]{2})-((?![0]{32})[\\\\\\\\da-f]{32})-((?![0]{16})[\\\\\\\\da-f]{16})-([\\\\\\\\da-f]{2})(-.*)?\\\\\\\\s?$");function c(e){var t=l.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var u=function(){function e(){}return e.prototype.inject=function(e,t,r){var s=n.trace.getSpanContext(e);if(s&&!(0,o.isTracingSuppressed)(e)&&(0,n.isSpanContextValid)(s)){var l="00-"+s.traceId+"-"+s.spanId+"-0"+Number(s.traceFlags||n.TraceFlags.NONE).toString(16);r.set(t,i,l),s.traceState&&r.set(t,a,s.traceState.serialize())}},e.prototype.extract=function(e,t,r){var o=r.get(t,i);if(!o)return e;var l=Array.isArray(o)?o[0]:o;if("string"!=typeof l)return e;var u=c(l);if(!u)return e;u.isRemote=!0;var d=r.get(t,a);if(d){var p=Array.isArray(d)?d.join(","):d;u.traceState=new s.TraceState("string"==typeof p?p:void 0)}return n.trace.setSpanContext(e,u)},e.prototype.fields=function(){return[i,a]},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RPCType:()=>n,deleteRPCMetadata:()=>i,getRPCMetadata:()=>a,setRPCMetadata:()=>s});var n,o=(0,r("../node_modules/@opentelemetry/api/build/esm/index.js").createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");function s(e,t){return e.setValue(o,t)}function i(e){return e.deleteValue(o)}function a(e){return e.getValue(o)}!function(e){e.HTTP="http"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),s=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js"),i=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js"),a=function(){function e(e){var t,r,n,a;this._root=e.root,this._root||((0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new s.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new s.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,o,s,i){var a=n.trace.getSpanContext(e);return a&&(0,n.isSpanContextValid)(a)?a.isRemote?a.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,o,s,i):this._remoteParentNotSampled.shouldSample(e,t,r,o,s,i):a.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,o,s,i):this._localParentNotSampled.shouldSample(e,t,r,o,s,i):this._root.shouldSample(e,t,r,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RE\';a.a+=\'CORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isTracingSuppressed:()=>i,suppressTracing:()=>o,unsuppressTracing:()=>s});var n=(0,r("../node_modules/@opentelemetry/api/build/esm/index.js").createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(n,!0)}function s(e){return e.deleteValue(n)}function i(e){return!0===e.getValue(n)}},"../node_modules/@opentelemetry/core/build/esm/utils/callback.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BindOnceFuture:()=>i});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/promise.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n.Deferred}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,s([this._that],o(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},"../node_modules/@opentelemetry/core/build/esm/utils/environment.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>d,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>u,DEFAULT_ENVIRONMENT:()=>p,getEnvWithoutDefaults:()=>E,parseEnvironment:()=>g});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/utils/sampling.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js"),i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function a(e){return i.indexOf(e)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function c(e){return l.indexOf(e)>-1}var u=1/0,d=128,p={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:u,OTEL_ATTRIBUTE_COUNT_LIMIT:d,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:u,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:d,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:o.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function m(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var s=Number(r[e]);isNaN(s)||(t[e]=s<n?n:s>o?o:s)}}function h(e,t,r,n){void 0===n&&(n=",");var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var _={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function f(e,t,r){var n=r[e];if("string"==typeof n){var o=_[n.toUpperCase()];null!=o&&(t[e]=o)}}function g(e){var t={};for(var r in p){var n=r;if("OTEL_LOG_LEVEL"===n)f(n,t,e);else if(a(n))m(n,t,e);else if(c(n))h(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}function E(){return"undefined"!=typeof process?g(process.env):g(s._globalThis)}},"../node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isPlainObject:()=>h});var n,o,s="[object Null]",i="[object Undefined]",a=Function.prototype.toString,l=a.call(Object),c=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))}),u=Object.prototype,d=u.hasOwnProperty,p=Symbol?Symbol.toStringTag:void 0,m=u.toString;function h(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?i:s;return p&&p in Object(e)?function(e){var t=d.call(e,p),r=e[p],n=!1;try{e[p]=void 0,n=!0}catch(e){}var o=m.call(e);n&&(t?e[p]=r:delete e[p]);return o}(e):function(e){return m.call(e)}(e)}(e))return!1;var t=c(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&a.call(r)===l}},"../node_modules/@opentelemetry/core/build/esm/utils/merge.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{merge:()=>o});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js");function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=i(r,e.shift(),0,n);return r}function s(e){return l(e)?e.slice():e}function i(e,t,r,o){var p;if(void 0===r&&(r=0),!(r>20)){if(r++,d(e)||d(t)||c(t))p=s(t);else if(l(e)){if(p=e.slice(),l(t))for(var m=0,h=t.length;m<h;m++)p.push(s(t[m]));else if(u(t))for(m=0,h=(_=Object.keys(t)).length;m<h;m++){p[f=_[m]]=s(t[f])}}else if(u(e))if(u(t)){if(!function(e,t){if(!(0,n.isPlainObject)(e)||!(0,n.isPlainObject)(t))return!1;return!0}(e,t))return t;p=Object.assign({},e);var _;for(m=0,h=(_=Object.keys(t)).length;m<h;m++){var f,g=t[f=_[m]];if(d(g))void 0===g?delete p[f]:p[f]=g;else{var E=p[f],b=g;if(a(e,f,o)||a(t,f,o))delete p[f];else{if(u(E)&&u(b)){var y=o.get(E)||[],S=o.get(b)||[];y.push({obj:e,key:f}),S.push({obj:t,key:f}),o.set(E,y),o.set(b,S)}p[f]=i(p[f],g,r,o)}}}}else p=t;return p}}function a(e,t,r){for(var n=r.get(e[t])||[],o=0,s=n.length;o<s;o++){var i=n[o];if(i.key===t&&i.obj===e)return!0}return!1}function l(e){return Array.isArray(e)}function c(e){return"function"==typeof e}function u(e){return!d(e)&&!l(e)&&!c(e)&&"object"==typeof e}function d(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},"../node_modules/@opentelemetry/core/build/esm/utils/promise.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deferred:()=>n});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}()},"../node_modules/@opentelemetry/core/build/esm/utils/sampling.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{TracesSamplerValues:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/utils/url.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isUrlIgnored:()=>s,urlMatches:()=>o});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(e,t){return"string"==typeof t?e===t:!!e.match(t)}function s(e,t){var r,s;if(!t)return!1;try{for(var i=n(t),a=i.next();!a.done;a=i.next()){if(o(e,a.value))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return!1}},"../node_modules/@opentelemetry/core/build/esm/utils/wrap.js":(e,t,r)=>{"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}r.r(t),r.d(t,{isWrapped:()=>n})},"../node_modules/@opentelemetry/core/build/esm/version.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>n});var n="1.7.0"},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZipkinExporter:()=>o.ZipkinExporter,prepareSend:()=>n.prepareSend});var n=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/index.js"),o=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/zipkin.js")},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{prepareSend:()=>n.prepareSend});var n=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/util.js")},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/util.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{prepareSend:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function a(e,t){var r,a="function"==typeof navigator.sendBeacon&&!t;return t&&(r=s({Accept:"application/json","Content-Type":"application/json"},t)),function(t,s){if(0===t.length)return n.diag.debug("Zipkin send with empty spans"),s({code:o.ExportResultCode.SUCCESS});var l=JSON.stringify(t);a?function(e,t,r){navigator.sendBeacon(r,e)?(n.diag.debug("sendBeacon - can send",e),t({code:o.ExportResultCode.SUCCESS})):t({code:o.ExportResultCode.FAILED,error:new Error("sendBeacon - cannot send "+e)})}(l,s,e):function(e,t,r,s){void 0===s&&(s={});var a=new XMLHttpRequest;a.open("POST",r),Object.entries(s).forEach((function(e){var t=i(e,2),r=t[0],n=t[1];a.setRequestHeader(r,n)})),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var r=a.status||0;return n.diag.debug("Zipkin response status code: "+r+", body: "+e),a.status>=200&&a.status<400?t({code:o.ExportResultCode.SUCCESS}):t({code:o.ExportResultCode.FAILED,error:new Error("Got unexpected status code from zipkin: "+a.status)})}},a.onerror=function(e){return(0,o.globalErrorHandler)(new Error("Zipkin request error: "+e)),t({code:o.ExportResultCode.FAILED})},n.diag.debug("Zipkin request payload: "+e),a.send(e)}(l,s,e,r)}}},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/transform.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_toZipkinAnnotations:()=>m,_toZipkinTags:()=>p,defaultStatusCodeTagName:()=>c,defaultStatusErrorTagName:()=>u,toZipkinSpan:()=>d});var n,o=r("../node_modules/@opentelemetry/api/build/esm/index.js"),s=r("../node_modules/@opentelemetry/core/build/esm/index.js"),i=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/types.js"),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=((n={})[o.SpanKind.CLIENT]=i.SpanKind.CLIENT,n[o.SpanKind.SERVER]=i.SpanKind.SERVER,n[o.SpanKind.CONSUMER]=i.SpanKind.CONSUMER,n[o.SpanKind.PRODUCER]=i.SpanKind.PRODUCER,n[o.SpanKind.INTERNAL]=void 0,n),c="otel.status_code",u="error";function d(e,t,r,n){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:l[e.kind],timestamp:(0,s.hrTimeToMicroseconds)(e.startTime),duration:(0,s.hrTimeToMicroseconds)(e.duration),localEndpoint:{serviceName:t},tags:p(e.attributes,e.status,r,n,e.resource),annotations:e.events.length?m(e.events):void 0}}function p(e,t,r,n,s){var i,l,c={};try{for(var u=a(Object.keys(e)),d=u.next();!d.done;d=u.next()){var p=d.value;c[p]=String(e[p])}}catch(e){i={error:e}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(i)throw i.error}}return t.code!==o.SpanStatusCode.UNSET&&(c[r]=String(o.SpanStatusCode[t.code])),t.code===o.SpanStatusCode.ERROR&&t.message&&(c[n]=t.message),Object.keys(s.attributes).forEach((function(e){return c[e]=String(s.attributes[e])})),c}function m(e){return e.map((function(e){return{timestamp:(0,s.hrTimeToMicroseconds)(e.time),value:e.name}}))}},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/types.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SpanKind:()=>n}),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.CONSUMER="CONSUMER",e.PRODUCER="PRODUCER"}(n||(n={}))},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/utils.js":(e,t,r)=>{"use strict";function n(e){return function(){return e()}}r.r(t),r.d(t,{prepareGetHeaders:()=>n})},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/zipkin.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZipkinExporter:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/index.js"),i=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/transform.js"),a=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),l=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/utils.js"),c=function(){function e(e){void 0===e&&(e={}),this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||(0,o.getEnv)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=(0,s.prepareSend)(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||i.defaultStatusCodeTagName,this._statusDescriptionTagName=e.statusDescriptionTagName||i.defaultStatusErrorTagName,this._isShutdown=!1,"function"==typeof e.getExportRequestHeaders?this._getHeaders=(0,l.prepareGetHeaders)(e.getExportRequestHeaders):this._beforeSend=function(){}}return e.prototype.export=function(e,t){var r=this,s=String(this._serviceName||e[0].resource.attributes[a.SemanticResourceAttributes.SERVICE_NAME]||this.DEFAULT_SERVICE_NAME\';a.a+=\');if(n.diag.debug("Zipkin exporter export"),this._isShutdown)setTimeout((function(){return t({code:o.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")})}));else{var i=new Promise((function(n){r._sendSpans(e,s,(function(e){n(),t(e)}))}));this._sendingPromises.push(i);var l=function(){var e=r._sendingPromises.indexOf(i);r._sendingPromises.splice(e,1)};i.then(l,l)}},e.prototype.shutdown=function(){var e=this;return n.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,new Promise((function(t,r){Promise.all(e._sendingPromises).then((function(){t()}),r)}))},e.prototype._beforeSend=function(){this._getHeaders&&(this._send=(0,s.prepareSend)(this._urlStr,this._getHeaders()))},e.prototype._sendSpans=function(e,t,r){var n=this,o=e.map((function(e){return(0,i.toZipkinSpan)(e,String(e.attributes[a.SemanticResourceAttributes.SERVICE_NAME]||e.resource.attributes[a.SemanticResourceAttributes.SERVICE_NAME]||t),n._statusCodeTagName,n._statusDescriptionTagName)}));return this._beforeSend(),this._send(o,(function(e){if(r)return r(e)}))},e}()},"../node_modules/@opentelemetry/resources/build/esm/Resource.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>i});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/index.js"),i=function(){function e(e){this.attributes=e}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[n.SemanticResourceAttributes.SERVICE_NAME]=(0,s.defaultServiceName)(),t[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],t[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME],t[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION],t))},e.prototype.merge=function(t){return t&&Object.keys(t.attributes).length?new e(Object.assign({},this.attributes,t.attributes)):this},e.EMPTY=new e({}),e}()},"../node_modules/@opentelemetry/resources/build/esm/config.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{browserDetector:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/index.js"),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=new(function(){function e(){}return e.prototype.detect=function(e){return a(this,void 0,void 0,(function(){var t,r;return l(this,(function(n){return"undefined"!=typeof navigator?((r={})[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",r[o.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",r[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]=navigator.userAgent,t=r,[2,this._getResourceAttributes(t,e)]):[2,s.Resource.empty()]}))}))},e.prototype._getResourceAttributes=function(e,t){return""===e[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(n.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),s.Resource.empty()):new s.Resource(i({},e))},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{envDetector:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},d=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){return a(this,void 0,void 0,(function(){var e,t,r,a,c;return l(this,(function(l){if(e={},t=(0,o.getEnv)(),r=t.OTEL_RESOURCE_ATTRIBUTES,a=t.OTEL_SERVICE_NAME,r)try{c=this._parseResourceAttributes(r),Object.assign(e,c)}catch(e){n.diag.debug("EnvDetector failed: "+e.message)}return a&&(e[s.SemanticResourceAttributes.SERVICE_NAME]=a),[2,new i.Resource(e)]}))}))},e.prototype._parseResourceAttributes=function(e){var t,r;if(!e)return{};var n={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=c(o),i=s.next();!i.done;i=s.next()){var a=i.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===a.length){var l=u(a,2),d=l[0],p=l[1];if(d=d.trim(),p=p.trim().split(\\\'^"|"$\\\').join(""),!this._isValidAndNotEmpty(d))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(p))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);n[d]=p}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)},e.prototype._isPrintableString=function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t);if(r<=" "||r>="~")return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopDetector:()=>i,noopDetector:()=>a});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},s=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},i=function(){function e(){}return e.prototype.detect=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return[2,new n.Resource({})]}))}))},e}(),a=new i},"../node_modules/@opentelemetry/resources/build/esm/detectors/ProcessDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processDetector:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=new(function(){function e(){}return e.prototype.detect=function(e){return a(this,void 0,void 0,(function(){var t,r;return l(this,(function(n){return"object"!=typeof process?[2,s.Resource.empty()]:((r={})[o.SemanticResourceAttributes.PROCESS_PID]=process.pid,r[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]=process.title||"",r[o.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]||"",r[o.SemanticResourceAttributes.PROCESS_COMMAND_LINE]=process.argv.join(" ")||"",r[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]=process.versions.node,r[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="nodejs",r[o.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]="Node.js",t=r,[2,this._getResourceAttributes(t,e)])}))}))},e.prototype._getResourceAttributes=function(e,t){return""===e[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[o.SemanticResourceAttributes.PROCESS_COMMAND]||""===e[o.SemanticResourceAttributes.PROCESS_COMMAND_LINE]||""===e[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(n.diag.debug("ProcessDetector failed: Unable to find required process resources. "),s.Resource.empty()):new s.Resource(i({},e))},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{browserDetector:()=>n.browserDetector,envDetector:()=>o.envDetector,processDetector:()=>s.processDetector});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetector.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetector.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/detectors/ProcessDetector.js")},"../node_modules/@opentelemetry/resources/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>n.Resource,browserDetector:()=>s.browserDetector,defaultServiceName:()=>o.defaultServiceName,detectResources:()=>o.detectResources,envDetector:()=>s.envDetector,hostDetector:()=>o.hostDetector,osDetector:()=>o.osDetector,processDetector:()=>s.processDetector});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/index.js"),s=(r("../node_modules/@opentelemetry/resources/build/esm/types.js"),r("../node_modules/@opentelemetry/resources/build/esm/config.js"),r("../node_modules/@opentelemetry/resources/build/esm/detectors/index.js"))},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{hostDetector:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{osDetector:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/default-service-name.js":(e,t,r)=>{"use strict";function n(){return"unknown_service"}r.r(t),r.d(t,{defaultServiceName:()=>n})},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/detect-resources.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{detectResources:()=>a});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=r("../node_modules/@opentelemetry/api/build/esm/index.js"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])thr\';a.a+=\'ow o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},a=function(e){return void 0===e&&(e={}),s(void 0,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return t=Object.assign(e),[4,Promise.all((t.detectors||[]).map((function(e){return s(void 0,void 0,void 0,(function(){var r,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.detect(t)];case 1:return r=i.sent(),o.diag.debug(e.constructor.name+" found resource.",r),[2,r];case 2:return s=i.sent(),o.diag.debug(e.constructor.name+" failed: "+s.message),[2,n.Resource.empty()];case 3:return[2]}}))}))})))];case 1:return[2,r.sent().reduce((function(e,t){return e.merge(t)}),n.Resource.empty())]}}))}))}},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{defaultServiceName:()=>n.defaultServiceName,detectResources:()=>o.detectResources,hostDetector:()=>s.hostDetector,osDetector:()=>i.osDetector});var n=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/default-service-name.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/detect-resources.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetector.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetector.js")},"../node_modules/@opentelemetry/resources/build/esm/types.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BasicTracerProvider:()=>m,ForceFlushState:()=>n});var n,o=r("../node_modules/@opentelemetry/api/build/esm/index.js"),s=r("../node_modules/@opentelemetry/core/build/esm/index.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/index.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js"),l=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js"),c=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js"),u=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js"),d=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js"),p=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js");!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(n||(n={}));var m=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,s.merge)({},(0,l.loadDefaultConfig)(),(0,p.reconfigureLimits)(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:i.Resource.empty(),this.resource=i.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new d.BatchSpanProcessor(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new u.NoopSpanProcessor}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new a.Tracer({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return o.diag.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),o.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&o.context.setGlobalContextManager(e.contextManager),e.propagator&&o.propagation.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var o,s=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),o=n.timeout}),e);t.forceFlush().then((function(){clearTimeout(s),o!==n.timeout&&(o=n.resolved,r(o))})).catch((function(e){clearTimeout(s),o=n.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var o=t.filter((function(e){return e!==n.resolved}));o.length>0?r(o):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,s.getEnv)().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||o.diag.warn(\\\'Propagator "\\\'+t+\\\'" requested through environment variable is unavailable.\\\'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new s.CompositePropagator({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,s.getEnv)().OTEL_TRACES_EXPORTER;if("none"!==e){var t=this._getSpanExporter(e);return t||o.diag.error(\\\'Exporter "\\\'+e+\\\'" requested through environment variable is unavailable.\\\'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new s.W3CTraceContextPropagator}],["baggage",function(){return new s.W3CBaggagePropagator}]]),e._registeredExporters=new Map,e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/IdGenerator.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MultiSpanProcessor:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/index.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var s=o(this._spanProcessors),i=s.next();!i.done;i=s.next()){var a=i.value;r.push(a.forceFlush())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){(0,n.globalErrorHandler)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var s=o(this._spanProcessors),i=s.next();!i.done;i=s.next()){i.value.onStart(e,t)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=o(this._spanProcessors),s=n.next();!s.done;s=n.next()){s.value.onEnd(e)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=o(this._spanProcessors),s=n.next();!s.done;s=n.next()){var i=s.value;r.push(i.shutdown())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Span:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js"),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},c=function(){function e(e,t,r,s,i,a,l,c,u){void 0===l&&(l=[]),void 0===u&&(u=o.otperformance),this.attributes={},this.links=[],this.events=[],this.status={code:n.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this._clock=u,this.name=r,this._spanContext=s,this.parentSpanId=a,this.kind=i,this.links=l,this.startTime=(0,o.timeInputToHrTime)(null!=c?c:u.now()),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(n.diag.warn("Invalid attribute key: "+e),this):(0,o.isAttributeValue)(t)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=this._truncateToSize(t)),this):(n.diag.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=a(Object.entries(e)),o=n.next();!o.done;o=n.next()){var s=l(o.value,2),i=s[0],c=s[1];this.setAttribute(i,c)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return n.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(n.diag.warn("Dropping extra events."),this.events.shift()),(0,o.isTimeInput)(t)&&(void 0===r&&(r=t),t=void 0),void 0===r&&(r=this._clock.now());var s=(0,o.sanitizeAttributes)(t);return this.events.push({name:e,attributes:s,time:(0,o.timeInputToHrTime)(r)}),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?n.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=(0,o.timeInputToHrTime)(null!=e?e:this._clock.now()),this._duration=(0,o.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&n.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){void 0===t&&(t=this._clock.now());var r={};"string"==typeof e?r[s.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?r[s.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[s.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(r[s.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[s.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),r[s.SemanticAttributes.EXCEPTION_TYPE]||r[s.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,r,t):n.diag.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&n.diag.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(n.diag.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/SpanProcessor.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/TimedEvent.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Tracer:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js"),l=function(){function e(e,t,r){this._tracerProvider=r;var n=(0,i.mergeConfig)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new a.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var i,a;void 0===t&&(t={}),void 0===r&&(r=n.context.active()),t.root&&(r=n.trace.deleteSpan(r));var l,c=n.trace.getSpan(r);if(c&&(l=c._clock),l||(l=new o.AnchoredClock(Date,o.otperformance),c&&(c._clock=l)),(0,o.isTracingSuppressed)(r))return n.diag.debug("Instrumentation suppressed, returning Noop Span"),(_=n.trace.wrapSpanContext(n.INVALID_SPAN_CONTEXT))._clock=l,_;var u,d,p,m=null==c?void 0:c.spanContext(),h=this._idGenerator.generateSpanId();m&&n.trace.isSpanContextValid(m)?(u=m.traceId,d=m.traceState,p=m.spanId):u=this._idGenerator.generateTraceId();var _,f=null!==(i=t.kind)&&void 0!==i?i:n.SpanKind.INTERNAL,g=(null!==(a=t.links)&&void 0!==a?a:[]).map((function(e){return{context:e.context,attributes:(0,o.sanitizeAttributes)(e.attributes)}})),E=(0,o.sanitizeAttributes)(t.attributes),b=this._sampler.shouldSample(r,u,e,f,E,g),y={traceId:u,spanId:h,traceFlags:b.decision===n.SamplingDecision.RECORD_AND_SAMPLED?n.TraceFlags.SAMPLED:n.TraceFlags.NONE,traceState:d};if(b.decision===n.SamplingDecision.NOT_RECORD)return n.diag.debug("Recording is off, propagating context in a non-recording span"),(_=n.trace.wrapSpanContext(y))._clock=l,_;var S=new s.Span(this,r,e,y,f,p,g,t.startTime,l),T=(0,o.sanitizeAttributes)(Object.assign(E,b.attributes));return S.setAttributes(T),S},e.prototype.startActiveSpan=function(e,t,r,o){var s,i,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(s=t,a=r):(s=t,i=r,a=o);var l=null!=i?i:n.context.active(),c=this.startSpan(e,s,l),u=n.trace.setSpan(l,c);return n.context.with(u,a,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalL\';a.a+=\'imits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{buildSamplerFromEnv:()=>p,loadDefaultConfig:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js"),l=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js"),c=(0,o.getEnv)(),u=o.TracesSamplerValues.AlwaysOn;function d(){return{sampler:p(c),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}}}function p(e){switch(void 0===e&&(e=(0,o.getEnv)()),e.OTEL_TRACES_SAMPLER){case o.TracesSamplerValues.AlwaysOn:return new i.AlwaysOnSampler;case o.TracesSamplerValues.AlwaysOff:return new s.AlwaysOffSampler;case o.TracesSamplerValues.ParentBasedAlwaysOn:return new a.ParentBasedSampler({root:new i.AlwaysOnSampler});case o.TracesSamplerValues.ParentBasedAlwaysOff:return new a.ParentBasedSampler({root:new s.AlwaysOffSampler});case o.TracesSamplerValues.TraceIdRatio:return new l.TraceIdRatioBasedSampler(m(e));case o.TracesSamplerValues.ParentBasedTraceIdRatio:return new a.ParentBasedSampler({root:new l.TraceIdRatioBasedSampler(m(e))});default:return n.diag.error(\\\'OTEL_TRACES_SAMPLER value "\\\'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+u+\\\'".\\\'),new i.AlwaysOnSampler}}function m(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return n.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):t<0||t>1?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):t}},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ExceptionEventName:()=>n});var n="exception"},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessorBase:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=function(){function e(e,t){this._exporter=e,this._finishedSpans=[];var r=(0,o.getEnv)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,s=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<s;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var s=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);n.context.with((0,o.suppressTracing)(n.context.active()),(function(){e._exporter.export(e._finishedSpans.splice(0,e._maxExportBatchSize),(function(e){var n;clearTimeout(s),e.code===o.ExportResultCode.SUCCESS?t():r(null!==(n=e.error)&&void 0!==n?n:new Error("BatchSpanProcessor: span export failed"))}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){(0,o.globalErrorHandler)(e)}))}),this._scheduledDelayMillis),(0,o.unrefTimer)(this._timer))},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ConsoleSpanExporter:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/index.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),Promise.resolve()},e.prototype._exportInfo=function(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,n.hrTimeToMicroseconds)(e.startTime),duration:(0,n.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,s;try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var l=a.value;console.dir(this._exportInfo(l),{depth:3})}}catch(e){r={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}if(t)return t({code:n.ExportResultCode.SUCCESS})},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InMemorySpanExporter:()=>i});var n=r("../node_modules/@opentelemetry/core/build/esm/index.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,s([],o(e),!1)),setTimeout((function(){return t({code:n.ExportResultCode.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopSpanProcessor:()=>n});var n=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ReadableSpan.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SimpleSpanProcessor:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=function(){function e(e){this._exporter=e,this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this)}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t=this;this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)&&n.context.with((0,o.suppressTracing)(n.context.active()),(function(){t._exporter.export([e],(function(e){var t;e.code!==o.ExportResultCode.SUCCESS&&(0,o.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))}))}))},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SpanExporter.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>u.AlwaysOffSampler,AlwaysOnSampler:()=>d.AlwaysOnSampler,BasicTracerProvider:()=>o.BasicTracerProvider,BatchSpanProcessor:()=>s.BatchSpanProcessor,ConsoleSpanExporter:()=>i.ConsoleSpanExporter,ForceFlushState:()=>o.ForceFlushState,InMemorySpanExporter:()=>a.InMemorySpanExporter,NoopSpanProcessor:()=>c.NoopSpanProcessor,ParentBasedSampler:()=>p.ParentBasedSampler,RandomIdGenerator:()=>s.RandomIdGenerator,SamplingDecision:()=>h.SamplingDecision,SimpleSpanProcessor:()=>l.SimpleSpanProcessor,Span:()=>_.Span,TraceIdRatioBasedSampler:()=>m.TraceIdRatioBasedSampler,Tracer:()=>n.Tracer});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js"),s=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js"),l=(r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ReadableSpan.js"),r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js")),c=(r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SpanExporter.js"),r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js")),u=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),d=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),p=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js"),m=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js"),h=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),_=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js");r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/SpanProcessor.js"),r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/TimedEvent.js"),r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/types.js"),r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/IdGenerator.js")},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/RandomIdGenerator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>n});var n=function(){this.generateTraceId=s(16),this.generateSpanId=s(8)},o=Array(32);function s(e){return function(){for(var t=0;t<2*e;t++)o[t]=Math.floor(16*Math.random())+48,o[t]>=58&&(o[t]+=39);return String.fromCharCode.apply(null,o.slice(0,2*e))}}},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/export/BatchSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessor:()=>i});var n,o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.onInit(r),n}return s(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(o.BatchSpanProcessorBase)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessor:()=>n.BatchSpanProcessor,RandomIdGenerator:()=>o.RandomIdGenerator});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/export/BatchSpanProcessor.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/RandomIdGenerator.js")},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>o});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>o});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js"),s=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),a=function(){function e(e){var t,r,n,a;this._root=e.root,this._root||((0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new s.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void\';a.a+=\' 0!==a?a:new s.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,o,s,i){var a=n.trace.getSpanContext(e);return a&&(0,n.isSpanContextValid)(a)?a.isRemote?a.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,o,s,i):this._remoteParentNotSampled.shouldSample(e,t,r,o,s,i):a.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,o,s,i):this._localParentNotSampled.shouldSample(e,t,r,o,s,i):this._root.shouldSample(e,t,r,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),s=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?o.SamplingDecision.RECORD_AND_SAMPLED:o.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/types.js":(e,t,r)=>{"use strict";r.r(t)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{mergeConfig:()=>s,reconfigureLimits:()=>i});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js"),o=r("../node_modules/@opentelemetry/core/build/esm/index.js");function s(e){var t={sampler:(0,n.buildSamplerFromEnv)()},r=(0,n.loadDefaultConfig)(),o=Object.assign({},r,t,e);return o.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),o}function i(e){var t,r,n,s,i,a,l,c,u,d,p,m,h=Object.assign({},e.spanLimits),_=(0,o.getEnvWithoutDefaults)();return h.attributeCountLimit=null!==(a=null!==(i=null!==(s=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==s?s:_.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:_.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:o.DEFAULT_ATTRIBUTE_COUNT_LIMIT,h.attributeValueLengthLimit=null!==(m=null!==(p=null!==(d=null!==(c=null===(l=e.spanLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==c?c:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==d?d:_.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:_.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==m?m:o.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:h})}},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StackContextManager:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/index.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){this._enabled=!1,this._currentContext=n.ROOT_CONTEXT}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=n.ROOT_CONTEXT);var r=this,o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return r.with(e,(function(){return t.apply(n,o)}))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),o},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=n.ROOT_CONTEXT,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=n.ROOT_CONTEXT),this},e.prototype.with=function(e,t,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var l=this._currentContext;this._currentContext=e||n.ROOT_CONTEXT;try{return t.call.apply(t,s([r],o(i),!1))}finally{this._currentContext=l}},e}()},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/WebTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{WebTracerProvider:()=>a});var n,o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js"),s=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js"),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return r}return i(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new s.StackContextManager),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(o.BasicTracerProvider)},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{PerformanceTimingNames:()=>n}),function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(n||(n={}))},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PerformanceTimingNames:()=>s.PerformanceTimingNames,StackContextManager:()=>o.StackContextManager,WebTracerProvider:()=>n.WebTracerProvider,addSpanNetworkEvent:()=>i.addSpanNetworkEvent,addSpanNetworkEvents:()=>i.addSpanNetworkEvents,getElementXPath:()=>i.getElementXPath,getResource:()=>i.getResource,hasKey:()=>i.hasKey,normalizeUrl:()=>i.normalizeUrl,parseUrl:()=>i.parseUrl,shouldPropagateTraceHeaders:()=>i.shouldPropagateTraceHeaders,sortResources:()=>i.sortResources});var n=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/WebTracerProvider.js"),o=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js"),s=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js"),i=(r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/types.js"),r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/utils.js"))},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/types.js":(e,t,r)=>{"use strict";r.r(t);r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js")},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{addSpanNetworkEvent:()=>l,addSpanNetworkEvents:()=>c,getElementXPath:()=>h,getResource:()=>d,hasKey:()=>a,normalizeUrl:()=>m,parseUrl:()=>p,shouldPropagateTraceHeaders:()=>_,sortResources:()=>u});var n,o=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js"),s=r("../node_modules/@opentelemetry/core/build/esm/index.js"),i=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js");function a(e,t){return t in e}function l(e,t,r){if(a(r,t)&&"number"==typeof r[t])return e.addEvent(t,r[t]),e}function c(e,t){l(e,o.PerformanceTimingNames.FETCH_START,t),l(e,o.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),l(e,o.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),l(e,o.PerformanceTimingNames.CONNECT_START,t),l(e,o.PerformanceTimingNames.SECURE_CONNECTION_START,t),l(e,o.PerformanceTimingNames.CONNECT_END,t),l(e,o.PerformanceTimingNames.REQUEST_START,t),l(e,o.PerformanceTimingNames.RESPONSE_START,t),l(e,o.PerformanceTimingNames.RESPONSE_END,t);var r=t[o.PerformanceTimingNames.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH,r);var n=t[o.PerformanceTimingNames.DECODED_BODY_SIZE];void 0!==n&&r!==n&&e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,n)}function u(e){return e.slice().sort((function(e,t){var r=e[o.PerformanceTimingNames.FETCH_START],n=t[o.PerformanceTimingNames.FETCH_START];return r>n?1:r<n?-1:0}))}function d(e,t,r,n,i,a){void 0===i&&(i=new WeakSet);var l=p(e),c=function(e,t,r,n,i,a){var l=(0,s.hrTimeToNanoseconds)(t),c=(0,s.hrTimeToNanoseconds)(r),u=n.filter((function(t){var r=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t[o.PerformanceTimingNames.FETCH_START])),n=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t[o.PerformanceTimingNames.RESPONSE_END]));return t.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&t.name===e&&r>=l&&n<=c}));u.length>0&&(u=u.filter((function(e){return!i.has(e)})));return u}(e=l.toString(),t,r,n,i,a);if(0===c.length)return{mainRequest:void 0};if(1===c.length)return{mainRequest:c[0]};var d=u(c);if(l.origin!==location.origin&&d.length>1){var m=d[0],h=function(e,t,r){for(var n,i=(0,s.hrTimeToNanoseconds)(r),a=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t)),l=e[1],c=e.length,u=1;u<c;u++){var d=e[u],p=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(d[o.PerformanceTimingNames.FETCH_START])),m=i-(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(d[o.PerformanceTimingNames.RESPONSE_END]));p>=a&&(!n||m<n)&&(n=m,l=d)}return l}(d,m[o.PerformanceTimingNames.RESPONSE_END],r),_=m[o.PerformanceTimingNames.RESPONSE_END];return h[o.PerformanceTimingNames.FETCH_START]<_&&(h=m,m=void 0),{corsPreFlightRequest:m,mainRequest:h}}return{mainRequest:c[0]}}function p(e){if("function"==typeof URL)return new URL(e,location.href);var t=(n||(n=document.createElement("a")),n);return t.href=e,t}function m(e){return p(e).href}function h(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(e,t){var r=e.nodeType,n=function(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var r=Array.from(e.parentNode.childNodes);if((r=r.filter((function(r){var n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName}))).length>=1)return r.indexOf(e)+1;return 0}(e),o="";if(r===Node.ELEMENT_NODE){var s=e.getAttribute("id");if(t&&s)return\\\'//*[@id="\\\'+s+\\\'"]\\\';o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return"/"+o+"["+n+"]";return"/"+o}(e,t);if(t&&r.indexOf("@id")>0)return r;var n="";return e.parentNode&&(n+=h(e.parentNode,!1)),n+=r}function _(e,t){var r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),p(e).origin===location.origin||r.some((function(t){return(0,s.urlMatches)(e,t)}))}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>o.AwsEcsLaunchtypeValues,CloudPlatformValues:()=>o.CloudPlatformValues,CloudProviderValues:()=>o.CloudProviderValues,DbCassandraConsistencyLevelValues:()=>n.DbCassandraConsistencyLevelValues,DbSystemValues:()=>n.DbSystemValues,FaasDocumentOperationValues:()=>n.FaasDocumentOperationValues,FaasInvokedProviderValues:()=>n.FaasInvokedProviderValues,FaasTriggerValues:()=>n.FaasTriggerValues,HostArchValues:()=>o.HostArchValues,HttpFlavorValues:()=>n.HttpFlavorValues,MessageTypeValues:()=>n.MessageTypeValues,MessagingDestinationKindValues:()=>n.MessagingDestinationKindValues,MessagingOperationValues:()=>n.MessagingOperationValues,NetHostConnectionSubtypeValues:()=>n.NetHostConnectionSubtypeValues,NetHostConnectionTypeValues:()=>n.NetHostConnectionTypeValues,NetTransportValues:()=>n.NetTransportValues,OsTypeValues:()=>o.OsTypeValues,RpcGrpcStatusCodeValues:()=>n.RpcGrpcStatusCodeValues,SemanticAttributes:()=>n.SemanticAttributes,SemanticResourceAttributes:()=>o.SemanticResourceAttributes,TelemetrySdkLanguageValues:()=>o.TelemetrySdkLanguageValues});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/index.js"),o=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/index.js")},"../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>i,CloudPlatformValues:()=>s,CloudProviderValues:()=>o,HostArchValues:()=>a,OsTypeValues:()=>l,SemanticResourceAttributes:()=>n,TelemetrySdkLanguageValues:()=>c});var n={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.comm\';a.a+=\'and_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},o={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},s={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},i={EC2:"ec2",FARGATE:"fargate"},a={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},l={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},c={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>n.AwsEcsLaunchtypeValues,CloudPlatformValues:()=>n.CloudPlatformValues,CloudProviderValues:()=>n.CloudProviderValues,HostArchValues:()=>n.HostArchValues,OsTypeValues:()=>n.OsTypeValues,SemanticResourceAttributes:()=>n.SemanticResourceAttributes,TelemetrySdkLanguageValues:()=>n.TelemetrySdkLanguageValues});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js")},"../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DbCassandraConsistencyLevelValues:()=>s,DbSystemValues:()=>o,FaasDocumentOperationValues:()=>a,FaasInvokedProviderValues:()=>l,FaasTriggerValues:()=>i,HttpFlavorValues:()=>p,MessageTypeValues:()=>f,MessagingDestinationKindValues:()=>m,MessagingOperationValues:()=>h,NetHostConnectionSubtypeValues:()=>d,NetHostConnectionTypeValues:()=>u,NetTransportValues:()=>c,RpcGrpcStatusCodeValues:()=>_,SemanticAttributes:()=>n});var n={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},o={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},s={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},i={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},a={INSERT:"insert",EDIT:"edit",DELETE:"delete"},l={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},c={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},u={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},d={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},p={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},m={QUEUE:"queue",TOPIC:"topic"},h={RECEIVE:"receive",PROCESS:"process"},_={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},f={SENT:"SENT",RECEIVED:"RECEIVED"}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DbCassandraConsistencyLevelValues:()=>n.DbCassandraConsistencyLevelValues,DbSystemValues:()=>n.DbSystemValues,FaasDocumentOperationValues:()=>n.FaasDocumentOperationValues,FaasInvokedProviderValues:()=>n.FaasInvokedProviderValues,FaasTriggerValues:()=>n.FaasTriggerValues,HttpFlavorValues:()=>n.HttpFlavorValues,MessageTypeValues:()=>n.MessageTypeValues,MessagingDestinationKindValues:()=>n.MessagingDestinationKindValues,MessagingOperationValues:()=>n.MessagingOperationValues,NetHostConnectionSubtypeValues:()=>n.NetHostConnectionSubtypeValues,NetHostConnectionTypeValues:()=>n.NetHostConnectionTypeValues,NetTransportValues:()=>n.NetTransportValues,RpcGrpcStatusCodeValues:()=>n.RpcGrpcStatusCodeValues,SemanticAttributes:()=>n.SemanticAttributes});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js")},"../node_modules/debug/src/browser.js":(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\\\/(\\\\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\\\/(\\\\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\\\/(\\\\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r("../node_modules/debug/src/common.js")(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},"../node_modules/debug/src/common.js":(e,t,r)=>{e.exports=function(e){function t(e){let r,o,s,i=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];r=s.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\\\\.\\\\*\\\\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\\\\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\\\\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r("../node_modules/ms/index.js"),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names\';a.a+=\'=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},"../node_modules/ms/index.js":e=>{var t=1e3,r=60*t,n=60*r,o=24*n,s=7*o,i=365.25*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\\\\d+)?\\\\.?\\\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"weeks":case"week":case"w":return l*s;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var s=Math.abs(e);if(s>=o)return a(e,s,o,"day");if(s>=n)return a(e,s,n,"hour");if(s>=r)return a(e,s,r,"minute");if(s>=t)return a(e,s,t,"second");return e+" ms"}(e):function(e){var s=Math.abs(e);if(s>=o)return Math.round(e/o)+"d";if(s>=n)return Math.round(e/n)+"h";if(s>=r)return Math.round(e/r)+"m";if(s>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./event-bus.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkEventBus=void 0;const n=r("./tracer.ts"),o=r("../lib/tracer.ts");t.WorkEventBus=class{constructor(e,t,r){this.expectedAcknowledgements=new Set,this.blockOutgoingEvents=!1,this.batchProcessing=!1,this.pasting=!1,this.parent=e,this.api=t,this.embedLabel=r,this.activePage=t.getActivePage()}setupOutgoingEventBus(){const e=this.api;let t=null;const r=[],s=t=>{const r=this.getValue(t);this.send({eventType:"obj_change",label:t,property:r?"value":"style",content:r||e.getXML(t)})},i=()=>{r.forEach(s),r.splice(0,r.length),t=null};e.registerUpdateListener(this.updateListener=n=>{this.blockOutgoingEvents||this.pasting||!e.hasUnlabeledPredecessors(n)&&!e.isMoveable(n)||this.api.isAnimating(n)||(t||(t=window.setTimeout(i,300)),r.includes(n)||r.push(n))}),e.registerRenameListener(this.renameListener=(e,t)=>{this.blockOutgoingEvents||this.pasting||this.send({eventType:"rename",label:e,newLabel:t})}),this.addListener=e=>{this.blockOutgoingEvents||this.batchProcessing||this.pasting||(this.transmitImageData(e),this.send({eventType:"obj_create",labels:[e],content:this.getProps(e)}))},e.registerAddListener(this.addListener),e.registerRemoveListener(this.removeListener=e=>{this.blockOutgoingEvents||(this.deleteEmbedEventBus(e),this.send({eventType:"obj_delete",label:e}))}),e.registerClientListener(this.clientListener=t=>{var r,i;if("embedLoaded"==t.type&&t.api)this.parent.initEventBus(t.target,t.api,!!t.loadedWithFile,new o.TracingConsole((0,n.startSpan)("embedLoaded")));else{if("loadPage"==t.type){const e=[];for(const t of(null===(r=this.parent.storedState)||void 0===r?void 0:r.events)||[])t.page==this.activePage?this.checkAndHandleChangeEvent(t,void 0,!1):e.push(t);return this.parent.storedState&&(this.parent.storedState.events=e),void(this.blockOutgoingEvents=!1)}if("selectPage"==t.type)return this.activePage=t.argument,console.log("Active page "+this.activePage),void(this.blockOutgoingEvents=!0);if(!this.blockOutgoingEvents&&"viewChanged2D"!=t.type)switch(t.type){case"updateStyle":this.pasting||this.send({eventType:"obj_change",label:t.target,property:"style",content:e.getStyleXML(t.target)});break;case"redefine":s(t.target);break;case"startAnimation":this.send({eventType:"setting_change",properties:{animating:!0}});break;case"stopAnimation":this.send({eventType:"setting_change",properties:{animating:!1}});break;case"select":this.send({eventType:"obj_change",label:t.target,property:"selection"});break;case"deselect":this.send({eventType:"obj_change",property:"selection"});break;case"switchCalculator":this.send({eventType:"setting_change",properties:{calculator:t.argument}});break;case"pasteElms":this.pasting=!0;break;case"pasteElmsComplete":this.pasting=!1,t.targets&&this.send({eventType:"obj_create",labels:t.targets,content:t.targets.map((e=>this.getProps(e))).join("")});break;case"batchAddStarted":this.batchProcessing=!0;break;case"batchAddComplete":this.batchProcessing=!1,this.pasting||this.send({eventType:"obj_create",labels:e.getSiblingObjectNames(t.target),content:this.getProps(t.target)});break;case"groupObjects":case"ungroupObjects":this.send({eventType:"group",labels:t.targets||[],grouped:"groupObjects"==t.type});break;case"viewPropertiesChanged":{const r=Number.parseInt(t.argument),n=e.getGraphicsOptions(r);this.send({eventType:"graphics_change",viewId:r,graphicsOptions:n});break}case"orderingChange":this.send({eventType:"order_change",order:t.argument});break;case"addPage":this.activePage=t.argument,this.send({eventType:"add_page",page:t.argument});break;case"pastePage":this.activePage=t.argument,this.blockOutgoingEvents=!0;const r=t.ggbFile?JSON.parse(t.ggbFile):null,n=t.ggbFile?null===(i=r.archive.find((e=>"geogebra.xml"==e.fileName)))||void 0===i?void 0:i.fileContent:"";this.send({eventType:"paste_page",page:t.argument,xml:n||"",to:t.to||-1,labels:t.targets||[]});break;case"removePage":this.send({eventType:"remove_page",page:t.argument});break;case"movePage":this.send({eventType:"move_page",page:t.argument,to:t.to||-1});break;case"clearPage":this.send({eventType:"clear_page",page:t.argument});break;case"renamePage":this.send({eventType:"rename_page",page:t.argument,title:t.title||""})}}})}deleteEmbedEventBus(e){const t=this.parent.eventBuses.findIndex((t=>t.embedLabel==e));(this.api.getEmbeddedCalculators(!1)||{})[e]&&t>-1&&this.parent.eventBuses.splice(t,1)}getProps(e){return this.api.getAlgorithmXML(e)||this.api.getXML(e)}getValue(e){const t=this.api.getCommandString(e,!1);if(t){if(this.api.isMoveable(e)&&"point"==this.api.getObjectType(e)){return`SetValue(${this.api.getValueString(e,!1).replace("=",",")})`}return e+":"+t}const r=this.api.getValueString(e,!1);if(r&&r!=e)return r}transmitImageData(e){const t=this.api.getImageFileName(e);if(t){const e=this.api.getFileJSON(!1).archive.find((e=>e.fileName.includes(t)));e&&this.send({eventType:"image_add",fileName:t,fileContent:e.fileContent})}}checkAndHandleChangeEvent(e,t,r=!0){return this.parent.globalEventCounter+1!=e.globalEventCounter&&t&&t.error(`Event order inconsistency detected, local counter: ${this.parent.globalEventCounter}, event counter: ${e.globalEventCounter}`,e),this.parent.globalEventCounter=e.globalEventCounter,!(e.embedLabel!=this.embedLabel||e.page!=this.activePage&&!e.eventType.includes("page"))&&(console.log("Change event received:",e),this.blockOutgoingEvents=!0,this.api.setErrorDialogsActive(!1),this.handleChangeEvent(this.api,e,t,r),this.api.setErrorDialogsActive(!0),this.blockOutgoingEvents=!1,!0)}handleChangeEvent(e,t,r,n){var o,s,i;if("content_change"==t.eventType&&e.setXML(t.xml),"obj_create"==t.eventType&&t.labels&&(t.labels.filter((e=>this.api.exists(e))).forEach((t=>{const r=t.split("_")[0];let n,o=0;do{n=r+"_{"+o+++"}"}while(e.exists(n));e.renameObject(t,n),this.send({eventType:"obj_create",labels:[n],content:this.getProps(n)})})),t.content&&(e.evalXML(t.content),n))){const{name:r,color:n}=t.client.user;e.removeMultiuserSelections(t.client.id),e.addMultiuserSelection(t.client.id,r,n,t.labels[0],!0)}if("obj_change"==t.eventType){let s=!1;if(this.expectedAcknowledgements.forEach((e=>{s=s||!(t.eventType==e.eventType&&e.label==t.label&&t.property==e.property)})),s&&r)return void r.log(`Acknowledgement pending for property ${t.property} of ${t.label}, event rejected`);const{name:i,color:a}=t.client.user;"selection"==t.property?t.label?e.addMultiuserSelection(t.client.id,i,a,t.label,!1):e.removeMultiuserSelections(t.client.id):((null===(o=t.content)||void 0===o?void 0:o.startsWith("<"))?e.evalXML(t.content):t.content&&e.evalCommand(t.content),n&&t.label&&e.addMultiuserSelection(t.client.id,i,a,t.label,!0),e.updateConstruction())}if("rename"==t.eventType&&this.api.renameObject(t.label,t.newLabel),"setting_change"==t.eventType&&(t.properties.calculator&&e.switchCalculator(t.properties.calculator),!1===t.properties.animating?e.stopAnimation():t.properties.animating&&e.startAnimation()),"group"==t.eventType&&(t.grouped?e.groupObjects(t.labels):e.ungroupObjects(t.labels)),"obj_delete"==t.eventType&&t.label&&(this.deleteEmbedEventBus(t.label),e.deleteObject(t.label)),"graphics_change"==t.eventType){let n=!1;if(this.expectedAcknowledgements.forEach((e=>{n=n||!("graphics_change"==e.eventType)})),n&&r)return void r.log("Acknowledgement pending for graphics property, event rejected");e.setGraphicsOptions(t.viewId,t.graphicsOptions)}"image_add"==t.eventType&&(e.addImage(t.fileName,t.fileContent),e.updateConstruction()),"order_change"==t.eventType&&e.updateOrdering(t.order),"remove_page"!=t.eventType&&"clear_page"!=t.eventType||(e.handlePageAction(t.eventType.replace("_p","P"),t.page),(null===(s=this.parent.storedState)||void 0===s?void 0:s.events)&&(this.parent.storedState.events=this.parent.storedState.events.filter((e=>e.page!=t.page))),(null===(i=this.parent.storedState)||void 0===i?void 0:i.states)&&(this.parent.storedState.states=this.parent.storedState.states.filter((e=>e.page!=t.page)))),"move_page"==t.eventType&&e.handlePageAction("movePage",t.page,t),"rename_page"==t.eventType&&e.handlePageAction("renamePage",t.page,t),"add_page"==t.eventType&&e.handlePageAction("addPage",t.page),"paste_page"==t.eventType&&e.handlePageAction("pastePage",t.page,t)}send(e){this.expectedAcknowledgements.add(e);const t=Object.assign(Object.assign({page:this.activePage},e),{embedLabel:this.embedLabel});this.parent.socket.emit(...(0,n.traceEmit)("work",t,(t=>{this.expectedAcknowledgements.delete(e),t.ack?(console.log("Event acknowledged",e),this.parent.globalEventCounter++):t.ack||console.log("Event rejected"+(t.reason?` because ${t.reason}`:""),e),this.parent.resolvePendingSnapshotRequest()})))}getSnapshot(e){for(const t of this.api.getPages()){const r=this.api.getPageContent(t);e.push(Object.assign(Object.assign({},r),{embedLabel:this.embedLabel,page:t}))}}stop(){this.addListener&&this.api.unregisterAddListener(this.addListener),this.updateListener&&this.api.unregisterUpdateListener(this.updateListener),this.renameListener&&this.api.unregisterRenameListener(this.renameListener),this.removeListener&&this.api.unregisterRemoveListener(this.removeListener),this.clientListener&&this.api.unregisterClientListener(this.clientListener)}}},"./tracer.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startSpan=t.traceEmit=t.traceOn=void 0;const n=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/index.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/index.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),i=(r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js"),r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/index.js"),r("../node_modules/@opentelemetry/api/build/esm/index.js")),a=r("../lib/tracer.ts");let l="x",c="x";const u=new n.WebTracerProvider({resource:new o.Resource({[s.SemanticResourceAttributes.SERVICE_NAME]:"client"})});u.register();const d=u.getTracer("client-tracer");function p(e,t={},r){const n=r?i.trace.setSpanContext(i.context.active(),r):i.ROOT_CONTEXT,o=Object.assign({"service.name":`client-${l}-${c}`},(0,a.toSpanAttrs)(t));return d.startSpan(e,{attributes:o},n)}t.traceOn=function(e,t){return[e,r=>{const n=p(e,r.payload,r.context);try{t(r.payload,r.context,new a.TracingConsole(n))}catch(e){throw n.setStatus((0,a.errorStatus)(e)),e}finally{n.end()}}]},t.traceEmit=function(e,t,r,n){l=void 0!==t.teamId?t.teamId:l,c=void 0!==t.userName?t.userName:c;const o=p(e,t,n);return[e,{context:o.spanContext(),payload:t},e=>{o.setAttributes((0,a.toSpanAttrs)("boolean"==typeof e?{ack:e}:{state:e},"multiplayer.cb"));try{r(e,o.spanContext(),new a.TracingConsole(o))}catch(e){throw o.setStatus((0,a.errorStatus)(e)),e}finally{o.end()}}]},t.startSpan=p},"../lib/tracer.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracingConsole=t.errorStatus=t.toSpanAttrs=void 0;const n=r("../node_modules/@opentelemetry/api/build/esm/index.js");function o(e,t="multiplayer.payload",r=5){let n={};return Object.entries(e).forEach((([e,s])=>{null!=s&&"object"==typeof s&&r>0?n=Object.assign(Object.assign({},n),o(s,`${t}.${e}`,r-1)):n[`${t}.${e}`]="string"==typeof s&&s.length>500?s.substring(0,500)+"...":s})),n}function s(e){try{return JSON.stringify(e)}catch(t){return e+""}}t.toSpanAttrs=o,t.errorStatus=function(e){return console.log(e),{code:n.SpanStatusCode.ERROR,message:e instanceof Error?e.message:s(e)}};t.TracingConsole=class{constructor(e){this.span=e}log(e,...t){console.log(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.log"))}warn(e,...t){console.warn(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.warn"))}error(e,...t){console.error(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.error"))}}},"../node_modules/engine.io-client/build/cjs/contrib/has-cors.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let r=!1;try{r="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}t.hasCORS=r},"../node_modules/engine.io-client/build/cjs/contrib/parseqs.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},"../node_modules/engine.io-client/build/cjs/contrib/parseuri.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const r=/^(?:(?![^:@]+:[^:@\\\\/]*@)(http|https|ws|wss):\\\\/\\\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\\\/?#]*)(?::(\\\\d*))?)(((\\\\/(?:[^?#](?![^?#\\\\/]*\\\\.[^?#\\\\/.]+(?:[?#]|$)))*\\\\/?)?([^?#\\\\/]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.parse=function(e){const t=e,o=e.indexOf("["),s=e.indexOf("]");-1!=o&&-1!=s&&(e=e.substring(0,o)+e.substring(o,s).replace(/:/g,";")+e.substring(s,e.length));let i=r.exec(e||""),a={},l=14;for(;l--;)a[n[l]]=i[l]||"";return-1!=o&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const r=/\\\\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,a.query),a}},"../node_modules/engine.io-client/build/cjs/contrib/yeast.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={};let o,s=0,i=0;function a(e){let t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}for(t.encode=a,t.decode=function(e){let t=0;for(i=0;i<e.length;i++)t=64*t+n[e.charAt(i)];return t},t.yeast=function(){const e=a(+new Date);return e!==o?(s=0,o=e):e+"."+a(s++)};i<64;i++)n[r[i]]=i},"../node_modules/engine.io-client/build/cjs/globalThis.browser.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"../node_modules/engine.io-client/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.inst\';a.a+=\'allTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;const n=r("../node_modules/engine.io-client/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}}),t.protocol=n.Socket.protocol;var o=r("../node_modules/engine.io-client/build/cjs/transport.js");Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}});var s=r("../node_modules/engine.io-client/build/cjs/transports/index.js");Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var i=r("../node_modules/engine.io-client/build/cjs/util.js");Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return i.installTimerFunctions}});var a=r("../node_modules/engine.io-client/build/cjs/contrib/parseuri.js");Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}})},"../node_modules/engine.io-client/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transports/index.js"),s=r("../node_modules/engine.io-client/build/cjs/util.js"),i=r("../node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),a=r("../node_modules/engine.io-client/build/cjs/contrib/parseuri.js"),l=n(r("../node_modules/debug/src/browser.js")),c=r("../node_modules/@socket.io/component-emitter/index.mjs"),u=r("../node_modules/engine.io-parser/build/cjs/index.js"),d=(0,l.default)("engine.io-client:socket");class p extends c.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.parse)(t.host).host),(0,s.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\\\\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=(0,i.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){d(\\\'creating transport "%s"\\\',e);const t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return d("options: %j",r),new o.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return d("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){d("setting transport %s",e.name),this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){d(\\\'probing transport "%s"\\\',e);let t=this.createTransport(e),r=!1;p.priorWebsocketSuccess=!1;const n=()=>{r||(d(\\\'probe transport "%s" opened\\\',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(n=>{if(!r)if("pong"===n.type&&"probe"===n.data){if(d(\\\'probe transport "%s" pong\\\',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,d(\\\'pausing current transport "%s"\\\',this.transport.name),this.transport.pause((()=>{r||"closed"!==this.readyState&&(d("changing transport and sending upgrade packet"),c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{d(\\\'probe transport "%s" failed\\\',e);const r=new Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}})))};function o(){r||(r=!0,c(),t.close(),t=null)}const s=r=>{const n=new Error("probe error: "+r);n.transport=t.name,o(),d(\\\'probe transport "%s" failed because of error: %s\\\',e,r),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&(d(\\\'"%s" works - aborting "%s"\\\',e.name,t.name),o())}const c=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",i),this.off("close",a),this.off("upgrading",l)};t.once("open",n),t.once("error",s),t.once("close",i),this.once("close",a),this.once("upgrading",l),t.open()}onOpen(){if(d("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){d("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d(\\\'socket receive: type "%s", data "%s"\\\',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else d(\\\'packet received with socket readyState "%s"\\\',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();d("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=(0,s.byteLength)(r)),t>0&&e>this.maxPayload)return d("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return d("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:e,data:t,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){d("socket error %j",e),p.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(d(\\\'socket close with reason: "%s"\\\',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=p,p.protocol=u.protocol},"../node_modules/engine.io-client/build/cjs/transport.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const o=r("../node_modules/engine.io-parser/build/cjs/index.js"),s=r("../node_modules/@socket.io/component-emitter/index.mjs"),i=r("../node_modules/engine.io-client/build/cjs/util.js"),a=(0,n(r("../node_modules/debug/src/browser.js")).default)("engine.io-client:transport");class l extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class c extends s.Emitter{constructor(e){super(),this.writable=!1,(0,i.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new l(e,t,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):a("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,o.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}t.Transport=c},"../node_modules/engine.io-client/build/cjs/transports/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const n=r("../node_modules/engine.io-client/build/cjs/transports/polling.js"),o=r("../node_modules/engine.io-client/build/cjs/transports/websocket.js");t.transports={websocket:o.WS,polling:n.Polling}},"../node_modules/engine.io-client/build/cjs/transports/polling.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transport.js"),s=n(r("../node_modules/debug/src/browser.js")),i=r("../node_modules/engine.io-client/build/cjs/contrib/yeast.js"),a=r("../node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),l=r("../node_modules/engine.io-parser/build/cjs/index.js"),c=r("../node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.browser.js"),u=r("../node_modules/@socket.io/component-emitter/index.mjs"),d=r("../node_modules/engine.io-client/build/cjs/util.js"),p=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js"),m=(0,s.default)("engine.io-client:polling");function h(){}const _=null!=new c.XHR({xdomain:!1}).responseType;class f extends o.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=_&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{m("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(m("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){m("pre-pause polling complete"),--e||t()}))),this.writable||(m("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){m("pre-pause writing complete"),--e||t()})))}else t()}poll(){m("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){m("polling got data %s",e);(0,l.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():m(\\\'ignoring poll - transport state "%s"\\\',this.readyState))}doClose(){const e=()=>{m("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(m("transport open - closing"),e()):(m("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,l.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,i.yeast)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=(0,a.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new g(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){m("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}t.Polling=f;class g extends u.Emitter{constructor(e,t){super(),(0,d.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,d.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new c.XHR(e);try{m("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},m("xhr data %s",this.data),t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefi\';a.a+=\'ned"!=typeof document&&(this.index=g.requestsCount++,g.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete g.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(t.Request=g,g.requestsCount=0,g.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",E);else if("function"==typeof addEventListener){const e="onpagehide"in p.globalThisShim?"pagehide":"unload";addEventListener(e,E,!1)}function E(){for(let e in g.requests)g.requests.hasOwnProperty(e)&&g.requests[e].abort()}},"../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;const n=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.WebSocket=n.globalThisShim.WebSocket||n.globalThisShim.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},"../node_modules/engine.io-client/build/cjs/transports/websocket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transport.js"),s=r("../node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),i=r("../node_modules/engine.io-client/build/cjs/contrib/yeast.js"),a=r("../node_modules/engine.io-client/build/cjs/util.js"),l=r("../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js"),c=n(r("../node_modules/debug/src/browser.js")),u=r("../node_modules/engine.io-parser/build/cjs/index.js"),d=(0,c.default)("engine.io-client:websocket"),p="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class m extends o.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=p?{}:(0,a.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=l.usingBrowserWebSocket&&!p?t?new l.WebSocket(e,t):new l.WebSocket(e):new l.WebSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||l.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;(0,u.encodePacket)(r,this.supportsBinary,(e=>{const t={};if(!l.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{l.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){d("websocket closed before onclose event")}n&&(0,l.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,i.yeast)()),this.supportsBinary||(e.b64=1);const n=(0,s.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!l.WebSocket}}t.WS=m},"../node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHR=void 0;const n=r("../node_modules/engine.io-client/build/cjs/contrib/has-cors.js"),o=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.XHR=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new(o.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},"../node_modules/engine.io-client/build/cjs/util.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;const n=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.pick=function(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})};const o=setTimeout,s=clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=o.bind(n.globalThisShim),e.clearTimeoutFn=s.bind(n.globalThisShim)):(e.setTimeoutFn=setTimeout.bind(n.globalThisShim),e.clearTimeoutFn=clearTimeout.bind(n.globalThisShim))};t.byteLength=function(e){return"string"==typeof e?function(e){let t=0,r=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}},"../node_modules/engine.io-parser/build/cjs/commons.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);t.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach((e=>{n[r[e]]=e}));t.ERROR_PACKET={type:"error",data:"parser error"}},"../node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<r.length;e++)n[r.charCodeAt(e)]=e;t.encode=e=>{let t,n=new Uint8Array(e),o=n.length,s="";for(t=0;t<o;t+=3)s+=r[n[t]>>2],s+=r[(3&n[t])<<4|n[t+1]>>4],s+=r[(15&n[t+1])<<2|n[t+2]>>6],s+=r[63&n[t+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s};t.decode=e=>{let t,r,o,s,i,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],s=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],d[c++]=r<<2|o>>4,d[c++]=(15&o)<<4|s>>2,d[c++]=(3&s)<<6|63&i;return u}},"../node_modules/engine.io-parser/build/cjs/decodePacket.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("../node_modules/engine.io-parser/build/cjs/commons.js"),o=r("../node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js"),s="function"==typeof ArrayBuffer,i=(e,t)=>{if(s){const r=(0,o.decode)(e);return a(r,t)}return{base64:!0,data:e}},a=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e;t.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:a(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:i(e.substring(1),t)};return n.PACKET_TYPES_REVERSE[r]?e.length>1?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET}},"../node_modules/engine.io-parser/build/cjs/encodePacket.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("../node_modules/engine.io-parser/build/cjs/commons.js"),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),s="function"==typeof ArrayBuffer,i=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)};t.default=({type:e,data:t},r,a)=>{return o&&t instanceof Blob?r?a(t):i(t,a):s&&(t instanceof ArrayBuffer||(l=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer))?r?a(t):i(new Blob([t]),a):a(n.PACKET_TYPES[e]+(t||""));var l}},"../node_modules/engine.io-parser/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0;const n=r("../node_modules/engine.io-parser/build/cjs/encodePacket.browser.js");t.encodePacket=n.default;const o=r("../node_modules/engine.io-parser/build/cjs/decodePacket.browser.js");t.decodePacket=o.default;const s=String.fromCharCode(30);t.encodePayload=(e,t)=>{const r=e.length,o=new Array(r);let i=0;e.forEach(((e,a)=>{(0,n.default)(e,!1,(e=>{o[a]=e,++i===r&&t(o.join(s))}))}))};t.decodePayload=(e,t)=>{const r=e.split(s),n=[];for(let e=0;e<r.length;e++){const s=(0,o.default)(r[e],t);if(n.push(s),"error"===s.type)break}return n},t.protocol=4},"../node_modules/socket.io-client/build/cjs/contrib/backo2.js":(e,t)=>{"use strict";function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},"../node_modules/socket.io-client/build/cjs/index.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;const o=r("../node_modules/socket.io-client/build/cjs/url.js"),s=r("../node_modules/socket.io-client/build/cjs/manager.js");Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}});const i=r("../node_modules/socket.io-client/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});const a=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client"),l={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=o.url(e,t.path||"/socket.io"),n=r.source,i=r.id,c=r.path,u=l[i]&&c in l[i].nsps;let d;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(a("ignoring socket cache for %s",n),d=new s.Manager(n,t)):(l[i]||(a("new io instance for %s",n),l[i]=new s.Manager(n,t)),d=l[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}t.io=c,t.connect=c,t.default=c,Object.assign(c,{Manager:s.Manager,Socket:i.Socket,io:c,connect:c});var u=r("../node_modules/socket.io-parser/build/cjs/index.js");Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.exports=c},"../node_modules/socket.io-client/build/cjs/manager.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const a=r("../node_modules/engine.io-client/build/cjs/index.js"),l=r("../node_modules/socket.io-client/build/cjs/socket.js"),c=s(r("../node_modules/socket.io-parser/build/cjs/index.js")),u=r("../node_modules/socket.io-client/build/cjs/on.js"),d=r("../node_modules/socket.io-client/build/cjs/contrib/backo2.js"),p=r("../node_modules/@socket.io/component-emitter/index.mjs"),m=i(r("../node_modules/debug/src/browser.js")).default("socket.io-client:manager");class h extends p.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(m("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;m("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=u.on(t,"open",(function(){r.onopen(),e&&e()})),o=u.on(t,"error",(t=>{m("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;m("connect attempt will timeout after %d",e),0===e&&n();const r=this.setTimeoutFn((()=>{m("connect attempt timed out after %d",e),n(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){m("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){m("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new l.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void m("socket %s is still active, skipping close",e)}this._close()}_packet(e){m("writing packet %j",e);const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){m("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){m("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}\';a.a+=\'disconnect(){return this._close()}onclose(e,t){m("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)m("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();m("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(m("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(m("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(m("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=h},"../node_modules/socket.io-client/build/cjs/on.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},"../node_modules/socket.io-client/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r("../node_modules/socket.io-parser/build/cjs/index.js"),s=r("../node_modules/socket.io-client/build/cjs/on.js"),i=r("../node_modules/@socket.io/component-emitter/index.mjs"),a=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client:socket"),l=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c extends i.Emitter{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[s.on(e,"open",this.onopen.bind(this)),s.on(e,"packet",this.onpacket.bind(this)),s.on(e,"error",this.onerror.bind(this)),s.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(l.hasOwnProperty(e))throw new Error(\\\'"\\\'+e.toString()+\\\'" is a reserved event name\\\');t.unshift(e);const r={type:o.PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;a("emitting packet with ack id %d",e);const n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)?a("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const n=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(a("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));a("event with ack id %d has timed out after %d ms",e,r),t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:o.PacketType.CONNECT,data:e})})):this.packet({type:o.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){a("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case o.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case o.PacketType.EVENT:case o.PacketType.BINARY_EVENT:this.onevent(e);break;case o.PacketType.ACK:case o.PacketType.BINARY_ACK:this.onack(e);break;case o.PacketType.DISCONNECT:this.ondisconnect();break;case o.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,a("sending ack %j",n),t.packet({type:o.PacketType.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)}onconnect(e){a("socket connected with id %s",e),this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:o.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}t.Socket=c},"../node_modules/socket.io-client/build/cjs/url.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const o=r("../node_modules/engine.io-client/build/cjs/index.js"),s=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client:url");t.url=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\\\\/\\\\//.test(e)||(s("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),n=o.parse(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}},"../node_modules/socket.io-parser/build/cjs/binary.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const n=r("../node_modules/socket.io-parser/build/cjs/is-binary.js");function o(e,t){if(!e)return e;if(n.isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=o(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=o(e[n],t));return r}return e}function s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=s(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=o(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=s(e.data,t),e.attachments=void 0,e}},"../node_modules/socket.io-parser/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r("../node_modules/@socket.io/component-emitter/index.mjs"),o=r("../node_modules/socket.io-parser/build/cjs/binary.js"),s=r("../node_modules/socket.io-parser/build/cjs/is-binary.js"),i=r("../node_modules/debug/src/browser.js").default("socket.io-parser");var a;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(a=t.PacketType||(t.PacketType={}));t.Encoder=class{constructor(e){this.replacer=e}encode(e){return i("encoding packet %j",e),e.type!==a.EVENT&&e.type!==a.ACK||!s.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),i("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=o.deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class l extends n.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===a.BINARY_EVENT||t.type===a.BINARY_ACK?(this.reconstructor=new c(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!s.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!l.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return i("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case a.CONNECT:return"object"==typeof t;case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=l;class c{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},"../node_modules/socket.io-parser/build/cjs/is-binary.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);function i(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||s&&e instanceof File}t.isBinary=i,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(i(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},"../node_modules/@socket.io/component-emitter/index.mjs":(e,t,r)=>{"use strict";function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}r.r(t),r.d(t,{Emitter:()=>n}),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),\';a.a+=\'e.GGBMultiplayer=void 0;const t=r("./event-bus.ts"),o=r("../node_modules/socket.io-client/build/cjs/index.js"),s=r("./tracer.ts");class i{constructor(e,t,r,n){this.globalEventCounter=0,this.snapshotRequested=!1,this.eventBuses=[];const s=Object.assign({collabUrl:"ws://localhost:3001",tracerUrl:void 0,tracerLog:void 0},r),i={query:{teamId:t}};void 0!==n&&(i.auth={token:`Bearer ${n}`}),this.api=e,this.socket=(0,o.io)(s.collabUrl,i),this.userChangeListeners=[],this.connectionChangeListeners=[],this.teamId=t}start(e){return new Promise(((t,r)=>{const n={userName:e,teamId:this.teamId};this.socket.on("disconnect",((e,t)=>{void 0!==t&&"context"in t&&void 0!==t.context&&"status"in t.context&&413===t.context.status?(this.socket.io.reconnectionAttempts(0),this.emitConnectionChange({connected:false,reason:"payload to large",tryReconnect:!1})):this.emitConnectionChange({connected:false,reason:e,tryReconnect:!0})})),this.socket.io.on("reconnect",(()=>{this.socket.emit(...(0,s.traceEmit)("join",n,((e,t,r)=>{if(!e.success)throw new Error(`Failed to join during reconnect: ${e.error}`);for(const e of this.eventBuses)e.blockOutgoingEvents=!0;this.eventBuses=[],this.handleJoin(e.data,t,r)})))})),this.socket.on("node_change",(e=>{console.info("Connected to pod",e)})),this.setupSnapshotEventBus(),this.setupUserEventBus(),this.setupIncomingWorkEventBus(),this.socket.emit(...(0,s.traceEmit)("join",n,((e,n,o)=>{e.success?(this.handleJoin(e.data,n,o),t()):r(new Error(`Failed to join: ${e.error}`))})))}))}terminate(){const e={teamId:this.teamId};this.socket.emit(...(0,s.traceEmit)("terminate",e,(e=>{e&&(this.disconnect(),console.log("Terminated"))})))}handleJoin(e,t,r){console.log("Joined. Current state of the session:",e),this.globalEventCounter=e.eventCounter,this.storedState=e,this.api&&this.initEventBus(void 0,this.api,!1,r),this.emitUserChange(e.users),this.emitConnectionChange({connected:!0})}initEventBus(e,r,n,o){if(!this.storedState||this.eventBuses.some((t=>t.embedLabel==e)))return;const s=new t.WorkEventBus(this,r,e);s.setupOutgoingEventBus(),this.eventBuses.push(s);for(const t of this.storedState.images)t.embedLabel==e&&r.addImage(t.fileName,t.fileContent);if(this.storedState.states.find((t=>t.embedLabel==e))){s.blockOutgoingEvents=!0,this.storedState.states.sort(((e,t)=>e.order-t.order)),this.storedState.states.forEach((t=>{t.embedLabel==e&&r.setPageContent(t.page,t)}));for(const e of r.getPages())this.storedState.states.find((t=>t.page==e))||r.handlePageAction("removePage",e);r.selectPage(r.getPages()[0]),s.activePage=r.getPages()[0];for(const e of this.storedState.events)s.checkAndHandleChangeEvent(e,o,!1);this.storedState.events=this.storedState.events.filter((t=>t.embedLabel!=e)),this.storedState.states=this.storedState.states.filter((t=>t.embedLabel!=e)),s.blockOutgoingEvents=!1}else if(n){for(const e of r.getAllObjectNames())s.transmitImageData(e);s.send({eventType:"content_change",xml:r.getXML()})}}setupIncomingWorkEventBus(){this.socket.on(...(0,s.traceOn)("work",((e,t,r)=>{for(const t of this.eventBuses){if(t.checkAndHandleChangeEvent(e.event,r))return}r.log("Unhandled event, saving for later",e.event),this.storedState&&this.storedState.events.push(e.event)})))}setupSnapshotEventBus(){this.socket.on(...(0,s.traceOn)("snapshot_req",((e,t)=>{console.log("Snapshot requested"),this.snapshotRequested=!0,this.resolvePendingSnapshotRequest(t)})))}setupUserEventBus(){this.socket.on(...(0,s.traceOn)("user_change",(e=>{this.emitUserChange(e.users)})))}resolvePendingSnapshotRequest(e){if(this.snapshotRequested&&this.areAllEventsAcknowledged()){const t=[];this.eventBuses.forEach((e=>e.getSnapshot(t)));const r={eventCounter:this.globalEventCounter,states:t};this.socket.emit(...(0,s.traceEmit)("snapshot",r,(e=>{console.log(e.ack?"Snapshot accepted":`Snapshot rejected by server: ${e.reason}`)}),e)),this.snapshotRequested=!1}}areAllEventsAcknowledged(){return this.eventBuses.every((e=>!e.expectedAcknowledgements.size))}addUserChangeListener(e){this.userChangeListeners.push(e)}addConnectionChangeListener(e){this.connectionChangeListeners.push(e)}disconnect(){for(const e of this.eventBuses)e.stop();this.socket.disconnect()}emitUserChange(e){this.userChangeListeners.forEach((t=>t(e)))}emitConnectionChange(e){this.connectionChangeListeners.forEach((t=>t(e)))}}e.GGBMultiplayer=i,window.GGBMultiplayer=function(e,t,r,n){return new i(e,t,r,n)}})()})();\\n//# sourceMappingURL=multiplayer.js.map\';return a.a};var dub=k3c(6528);yhc(4826,1,Wwm);_.td=function(){var a,b,c,d,e;d=gel(this.a.b.Q);hyi((YFi(),WFi),false);a=$jd(\'collabUrl\',d);b=(E1c(),B1c).hostname;e=T4c(b,\'\\\\W\',\'\')+\'_\'+this.e;c=new $wnd.GGBMultiplayer(this.b,e,a,this.d.e);this.c.Ii(c)};QLl(Tc)(11);\n//# sourceURL=web-11.js\n')
