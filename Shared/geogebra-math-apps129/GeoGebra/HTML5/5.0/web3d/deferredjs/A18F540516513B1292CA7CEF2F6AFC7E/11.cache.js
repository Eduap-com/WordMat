$wnd.web3d.runAsyncCallback11('function UMj(){}\nfunction VMj(){VMj=luc;TMj=new UMj}\nvar TMj;kuc(7258,1,Hen,UMj);_.Ai=function(){return \'multiplayer\'};_.Bi=function(){var a;a=new djd;a.g+=\'/*! For license information please see multiplayer.js.LICENSE.txt */\\n(()=>{var e={"../node_modules/@opentelemetry/api/build/esm/api/context.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ContextAPI:()=>u});var n=r("../node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js"),o=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},a=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},c="context",l=new n.NoopContextManager,u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,o.registerGlobal)(c,e,s.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(n=this._getContextManager()).with.apply(n,a([e,t,r],i(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,o.getGlobal)(c)||l},e.prototype.disable=function(){this._getContextManager().disable(),(0,o.unregisterGlobal)(c,s.DiagAPI.instance())},e}()},"../node_modules/@opentelemetry/api/build/esm/api/diag.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagAPI:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js"),o=r("../node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js"),s=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js"),i=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},c=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},l=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(0,i.getGlobal)("diag");if(n)return n[e].apply(n,c([],a(t),!1))}}var t=this;t.setLogger=function(e,r){var n,a,c;if(void 0===r&&(r={logLevel:s.DiagLogLevel.INFO}),e===t){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=l.stack)&&void 0!==n?n:l.message),!1}"number"==typeof r&&(r={logLevel:r});var u=(0,i.getGlobal)("diag"),d=(0,o.createLogLevelDiagLogger)(null!==(a=r.logLevel)&&void 0!==a?a:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){var p=null!==(c=(new Error).stack)&&void 0!==c?c:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return(0,i.registerGlobal)("diag",d,t,!0)},t.disable=function(){(0,i.unregisterGlobal)("diag",t)},t.createComponentLogger=function(e){return new n.DiagComponentLogger(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},"../node_modules/@opentelemetry/api/build/esm/api/metrics.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MetricsAPI:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeterProvider.js"),o=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),i="metrics",a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,o.registerGlobal)(i,e,s.DiagAPI.instance())},e.prototype.getMeterProvider=function(){return(0,o.getGlobal)(i)||n.NOOP_METER_PROVIDER},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,o.unregisterGlobal)(i,s.DiagAPI.instance())},e}()},"../node_modules/@opentelemetry/api/build/esm/api/propagation.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PropagationAPI:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js"),s=r("../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js"),i=r("../node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js"),a=r("../node_modules/@opentelemetry/api/build/esm/baggage/utils.js"),c=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),l="propagation",u=new o.NoopTextMapPropagator,d=function(){function e(){this.createBaggage=a.createBaggage,this.getBaggage=i.getBaggage,this.getActiveBaggage=i.getActiveBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.registerGlobal)(l,e,c.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=s.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=s.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.unregisterGlobal)(l,c.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.getGlobal)(l)||u},e}()},"../node_modules/@opentelemetry/api/build/esm/api/trace.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceAPI:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),i=r("../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js"),a=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),c="trace",l=function(){function e(){this._proxyTracerProvider=new o.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getActiveSpan=i.getActiveSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.registerGlobal)(c,this._proxyTracerProvider,a.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.getGlobal)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.unregisterGlobal)(c,a.DiagAPI.instance()),this._proxyTracerProvider=new o.ProxyTracerProvider},e}()},"../node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteBaggage:()=>c,getActiveBaggage:()=>i,getBaggage:()=>s,setBaggage:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/api/context.js"),o=(0,r("../node_modules/@opentelemetry/api/build/esm/context/context.js").createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(o)||void 0}function i(){return s(n.ContextAPI.getInstance().active())}function a(e,t){return e.setValue(o,t)}function c(e){return e.deleteValue(o)}},"../node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaggageImpl:()=>s});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=n(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=new e(this._entries);try{for(var a=o(n),c=a.next();!c.done;c=a.next()){var l=c.value;i._entries.delete(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}()},"../node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{baggageEntryMetadataSymbol:()=>n});var n=Symbol("BaggageEntryMetadata")},"../node_modules/@opentelemetry/api/build/esm/baggage/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{baggageEntryMetadataFromString:()=>c,createBaggage:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js"),o=r("../node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js"),s=r("../node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js"),i=n.DiagAPI.instance();function a(e){return void 0===e&&(e={}),new o.BaggageImpl(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:function(){return e}}}},"../node_modules/@opentelemetry/api/build/esm/context-api.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{context:()=>n});var n=r("../node_modules/@opentelemetry/api/build/esm/api/context.js").ContextAPI.getInstance()},"../node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopContextManager:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return t.call.apply(t,s([r],o(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()},"../node_modules/@opentelemetry/api/build/esm/context/context.js":(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.r(t),r.d(t,{ROOT_CONTEXT:()=>o,createContextKey:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},"../node_modules/@opentelemetry/api/build/esm/diag-api.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{diag:()=>n});var n=r("../node_modules/@opentelemetry/api/build/esm/api/diag.js").DiagAPI.instance()},"../node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagComponentLogger:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,r){var i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e].apply(i,s([],o(r),!1))}},"../node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>o});var n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],o=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<n.length;t++)this[n[t].n]=e(n[t].c)}},"../node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createLogLevelDiagLogger:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js");function o(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},"../node_modules/@opentelemetry/api/build/esm/diag/types.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{DiagLogLevel:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>s.DiagConsoleLogger,DiagLogLevel:()=>i.DiagLogLevel,INVALID_SPANID:()=>y.INVALID_SPANID,INVALID_SPAN_CONTEXT:()=>y.INVALID_SPAN_CONTEXT,INVALID_TRACEID:()=>y.INVALID_TRACEID,ProxyTracer:()=>u.ProxyTracer,ProxyTracerProvider:()=>d.ProxyTracerProvider,ROOT_CONTEXT:()=>o.ROOT_CONTEXT,SamplingDecision:()=>p.SamplingDecision,SpanKind:()=>m.SpanKind,SpanStatusCode:()=>h.SpanStatusCode,TraceFlags:()=>_.TraceFlags,ValueType:()=>c.ValueType,baggageEntryMetadataFromString:()=>n.baggageEntryMetadataFromString,context:()=>E.context,createContextKey:()=>o.createContextKey,createNoopMeter:()=>a.createNoopMeter,createTraceState:()=>f.createTraceState,default:()=>A,defaultTextMapGetter:()=>l.defaultTextMapGetter,defaultTextMapSetter:()=>l.defaultTextM\';a.g+=\'apSetter,diag:()=>b.diag,isSpanContextValid:()=>g.isSpanContextValid,isValidSpanId:()=>g.isValidSpanId,isValidTraceId:()=>g.isValidTraceId,metrics:()=>T.metrics,propagation:()=>S.propagation,trace:()=>v.trace});var n=r("../node_modules/@opentelemetry/api/build/esm/baggage/utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),s=r("../node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js"),i=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js"),a=r("../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js"),c=r("../node_modules/@opentelemetry/api/build/esm/metrics/Metric.js"),l=r("../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js"),u=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js"),d=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js"),p=r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js"),m=r("../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js"),h=r("../node_modules/@opentelemetry/api/build/esm/trace/status.js"),_=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),f=r("../node_modules/@opentelemetry/api/build/esm/trace/internal/utils.js"),g=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),y=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),E=r("../node_modules/@opentelemetry/api/build/esm/context-api.js"),b=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),T=r("../node_modules/@opentelemetry/api/build/esm/metrics-api.js"),S=r("../node_modules/@opentelemetry/api/build/esm/propagation-api.js"),v=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js");const A={context:E.context,diag:b.diag,metrics:T.metrics,propagation:S.propagation,trace:v.trace}},"../node_modules/@opentelemetry/api/build/esm/internal/global-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getGlobal:()=>u,registerGlobal:()=>l,unregisterGlobal:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js"),o=r("../node_modules/@opentelemetry/api/build/esm/version.js"),s=r("../node_modules/@opentelemetry/api/build/esm/internal/semver.js"),i=o.VERSION.split(".")[0],a=Symbol.for("opentelemetry.js.api."+i),c=n._globalThis;function l(e,t,r,n){var s;void 0===n&&(n=!1);var i=c[a]=null!==(s=c[a])&&void 0!==s?s:{version:o.VERSION};if(!n&&i[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(l.stack||l.message),!1}if(i.version!==o.VERSION){l=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+o.VERSION);return r.error(l.stack||l.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o.VERSION+"."),!0}function u(e){var t,r,n=null===(t=c[a])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=c[a])||void 0===r?void 0:r[e]}function d(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o.VERSION+".");var r=c[a];r&&delete r[e]}},"../node_modules/@opentelemetry/api/build/esm/internal/semver.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_makeCompatibilityCheck:()=>s,isCompatible:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/version.js"),o=/^(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)(-(.+))?$/;function s(e){var t=new Set([e]),r=new Set,n=e.match(o);if(!n)return function(){return!1};var s=+n[1],i=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function c(e){return r.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(o);if(!n)return c(e);var u=+n[1],d=+n[2],p=+n[3];return null!=n[4]||s!==u?c(e):0===s?i===d&&a<=p?l(e):c(e):i<=d?l(e):c(e)}}var i=s(n.VERSION)},"../node_modules/@opentelemetry/api/build/esm/metrics-api.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{metrics:()=>n});var n=r("../node_modules/@opentelemetry/api/build/esm/api/metrics.js").MetricsAPI.getInstance()},"../node_modules/@opentelemetry/api/build/esm/metrics/Metric.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{ValueType:()=>n}),function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NOOP_COUNTER_METRIC:()=>_,NOOP_HISTOGRAM_METRIC:()=>f,NOOP_METER:()=>h,NOOP_OBSERVABLE_COUNTER_METRIC:()=>y,NOOP_OBSERVABLE_GAUGE_METRIC:()=>E,NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC:()=>b,NOOP_UP_DOWN_COUNTER_METRIC:()=>g,NoopCounterMetric:()=>a,NoopHistogramMetric:()=>l,NoopMeter:()=>s,NoopMetric:()=>i,NoopObservableCounterMetric:()=>d,NoopObservableGaugeMetric:()=>p,NoopObservableMetric:()=>u,NoopObservableUpDownCounterMetric:()=>m,NoopUpDownCounterMetric:()=>c,createNoopMeter:()=>T});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(){function e(){}return e.prototype.createHistogram=function(e,t){return f},e.prototype.createCounter=function(e,t){return _},e.prototype.createUpDownCounter=function(e,t){return g},e.prototype.createObservableGauge=function(e,t){return E},e.prototype.createObservableCounter=function(e,t){return y},e.prototype.createObservableUpDownCounter=function(e,t){return b},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),i=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(i),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(i),u=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),h=new s,_=new a,f=new l,g=new c,y=new d,E=new p,b=new m;function T(){return h}},"../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeterProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NOOP_METER_PROVIDER:()=>s,NoopMeterProvider:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js"),o=function(){function e(){}return e.prototype.getMeter=function(e,t,r){return n.NOOP_METER},e}(),s=new o},"../node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{}},"../node_modules/@opentelemetry/api/build/esm/propagation-api.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{propagation:()=>n});var n=r("../node_modules/@opentelemetry/api/build/esm/api/propagation.js").PropagationAPI.getInstance()},"../node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTextMapPropagator:()=>n});var n=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}()},"../node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{defaultTextMapGetter:()=>n,defaultTextMapSetter:()=>o});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,r){null!=e&&(e[t]=r)}}},"../node_modules/@opentelemetry/api/build/esm/trace-api.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{trace:()=>n});var n=r("../node_modules/@opentelemetry/api/build/esm/api/trace.js").TraceAPI.getInstance()},"../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NonRecordingSpan:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),o=function(){function e(e){void 0===e&&(e=n.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTracer:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/api/context.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),i=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),a=n.ContextAPI.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=a.active()),Boolean(null==t?void 0:t.root))return new s.NonRecordingSpan;var n,c=r&&(0,o.getSpanContext)(r);return"object"==typeof(n=c)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,i.isSpanContextValid)(c)?new s.NonRecordingSpan(c):new s.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,n){var s,i,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=r):(s=t,i=r,c=n);var l=null!=i?i:a.active(),u=this.startSpan(e,s,l),d=(0,o.setSpan)(l,u);return a.with(d,c,void 0,u)}},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopTracerProvider:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js"),o=function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new n.NoopTracer},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProxyTracer:()=>o});var n=new(r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js").NoopTracer),o=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProxyTracerProvider:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js"),o=new(r("../node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js").NoopTracerProvider),s=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var o;return null!==(o=this.getDelegateTracer(e,t,r))&&void 0!==o?o:new n.ProxyTracer(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/context-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteSpan:()=>u,getActiveSpan:()=>c,getSpan:()=>a,getSpanContext:()=>p,setSpan:()=>l,setSpanContext:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),s=r("../node_modules/@opentelemetry/api/build/esm/api/context.js"),i=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(i)||void 0}function c(){return a(s.ContextAPI.getInstance().active())}function l(e,t){return e.setValue(i,t)}function u(e){return e.deleteValue(i)}function d(e,t){return l(e,new o.NonRecordingSpan(t))}function p(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},"../node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-impl.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceStateImpl:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-validators.js"),o=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),o=r.indexOf("=");if(-1!==o){var s=r.slice(0,o),i=r.slice(o+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(i)&&e.set(s,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},"../node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-validators.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateKey:()=>a,validateValue:()=>c});var n="[_0-9a-z-*/]",o=new RegExp("^(?:"+("[a-z]"+n+"{0,255}")+"|"+("[a-z0-9]"+n+"{0,240}@[a-z]"+n+"{0,13}")+")$"),s=/^[ -~]{0,255}[!-~]$/,i=/,|=/;function a(e){return o.test(e)}function c(e){return s.test(e)&&!i.test(e)}},"../node_modules/@opentelemetry/api/build/esm/trace/internal/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createTraceState:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-impl.js");function o(e){return new n.TraceStateImpl(e)}},"../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{INVALID_SPANID:()=>o,INVALID_SPAN_CONTEXT:()=>i,INVALID_TRACEID:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),o="0000000000000000",s="00000000000000000000000000000000",i={traceId:s,spanId:o,traceFlags:n.TraceFlags.NONE}},"../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SpanKind:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isSpanContextValid:()=>l,isValidSpanId:()=>c,isValidTraceId:()=>a,wrapSpanContext:()=>u});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js"),s=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==n.INVALID_TRACEID}function c(e){return i.test(e)&&e!==n.INVALID_SPANID}function l(e){return a(e.traceId)&&c(e.spanId)}function u(e){return new o.NonRecordingSpan(e)}},"../node_modules/@opentelemetry/api/build/esm/trace/status.js":(e,t,r)=>{\';a.g+=\'"use strict";var n;r.r(t),r.d(t,{SpanStatusCode:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{TraceFlags:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/api/build/esm/version.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>n});var n="1.6.0"},"../node_modules/@opentelemetry/core/build/esm/ExportResult.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{ExportResultCode:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/baggage/constants.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BAGGAGE_HEADER:()=>i,BAGGAGE_ITEMS_SEPARATOR:()=>s,BAGGAGE_KEY_PAIR_SEPARATOR:()=>n,BAGGAGE_MAX_NAME_VALUE_PAIRS:()=>a,BAGGAGE_MAX_PER_NAME_VALUE_PAIRS:()=>c,BAGGAGE_MAX_TOTAL_LENGTH:()=>l,BAGGAGE_PROPERTIES_SEPARATOR:()=>o});var n="=",o=";",s=",",i="baggage",a=180,c=4096,l=8192},"../node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{W3CBaggagePropagator:()=>a});var n=r("../node_modules/@opentelemetry/api/build/esm/propagation-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),s=r("../node_modules/@opentelemetry/core/build/esm/baggage/constants.js"),i=r("../node_modules/@opentelemetry/core/build/esm/baggage/utils.js"),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.propagation.getBaggage(e);if(a&&!(0,o.isTracingSuppressed)(e)){var c=(0,i.getKeyPairs)(a).filter((function(e){return e.length<=s.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS})).slice(0,s.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=(0,i.serializeKeyPairs)(c);l.length>0&&r.set(t,s.BAGGAGE_HEADER,l)}},e.prototype.extract=function(e,t,r){var o=r.get(t,s.BAGGAGE_HEADER),a=Array.isArray(o)?o.join(s.BAGGAGE_ITEMS_SEPARATOR):o;if(!a)return e;var c={};return 0===a.length?e:(a.split(s.BAGGAGE_ITEMS_SEPARATOR).forEach((function(e){var t=(0,i.parsePairKeyValue)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),c[t.key]=r}})),0===Object.entries(c).length?e:n.propagation.setBaggage(e,n.propagation.createBaggage(c)))},e.prototype.fields=function(){return[s.BAGGAGE_HEADER]},e}()},"../node_modules/@opentelemetry/core/build/esm/baggage/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>l,parsePairKeyValue:()=>c,serializeKeyPairs:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/baggage/utils.js"),o=r("../node_modules/@opentelemetry/core/build/esm/baggage/constants.js"),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){return e.reduce((function(e,t){var r=""+e+(""!==e?o.BAGGAGE_ITEMS_SEPARATOR:"")+t;return r.length>o.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")}function a(e){return e.getAllEntries().map((function(e){var t=s(e,2),r=t[0],n=t[1],i=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(i+=o.BAGGAGE_PROPERTIES_SEPARATOR+n.metadata.toString()),i}))}function c(e){var t=e.split(o.BAGGAGE_PROPERTIES_SEPARATOR);if(!(t.length<=0)){var r=t.shift();if(r){var s=r.indexOf(o.BAGGAGE_KEY_PAIR_SEPARATOR);if(!(s<=0)){var i,a=decodeURIComponent(r.substring(0,s).trim()),c=decodeURIComponent(r.substring(s+1).trim());return t.length>0&&(i=(0,n.baggageEntryMetadataFromString)(t.join(o.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:i}}}}}function l(e){return"string"!=typeof e||0===e.length?{}:e.split(o.BAGGAGE_ITEMS_SEPARATOR).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},"../node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnchoredClock:()=>n});var n=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}()},"../node_modules/@opentelemetry/core/build/esm/common/attributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isAttributeKey:()=>a,isAttributeValue:()=>c,sanitizeAttributes:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function i(e){var t,r,i={};if("object"!=typeof e||null==e)return i;try{for(var l=o(Object.entries(e)),u=l.next();!u.done;u=l.next()){var d=s(u.value,2),p=d[0],m=d[1];a(p)?c(m)?Array.isArray(m)?i[p]=m.slice():i[p]=m:n.diag.warn("Invalid attribute value set for key: "+p):n.diag.warn("Invalid attribute key: "+p)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return i}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var s=o(e),i=s.next();!i.done;i=s.next()){var a=i.value;if(null!=a){if(!n){if(l(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return!0}(e):l(e))}function l(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},"../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{globalErrorHandler:()=>s,setGlobalErrorHandler:()=>o});var n=(0,r("../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js").loggingErrorHandler)();function o(e){n=e}function s(e){try{n(e)}catch(e){}}},"../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{loggingErrorHandler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js");function o(){return function(e){n.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){var t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}},"../node_modules/@opentelemetry/core/build/esm/common/time.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{addHrTimes:()=>y,getTimeOrigin:()=>c,hrTime:()=>l,hrTimeDuration:()=>d,hrTimeToMicroseconds:()=>_,hrTimeToMilliseconds:()=>h,hrTimeToNanoseconds:()=>m,hrTimeToTimeStamp:()=>p,isTimeInput:()=>g,isTimeInputHrTime:()=>f,millisToHrTime:()=>a,timeInputToHrTime:()=>u});var n=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js"),o=9,s=Math.pow(10,6),i=Math.pow(10,o);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*s)]}function c(){var e=n.otperformance.timeOrigin;if("number"!=typeof e){var t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function l(e){return y(a(c()),a("number"==typeof e?e:n.otperformance.now()))}function u(e){if(f(e))return e;if("number"==typeof e)return e<c()?l(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=i),[r,n]}function p(e){var t=o,r=""+"0".repeat(t)+e[1]+"Z",n=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function m(e){return e[0]*i+e[1]}function h(e){return 1e3*e[0]+e[1]/1e6}function _(e){return 1e6*e[0]+e[1]/1e3}function f(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function g(e){return f(e)||"number"==typeof e||e instanceof Date}function y(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=i&&(r[1]-=i,r[0]+=1),r}},"../node_modules/@opentelemetry/core/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>f.AlwaysOffSampler,AlwaysOnSampler:()=>g.AlwaysOnSampler,AnchoredClock:()=>o.AnchoredClock,BindOnceFuture:()=>P.BindOnceFuture,CompositePropagator:()=>m.CompositePropagator,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>S.DEFAULT_ATTRIBUTE_COUNT_LIMIT,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>S.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,DEFAULT_ENVIRONMENT:()=>S.DEFAULT_ENVIRONMENT,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>S.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>S.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,ExportResultCode:()=>l.ExportResultCode,ParentBasedSampler:()=>y.ParentBasedSampler,RPCType:()=>_.RPCType,RandomIdGenerator:()=>p.RandomIdGenerator,SDK_INFO:()=>p.SDK_INFO,TRACE_PARENT_HEADER:()=>h.TRACE_PARENT_HEADER,TRACE_STATE_HEADER:()=>h.TRACE_STATE_HEADER,TimeoutError:()=>O.TimeoutError,TraceIdRatioBasedSampler:()=>E.TraceIdRatioBasedSampler,TraceState:()=>T.TraceState,TracesSamplerValues:()=>A.TracesSamplerValues,VERSION:()=>u.VERSION,W3CBaggagePropagator:()=>n.W3CBaggagePropagator,W3CTraceContextPropagator:()=>h.W3CTraceContextPropagator,_globalThis:()=>p._globalThis,addHrTimes:()=>c.addHrTimes,baggageUtils:()=>d,callWithTimeout:()=>O.callWithTimeout,deleteRPCMetadata:()=>_.deleteRPCMetadata,getEnv:()=>p.getEnv,getEnvWithoutDefaults:()=>S.getEnvWithoutDefaults,getRPCMetadata:()=>_.getRPCMetadata,getTimeOrigin:()=>c.getTimeOrigin,globalErrorHandler:()=>i.globalErrorHandler,hexToBase64:()=>p.hexToBase64,hrTime:()=>c.hrTime,hrTimeDuration:()=>c.hrTimeDuration,hrTimeToMicroseconds:()=>c.hrTimeToMicroseconds,hrTimeToMilliseconds:()=>c.hrTimeToMilliseconds,hrTimeToNanoseconds:()=>c.hrTimeToNanoseconds,hrTimeToTimeStamp:()=>c.hrTimeToTimeStamp,internal:()=>N,isAttributeKey:()=>s.isAttributeKey,isAttributeValue:()=>s.isAttributeValue,isTimeInput:()=>c.isTimeInput,isTimeInputHrTime:()=>c.isTimeInputHrTime,isTracingSuppressed:()=>b.isTracingSuppressed,isUrlIgnored:()=>R.isUrlIgnored,isWrapped:()=>C.isWrapped,loggingErrorHandler:()=>a.loggingErrorHandler,merge:()=>v.merge,millisToHrTime:()=>c.millisToHrTime,otperformance:()=>p.otperformance,parseEnvironment:()=>S.parseEnvironment,parseTraceParent:()=>h.parseTraceParent,sanitizeAttributes:()=>s.sanitizeAttributes,setGlobalErrorHandler:()=>i.setGlobalErrorHandler,setRPCMetadata:()=>_.setRPCMetadata,suppressTracing:()=>b.suppressTracing,timeInputToHrTime:()=>c.timeInputToHrTime,unrefTimer:()=>p.unrefTimer,unsuppressTracing:()=>b.unsuppressTracing,urlMatches:()=>R.urlMatches});var n=r("../node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js"),o=r("../node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js"),s=r("../node_modules/@opentelemetry/core/build/esm/common/attributes.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),a=r("../node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js"),c=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),l=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),u=r("../node_modules/@opentelemetry/core/build/esm/version.js"),d=r("../node_modules/@opentelemetry/core/build/esm/baggage/utils.js"),p=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/index.js"),m=r("../node_modules/@opentelemetry/core/build/esm/propagation/composite.js"),h=r("../node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js"),_=r("../node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js"),f=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js"),g=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js"),y=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js"),E=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js"),b=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),T=r("../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js"),S=r("../node_modules/@opentelemetry/core/build/esm/utils/environment.js"),v=r("../node_modules/@opentelemetry/core/build/esm/utils/merge.js"),A=r("../node_modules/@opentelemetry/core/build/esm/utils/sampling.js"),O=r("../node_modules/@opentelemetry/core/build/esm/utils/timeout.js"),R=r("../node_modules/@opentelemetry/core/build/esm/utils/url.js"),C=r("../node_modules/@opentelemetry/core/build/esm/utils/wrap.js"),P=r("../node_modules/@opentelemetry/core/build/esm/utils/callback.js"),N={_export:r("../node_modules/@opentelemetry/core/build/esm/internal/exporter.js")._export}},"../node_modules/@opentelemetry/core/build/esm/internal/exporter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_export:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/context-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js");function s(e,t){return new Promise((function(r){n.context.with((0,o.suppressTracing)(n.context.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}},"../node_modules/@opentelemetry/core/build/esm/internal/validators.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateKey:()=>a,validateValue:()=>c});var n="[_0-9a-z-*/]",o=new RegExp("^(?:"+("[a-z]"+n+"{0,255}")+"|"+("[a-z0-9]"+n+"{0,240}@[a-z]"+n+"{0,13}")+")$"),s=/^[ -~]{0,255}[!-~]$/,i=/,|=/;function a(e){return o.test(e)}function c(e){return s.test(e)&&!i.test(e)}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/RandomIdGenerator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>n});var n=function(){this.generateTraceId=s(16),this.generateSpanId=s(8)},o=Array(32);function s(e){return function(){for(var t=0;t<2*e;t++)o[t]=Math.floor(16*Math.random())+48,o[t]>=58&&(o[t]+=39);return String.fromCharCode.apply(null,o.slice(0,2*e))}}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getEnv:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/environment.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js");function s(){var e=(0,n.parseEnvironment)(o._globalThis);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{}},"../node_modules/@opentelemetry/core/build/esm/platform/browser/hex-to-base64.js":(e,t,r)=>{"use strict";function n(e){for(var t=e.length,r="",n=0;n<t;n+=2){var o=e.substring(n,n+2),s=parseInt(o,16);r+=String.fromCharCode(s)}return btoa(r)}r.r(t),r.d(t,{hexToBase64:()=>n})},"../node_modules/@opentelemetry/core/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>i.RandomIdGenerator,SDK_INFO:()=>c.SDK_INFO,_globalThis:()=>o._globalThis,getEnv:()=>n.getEnv,hexToBase64:()=>s.hexToBase64,otperformance:()=>a.otperformance,unrefTimer:()=>l.unrefTimer});var n=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/hex-to-base64.js"),i=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/RandomIdGenerator.js"),a=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js"),c=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/sdk-info.js"),l=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/timer-util.js")},"../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{otperformance:()=>n});var n=performance},"../node_modules/@opente\';a.g+=\'lemetry/core/build/esm/platform/browser/sdk-info.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDK_INFO:()=>i});var n,o=r("../node_modules/@opentelemetry/core/build/esm/version.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js"),i=((n={})[s.SemanticResourceAttributes.TELEMETRY_SDK_NAME]="opentelemetry",n[s.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",n[s.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=s.TelemetrySdkLanguageValues.WEBJS,n[s.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=o.VERSION,n)},"../node_modules/@opentelemetry/core/build/esm/platform/browser/timer-util.js":(e,t,r)=>{"use strict";function n(e){}r.r(t),r.d(t,{unrefTimer:()=>n})},"../node_modules/@opentelemetry/core/build/esm/propagation/composite.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompositePropagator:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var s,i;try{for(var a=o(this._propagators),c=a.next();!c.done;c=a.next()){var l=c.value;try{l.inject(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+l.constructor.name+". Err: "+e.message)}}}catch(e){s={error:e}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+o.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceState:()=>o});var n=r("../node_modules/@opentelemetry/core/build/esm/internal/validators.js"),o=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),o=r.indexOf("=");if(-1!==o){var s=r.slice(0,o),i=r.slice(o+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(i)&&e.set(s,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TRACE_PARENT_HEADER:()=>c,TRACE_STATE_HEADER:()=>l,W3CTraceContextPropagator:()=>p,parseTraceParent:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),i=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),a=r("../node_modules/@opentelemetry/core/build/esm/trace/TraceState.js"),c="traceparent",l="tracestate",u=new RegExp("^\\\\\\\\s?((?!ff)[\\\\\\\\da-f]{2})-((?![0]{32})[\\\\\\\\da-f]{32})-((?![0]{16})[\\\\\\\\da-f]{16})-([\\\\\\\\da-f]{2})(-.*)?\\\\\\\\s?$");function d(e){var t=u.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var p=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.trace.getSpanContext(e);if(a&&!(0,i.isTracingSuppressed)(e)&&(0,o.isSpanContextValid)(a)){var u="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||s.TraceFlags.NONE).toString(16);r.set(t,c,u),a.traceState&&r.set(t,l,a.traceState.serialize())}},e.prototype.extract=function(e,t,r){var o=r.get(t,c);if(!o)return e;var s=Array.isArray(o)?o[0]:o;if("string"!=typeof s)return e;var i=d(s);if(!i)return e;i.isRemote=!0;var u=r.get(t,l);if(u){var p=Array.isArray(u)?u.join(","):u;i.traceState=new a.TraceState("string"==typeof p?p:void 0)}return n.trace.setSpanContext(e,i)},e.prototype.fields=function(){return[c,l]},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RPCType:()=>n,deleteRPCMetadata:()=>i,getRPCMetadata:()=>a,setRPCMetadata:()=>s});var n,o=(0,r("../node_modules/@opentelemetry/api/build/esm/context/context.js").createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");function s(e,t){return e.setValue(o,t)}function i(e){return e.deleteValue(o)}function a(e){return e.getValue(o)}!function(e){e.HTTP="http"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>o});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),a=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js"),c=r("../node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js"),l=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,i.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new c.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new c.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new a.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new c.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new a.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,i,a,c){var l=n.trace.getSpanContext(e);return l&&(0,o.isSpanContextValid)(l)?l.isRemote?l.traceFlags&s.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,a,c):this._remoteParentNotSampled.shouldSample(e,t,r,i,a,c):l.traceFlags&s.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,a,c):this._localParentNotSampled.shouldSample(e,t,r,i,a,c):this._root.shouldSample(e,t,r,i,a,c)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js"),s=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?o.SamplingDecision.RECORD_AND_SAMPLED:o.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},"../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isTracingSuppressed:()=>i,suppressTracing:()=>o,unsuppressTracing:()=>s});var n=(0,r("../node_modules/@opentelemetry/api/build/esm/context/context.js").createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(n,!0)}function s(e){return e.deleteValue(n)}function i(e){return!0===e.getValue(n)}},"../node_modules/@opentelemetry/core/build/esm/utils/callback.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BindOnceFuture:()=>i});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/promise.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n.Deferred}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,s([this._that],o(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},"../node_modules/@opentelemetry/core/build/esm/utils/environment.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>h,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>m,DEFAULT_ENVIRONMENT:()=>g,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>_,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>f,getEnvWithoutDefaults:()=>A,parseEnvironment:()=>v});var n=r("../node_modules/@opentelemetry/api/build/esm/diag/types.js"),o=r("../node_modules/@opentelemetry/core/build/esm/utils/sampling.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/globalThis.js"),i=",",a=["OTEL_SDK_DISABLED"];function c(e){return a.indexOf(e)>-1}var l=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return l.indexOf(e)>-1}var d=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function p(e){return d.indexOf(e)>-1}var m=1/0,h=128,_=128,f=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:h,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:_,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:f,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function y(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function E(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var s=Number(r[e]);isNaN(s)||(t[e]=s<n?n:s>o?o:s)}}function b(e,t,r,n){void 0===n&&(n=i);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var T={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function S(e,t,r){var n=r[e];if("string"==typeof n){var o=T[n.toUpperCase()];null!=o&&(t[e]=o)}}function v(e){var t={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)S(n,t,e);else if(c(n))y(n,t,e);else if(u(n))E(n,t,e);else if(p(n))b(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}function A(){return"undefined"!=typeof process&&process&&process.e\';a.g+=\'nv?v(process.env):v(s._globalThis)}},"../node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isPlainObject:()=>_});var n,o,s="[object Object]",i="[object Null]",a="[object Undefined]",c=Function.prototype.toString,l=c.call(Object),u=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))}),d=Object.prototype,p=d.hasOwnProperty,m=Symbol?Symbol.toStringTag:void 0,h=d.toString;function _(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){if(null==e)return void 0===e?a:i;return m&&m in Object(e)?function(e){var t=p.call(e,m),r=e[m],n=!1;try{e[m]=void 0,n=!0}catch(e){}var o=h.call(e);n&&(t?e[m]=r:delete e[m]);return o}(e):function(e){return h.call(e)}(e)}(e)!==s)return!1;var t=u(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)===l}},"../node_modules/@opentelemetry/core/build/esm/utils/merge.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{merge:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js"),o=20;function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=a(r,e.shift(),0,n);return r}function i(e){return l(e)?e.slice():e}function a(e,t,r,s){var m;if(void 0===r&&(r=0),!(r>o)){if(r++,p(e)||p(t)||u(t))m=i(t);else if(l(e)){if(m=e.slice(),l(t))for(var h=0,_=t.length;h<_;h++)m.push(i(t[h]));else if(d(t))for(h=0,_=(f=Object.keys(t)).length;h<_;h++){m[g=f[h]]=i(t[g])}}else if(d(e))if(d(t)){if(!function(e,t){if(!(0,n.isPlainObject)(e)||!(0,n.isPlainObject)(t))return!1;return!0}(e,t))return t;m=Object.assign({},e);var f;for(h=0,_=(f=Object.keys(t)).length;h<_;h++){var g,y=t[g=f[h]];if(p(y))void 0===y?delete m[g]:m[g]=y;else{var E=m[g],b=y;if(c(e,g,s)||c(t,g,s))delete m[g];else{if(d(E)&&d(b)){var T=s.get(E)||[],S=s.get(b)||[];T.push({obj:e,key:g}),S.push({obj:t,key:g}),s.set(E,T),s.set(b,S)}m[g]=a(m[g],y,r,s)}}}}else m=t;return m}}function c(e,t,r){for(var n=r.get(e[t])||[],o=0,s=n.length;o<s;o++){var i=n[o];if(i.key===t&&i.obj===e)return!0}return!1}function l(e){return Array.isArray(e)}function u(e){return"function"==typeof e}function d(e){return!p(e)&&!l(e)&&!u(e)&&"object"==typeof e}function p(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},"../node_modules/@opentelemetry/core/build/esm/utils/promise.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deferred:()=>n});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}()},"../node_modules/@opentelemetry/core/build/esm/utils/sampling.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{TracesSamplerValues:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},"../node_modules/@opentelemetry/core/build/esm/utils/timeout.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TimeoutError:()=>s,callWithTimeout:()=>i});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return o(t,e),t}(Error);function i(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new s("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}},"../node_modules/@opentelemetry/core/build/esm/utils/url.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isUrlIgnored:()=>s,urlMatches:()=>o});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(e,t){return"string"==typeof t?e===t:!!e.match(t)}function s(e,t){var r,s;if(!t)return!1;try{for(var i=n(t),a=i.next();!a.done;a=i.next()){if(o(e,a.value))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return!1}},"../node_modules/@opentelemetry/core/build/esm/utils/wrap.js":(e,t,r)=>{"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}r.r(t),r.d(t,{isWrapped:()=>n})},"../node_modules/@opentelemetry/core/build/esm/version.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>n});var n="1.17.0"},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZipkinExporter:()=>o.ZipkinExporter,prepareSend:()=>n.prepareSend});var n=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/index.js"),o=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/zipkin.js")},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{prepareSend:()=>n.prepareSend});var n=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/util.js")},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/util.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{prepareSend:()=>c});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),s=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i};function c(e,t){var r,c="function"==typeof navigator.sendBeacon&&!t;return t&&(r=i({Accept:"application/json","Content-Type":"application/json"},t)),function(t,i){if(0===t.length)return n.diag.debug("Zipkin send with empty spans"),i({code:o.ExportResultCode.SUCCESS});var l=JSON.stringify(t);c?function(e,t,r){navigator.sendBeacon(r,e)?(n.diag.debug("sendBeacon - can send",e),t({code:o.ExportResultCode.SUCCESS})):t({code:o.ExportResultCode.FAILED,error:new Error("sendBeacon - cannot send "+e)})}(l,i,e):function(e,t,r,i){void 0===i&&(i={});var c=new XMLHttpRequest;c.open("POST",r),Object.entries(i).forEach((function(e){var t=a(e,2),r=t[0],n=t[1];c.setRequestHeader(r,n)})),c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){var r=c.status||0;return n.diag.debug("Zipkin response status code: "+r+", body: "+e),c.status>=200&&c.status<400?t({code:o.ExportResultCode.SUCCESS}):t({code:o.ExportResultCode.FAILED,error:new Error("Got unexpected status code from zipkin: "+c.status)})}},c.onerror=function(e){return(0,s.globalErrorHandler)(new Error("Zipkin request error: "+e)),t({code:o.ExportResultCode.FAILED})},n.diag.debug("Zipkin request payload: "+e),c.send(e)}(l,i,e,r)}}},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/transform.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{_toZipkinAnnotations:()=>h,_toZipkinTags:()=>m,defaultStatusCodeTagName:()=>u,defaultStatusErrorTagName:()=>d,toZipkinSpan:()=>p});var n,o=r("../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/status.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),a=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/types.js"),c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=((n={})[o.SpanKind.CLIENT]=a.SpanKind.CLIENT,n[o.SpanKind.SERVER]=a.SpanKind.SERVER,n[o.SpanKind.CONSUMER]=a.SpanKind.CONSUMER,n[o.SpanKind.PRODUCER]=a.SpanKind.PRODUCER,n[o.SpanKind.INTERNAL]=void 0,n),u="otel.status_code",d="error";function p(e,t,r,n){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:l[e.kind],timestamp:(0,i.hrTimeToMicroseconds)(e.startTime),duration:Math.round((0,i.hrTimeToMicroseconds)(e.duration)),localEndpoint:{serviceName:t},tags:m(e,r,n),annotations:e.events.length?h(e.events):void 0}}function m(e,t,r){var n,o,i=e.attributes,a=e.resource,l=e.status,u=e.droppedAttributesCount,d=e.droppedEventsCount,p=e.droppedLinksCount,m={};try{for(var h=c(Object.keys(i)),_=h.next();!_.done;_=h.next()){var f=_.value;m[f]=String(i[f])}}catch(e){n={error:e}}finally{try{_&&!_.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return l.code!==s.SpanStatusCode.UNSET&&(m[t]=String(s.SpanStatusCode[l.code])),l.code===s.SpanStatusCode.ERROR&&l.message&&(m[r]=l.message),u&&(m["otel.dropped_attributes_count"]=String(u)),d&&(m["otel.dropped_events_count"]=String(d)),p&&(m["otel.dropped_links_count"]=String(p)),Object.keys(a.attributes).forEach((function(e){return m[e]=String(a.attributes[e])})),m}function h(e){return e.map((function(e){return{timestamp:(0,i.hrTimeToMicroseconds)(e.time),value:e.name}}))}},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/types.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SpanKind:()=>n}),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.CONSUMER="CONSUMER",e.PRODUCER="PRODUCER"}(n||(n={}))},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/utils.js":(e,t,r)=>{"use strict";function n(e){return function(){return e()}}r.r(t),r.d(t,{prepareGetHeaders:()=>n})},"../node_modules/@opentelemetry/exporter-zipkin/build/esm/zipkin.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZipkinExporter:()=>u});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),s=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),i=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/platform/browser/util.js"),a=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/transform.js"),c=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js"),l=r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/utils.js"),u=function(){function e(e){void 0===e&&(e={}),this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||(0,o.getEnv)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=(0,i.prepareSend)(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||a.defaultStatusCodeTagName,this._statusDescriptionTagName=e.statusDescriptionTagName||a.defaultStatusErrorTagName,this._isShutdown=!1,"function"==typeof e.getExportRequestHeaders?this._getHeaders=(0,l.prepareGetHeaders)(e.getExportRequestHeaders):this._beforeSend=function(){}}return e.prototype.export=function(e,t){var r=this,o=String(this._serviceName||e[0].resource.attributes[c.SemanticResourceAttributes.SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(n.diag.debug("Zipkin exporter export"),this._isShutdown)setTimeout((function(){return t({code:s.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")})}));else{var i=new Promise((function(n){r._sendSpans(e,o,(function(e){n(),t(e)}))}));this._sendingPromises.push(i);var a=function(){var e=r._sendingPromises.indexOf(i);r._sendingPromises.splice(e,1)};i.then(a,a)}},e.prototype.shutdown=function(){return n.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()},e.prototype.forceFlush=function(){var e=this;return new Promise((function(t,r){Promise.all(e._sendingPromises).then((function(){t()}),r)}))},e.prototype._beforeSend=function(){this._getHeaders&&(this._send=(0,i.prepareSend)(this._urlStr,this._getHeaders()))},e.prototype._sendSpans=function(e,t,r){var n=this,o=e.map((function(e){return(0,a.toZipkinSpan)(e,String(e.attributes[c.SemanticResourceAttributes.SERVICE_NAME]||e.resource.attributes[c.SemanticResourceAttributes.SERVICE_NAME]||t),n._statusCodeTagName,n._statusDescriptionTagName)}));return this._beforeSend(),this._send(o,(function(e){if(r)return r(e)}))},e}()},"../node_modules/@opentelemetry/resources/build/esm/Resource.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>d});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/sdk-info.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/default-service-name.js"),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},d=function(){function e(e,t){var r,o=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return o._attributes=Object.assign({},o._attributes,e),o.asyncAttributesPending=!1,e}),(function(e){return n.diag.debug("a resource\\\'s async attributes promise rejected: %s",e),o.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[o.SemanticResourceAttributes.SERVICE_NAME]=(0,i.defaultServiceName)(),t[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=s.SDK_INFO[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],t[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=s.SDK_INFO[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME],t[o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=s.SDK_INFO[o.SemanticResourceAttributes.\';a.g+=\'TELEMETRY_SDK_VERSION],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&n.diag.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var o=a(a({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var r,o=u(e,2),s=o[0],i=o[1];return a(a(a(a({},n._syncAttributes),s),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),i)}));return new e(o,s)},e.EMPTY=new e({}),e}()},"../node_modules/@opentelemetry/resources/build/esm/detect-resources.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{detectResources:()=>c,detectResourcesSync:()=>l});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/utils.js"),i=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},a=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},c=function(e){return void 0===e&&(e={}),i(void 0,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,Promise.all((e.detectors||[]).map((function(t){return i(void 0,void 0,void 0,(function(){var r,s;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return r=i.sent(),o.diag.debug(t.constructor.name+" found resource.",r),[2,r];case 2:return s=i.sent(),o.diag.debug(t.constructor.name+" failed: "+s.message),[2,n.Resource.empty()];case 3:return[2]}}))}))})))];case 1:return t=r.sent(),u(t),[2,t.reduce((function(e,t){return e.merge(t)}),n.Resource.empty())]}}))}))},l=function(e){var t;void 0===e&&(e={});var r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var r,c=t.detect(e);if((0,s.isPromiseLike)(c)){r=new n.Resource({},i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,c];case 1:return[2,e.sent().attributes]}}))})))}else r=c;return r.waitForAsyncAttributes?r.waitForAsyncAttributes().then((function(){return o.diag.debug(t.constructor.name+" found resource.",r)})):o.diag.debug(t.constructor.name+" found resource.",r),r}catch(e){return o.diag.error(t.constructor.name+" failed: "+e.message),n.Resource.empty()}})),c=r.reduce((function(e,t){return e.merge(t)}),n.Resource.empty());return c.waitForAsyncAttributes&&c.waitForAsyncAttributes().then((function(){u(r)})),c},u=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);o.diag.verbose(t)}}))}},"../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{browserDetector:()=>o});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetectorSync.js"),o=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.browserDetectorSync.detect(e))},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{browserDetectorSync:()=>a});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),s=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=new(function(){function e(){}return e.prototype.detect=function(e){var t;if(!("undefined"!=typeof navigator))return o.Resource.empty();var r=((t={})[n.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",t[n.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",t[n.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]=navigator.userAgent,t);return this._getResourceAttributes(r,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[n.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(s.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),o.Resource.empty()):new o.Resource(i({},e))},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{envDetector:()=>o});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetectorSync.js"),o=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.envDetectorSync.detect(e))},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{envDetectorSync:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},l=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},r=(0,o.getEnv)(),a=r.OTEL_RESOURCE_ATTRIBUTES,c=r.OTEL_SERVICE_NAME;if(a)try{var l=this._parseResourceAttributes(a);Object.assign(t,l)}catch(e){n.diag.debug("EnvDetector failed: "+e.message)}return c&&(t[s.SemanticResourceAttributes.SERVICE_NAME]=c),new i.Resource(t)},e.prototype._parseResourceAttributes=function(e){var t,r;if(!e)return{};var n={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=a(o),i=s.next();!i.done;i=s.next()){var l=i.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===l.length){var u=c(l,2),d=u[0],p=u[1];if(d=d.trim(),p=p.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(d))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(p))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);n[d]=decodeURIComponent(p)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}())},"../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopDetector:()=>o,noopDetector:()=>s});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetectorSync.js"),o=function(){function e(){}return e.prototype.detect=function(){return Promise.resolve(n.noopDetectorSync.detect())},e}(),s=new o},"../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopDetectorSync:()=>o,noopDetectorSync:()=>s});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=function(){function e(){}return e.prototype.detect=function(){return new n.Resource({})},e}(),s=new o},"../node_modules/@opentelemetry/resources/build/esm/detectors/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{browserDetector:()=>n.browserDetector,browserDetectorSync:()=>s.browserDetectorSync,envDetector:()=>o.envDetector,envDetectorSync:()=>i.envDetectorSync});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetector.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetector.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/detectors/BrowserDetectorSync.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/detectors/EnvDetectorSync.js")},"../node_modules/@opentelemetry/resources/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>n.Resource,browserDetector:()=>s.browserDetector,browserDetectorSync:()=>s.browserDetectorSync,defaultServiceName:()=>o.defaultServiceName,detectResources:()=>i.detectResources,detectResourcesSync:()=>i.detectResourcesSync,envDetector:()=>s.envDetector,envDetectorSync:()=>s.envDetectorSync,hostDetector:()=>o.hostDetector,hostDetectorSync:()=>o.hostDetectorSync,osDetector:()=>o.osDetector,osDetectorSync:()=>o.osDetectorSync,processDetector:()=>o.processDetector,processDetectorSync:()=>o.processDetectorSync});var n=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/index.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/detectors/index.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/detect-resources.js")},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{hostDetector:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{hostDetectorSync:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetectorSync.js").noopDetectorSync},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{osDetector:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{osDetectorSync:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetectorSync.js").noopDetectorSync},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/ProcessDetector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processDetector:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/ProcessDetectorSync.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processDetectorSync:()=>n});var n=r("../node_modules/@opentelemetry/resources/build/esm/detectors/NoopDetector.js").noopDetector},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/default-service-name.js":(e,t,r)=>{"use strict";function n(){return"unknown_service"}r.r(t),r.d(t,{defaultServiceName:()=>n})},"../node_modules/@opentelemetry/resources/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{defaultServiceName:()=>n.defaultServiceName,hostDetector:()=>o.hostDetector,hostDetectorSync:()=>i.hostDetectorSync,osDetector:()=>s.osDetector,osDetectorSync:()=>a.osDetectorSync,processDetector:()=>c.processDetector,processDetectorSync:()=>l.processDetectorSync});var n=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/default-service-name.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetector.js"),s=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetector.js"),i=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/HostDetectorSync.js"),a=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/OSDetectorSync.js"),c=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/ProcessDetector.js"),l=r("../node_modules/@opentelemetry/resources/build/esm/platform/browser/ProcessDetectorSync.js")},"../node_modules/@opentelemetry/resources/build/esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isPromiseLike:()=>n});var n=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BasicTracerProvider:()=>b,ForceFlushState:()=>n});var n,o=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js"),i=r("../node_modules/@opentelemetry/api/build/esm/context-api.js"),a=r("../node_modules/@opentelemetry/api/build/esm/propagation-api.js"),c=r("../node_modules/@opentelemetry/core/build/esm/utils/merge.js"),l=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),u=r("../node_modules/@opentelemetry/core/build/esm/propagation/composite.js"),d=r("../node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js"),p=r("../node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js"),m=r("../node_modules/@opentelemetry/resources/build/esm/Resource.js"),h=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js"),_=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js"),f=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js"),g=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js"),y=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/export/BatchSpanProcessor.js"),E=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js");!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(n||(n={}));var b=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,c.merge)({},(0,_.loadDefaultConfig)(),(0,E.reconfigureLimits)(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:m.Resource.empty(),this.resource=m.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new y.BatchSpanProcessor(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new g.NoopSpanP\';a.g+=\'rocessor}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new h.Tracer({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return o.diag.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new f.MultiSpanProcessor(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),s.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&i.context.setGlobalContextManager(e.contextManager),e.propagator&&a.propagation.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var o,s=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),o=n.timeout}),e);t.forceFlush().then((function(){clearTimeout(s),o!==n.timeout&&(o=n.resolved,r(o))})).catch((function(e){clearTimeout(s),o=n.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var o=t.filter((function(e){return e!==n.resolved}));o.length>0?r(o):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,l.getEnv)().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||o.diag.warn(\\\'Propagator "\\\'+t+\\\'" requested through environment variable is unavailable.\\\'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new u.CompositePropagator({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,l.getEnv)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||o.diag.error(\\\'Exporter "\\\'+e+\\\'" requested through environment variable is unavailable.\\\'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new d.W3CTraceContextPropagator}],["baggage",function(){return new p.W3CBaggagePropagator}]]),e._registeredExporters=new Map,e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MultiSpanProcessor:()=>s});var n=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var s=o(this._spanProcessors),i=s.next();!i.done;i=s.next()){var a=i.value;r.push(a.forceFlush())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){(0,n.globalErrorHandler)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var s=o(this._spanProcessors),i=s.next();!i.done;i=s.next()){i.value.onStart(e,t)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=o(this._spanProcessors),s=n.next();!s.done;s=n.next()){s.value.onEnd(e)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=o(this._spanProcessors),s=n.next();!s.done;s=n.next()){var i=s.value;r.push(i.shutdown())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Span:()=>p});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/status.js"),o=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),s=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/performance.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),a=r("../node_modules/@opentelemetry/core/build/esm/common/attributes.js"),c=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js"),l=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js"),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},p=function(){function e(e,t,r,o,a,c,l,u,d){void 0===l&&(l=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:n.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=c,this.kind=a,this.links=l;var p=Date.now();this._performanceStartTime=s.otperformance.now(),this._performanceOffset=p-(this._performanceStartTime+(0,i.getTimeOrigin)()),this._startTimeProvided=null!=u,this.startTime=this._getTime(null!=u?u:p),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(o.diag.warn("Invalid attribute key: "+e),this):(0,a.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(o.diag.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=u(Object.entries(e)),o=n.next();!o.done;o=n.next()){var s=d(o.value,2),i=s[0],a=s[1];this.setAttribute(i,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return o.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(o.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,i.isTimeInput)(t)&&((0,i.isTimeInput)(r)||(r=t),t=void 0);var n=(0,a.sanitizeAttributes)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?o.diag.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,i.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(o.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<s.otperformance.now())return(0,i.hrTime)(e+this._performanceOffset);if("number"==typeof e)return(0,i.millisToHrTime)(e);if(e instanceof Date)return(0,i.millisToHrTime)(e.getTime());if((0,i.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,i.millisToHrTime)(Date.now());var t=s.otperformance.now()-this._performanceStartTime;return(0,i.addHrTimes)(this.startTime,(0,i.millisToHrTime)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[c.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?r[c.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[c.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(r[c.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[c.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),r[c.SemanticAttributes.EXCEPTION_TYPE]||r[c.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(l.ExceptionEventName,r,t):o.diag.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&o.diag.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(o.diag.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Tracer:()=>_});var n=r("../node_modules/@opentelemetry/api/build/esm/context-api.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js"),s=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),i=r("../node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js"),a=r("../node_modules/@opentelemetry/api/build/esm/trace/span_kind.js"),c=r("../node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js"),l=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),u=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),d=r("../node_modules/@opentelemetry/core/build/esm/common/attributes.js"),p=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js"),m=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js"),h=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/RandomIdGenerator.js"),_=function(){function e(e,t,r){this._tracerProvider=r;var n=(0,m.mergeConfig)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new h.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var m,h,_;void 0===t&&(t={}),void 0===r&&(r=n.context.active()),t.root&&(r=o.trace.deleteSpan(r));var f=o.trace.getSpan(r);if((0,u.isTracingSuppressed)(r))return s.diag.debug("Instrumentation suppressed, returning Noop Span"),o.trace.wrapSpanContext(i.INVALID_SPAN_CONTEXT);var g,y,E,b=null==f?void 0:f.spanContext(),T=this._idGenerator.generateSpanId();b&&o.trace.isSpanContextValid(b)?(g=b.traceId,y=b.traceState,E=b.spanId):g=this._idGenerator.generateTraceId();var S=null!==(m=t.kind)&&void 0!==m?m:a.SpanKind.INTERNAL,v=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,d.sanitizeAttributes)(e.attributes)}})),A=(0,d.sanitizeAttributes)(t.attributes),O=this._sampler.shouldSample(r,g,e,S,A,v);y=null!==(_=O.traceState)&&void 0!==_?_:y;var R={traceId:g,spanId:T,traceFlags:O.decision===c.SamplingDecision.RECORD_AND_SAMPLED?l.TraceFlags.SAMPLED:l.TraceFlags.NONE,traceState:y};if(O.decision===c.SamplingDecision.NOT_RECORD)return s.diag.debug("Recording is off, propagating context in a non-recording span"),o.trace.wrapSpanContext(R);var C=new p.Span(this,r,e,R,S,E,v,t.startTime),P=(0,d.sanitizeAttributes)(Object.assign(A,O.attributes));return C.setAttributes(P),C},e.prototype.startActiveSpan=function(e,t,r,s){var i,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=r):(i=t,a=r,c=s);var l=null!=a?a:n.context.active(),u=this.startSpan(e,i,l),d=o.trace.setSpan(l,u);return n.context.with(d,c,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{buildSamplerFromEnv:()=>h,loadDefaultConfig:()=>m});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),s=r("../node_modules/@opentelemetry/core/build/esm/utils/sampling.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),c=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js"),l=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js"),u=(0,o.getEnv)(),d=s.TracesSamplerValues.AlwaysOn,p=1;function m(){return{sampler:h(u),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function h(e){switch(void 0===e&&(e=(0,o.getEnv)()),e.OTEL_TRACES_SAMPLER){case s.TracesSamplerValues.AlwaysOn:return new a.AlwaysOnSampler;case s.TracesSamplerValues.AlwaysOff:return new i.AlwaysOffSampler;case s.TracesSamplerValues.ParentBasedAlwaysOn:return new c.ParentBasedSampler({root:new a.AlwaysOnSampler});case s.TracesSamplerValues.ParentBasedAlwaysOff:return new c.ParentBasedSampler({root:new i.AlwaysOffSampler});case s.TracesSamplerValues.TraceIdRatio:return new l.TraceIdRatioBasedSampler(_(e));case s.TracesSamplerValues.ParentBasedTraceIdRatio:r\';a.g+=\'eturn new c.ParentBasedSampler({root:new l.TraceIdRatioBasedSampler(_(e))});default:return n.diag.error(\\\'OTEL_TRACES_SAMPLER value "\\\'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+d+\\\'".\\\'),new a.AlwaysOnSampler}}function _(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return n.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+p+"."),p;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+p+"."),p):t<0||t>1?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+p+"."),p):t}},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ExceptionEventName:()=>n});var n="exception"},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessorBase:()=>p});var n=r("../node_modules/@opentelemetry/api/build/esm/diag-api.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),s=r("../node_modules/@opentelemetry/api/build/esm/context-api.js"),i=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/environment.js"),a=r("../node_modules/@opentelemetry/core/build/esm/utils/callback.js"),c=r("../node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js"),l=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),u=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),d=r("../node_modules/@opentelemetry/core/build/esm/platform/browser/timer-util.js"),p=function(){function e(e,t){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,i.getEnv)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new a.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(n.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&o.TraceFlags.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&n.diag.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(n.diag.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,s=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<s;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var n=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);s.context.with((0,c.suppressTracing)(s.context.active()),(function(){var o=e._finishedSpans.splice(0,e._maxExportBatchSize),s=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(n),e.code===l.ExportResultCode.SUCCESS?t():r(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},i=o.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));0===i.length?s():Promise.all(i.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(s,(function(e){(0,u.globalErrorHandler)(e),r(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){(0,u.globalErrorHandler)(e)}))}),this._scheduledDelayMillis),(0,d.unrefTimer)(this._timer))},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ConsoleSpanExporter:()=>i});var n=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),o=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,n.hrTimeToMicroseconds)(e.startTime),duration:(0,n.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,n;try{for(var i=s(e),a=i.next();!a.done;a=i.next()){var c=a.value;console.dir(this._exportInfo(c),{depth:3})}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}if(t)return t({code:o.ExportResultCode.SUCCESS})},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InMemorySpanExporter:()=>i});var n=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,s([],o(e),!1)),setTimeout((function(){return t({code:n.ExportResultCode.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopSpanProcessor:()=>n});var n=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SimpleSpanProcessor:()=>u});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),o=r("../node_modules/@opentelemetry/core/build/esm/utils/callback.js"),s=r("../node_modules/@opentelemetry/core/build/esm/index.js"),i=r("../node_modules/@opentelemetry/core/build/esm/ExportResult.js"),a=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},u=function(){function e(e){this._exporter=e,this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,r,o=this;if(!this._shutdownOnce.isCalled&&0!=(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)){var c=function(){return s.internal._export(o._exporter,[e]).then((function(e){var t;e.code!==i.ExportResultCode.SUCCESS&&(0,a.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,a.globalErrorHandler)(e)}))};if(e.resource.asyncAttributesPending){var l=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((function(){return null!=l&&o._unresolvedExports.delete(l),c()}),(function(e){return(0,a.globalErrorHandler)(e)}));null!=l&&this._unresolvedExports.add(l)}else c()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>u.AlwaysOffSampler,AlwaysOnSampler:()=>d.AlwaysOnSampler,BasicTracerProvider:()=>o.BasicTracerProvider,BatchSpanProcessor:()=>s.BatchSpanProcessor,ConsoleSpanExporter:()=>i.ConsoleSpanExporter,ForceFlushState:()=>o.ForceFlushState,InMemorySpanExporter:()=>a.InMemorySpanExporter,NoopSpanProcessor:()=>l.NoopSpanProcessor,ParentBasedSampler:()=>p.ParentBasedSampler,RandomIdGenerator:()=>s.RandomIdGenerator,SamplingDecision:()=>h.SamplingDecision,SimpleSpanProcessor:()=>c.SimpleSpanProcessor,Span:()=>_.Span,TraceIdRatioBasedSampler:()=>m.TraceIdRatioBasedSampler,Tracer:()=>n.Tracer});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js"),s=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js"),i=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js"),c=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js"),l=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js"),u=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),d=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),p=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js"),m=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js"),h=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),_=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js")},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/RandomIdGenerator.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>n});var n=function(){this.generateTraceId=s(16),this.generateSpanId=s(8)},o=Array(32);function s(e){return function(){for(var t=0;t<2*e;t++)o[t]=Math.floor(16*Math.random())+48,o[t]>=58&&(o[t]+=39);return String.fromCharCode.apply(null,o.slice(0,2*e))}}},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/export/BatchSpanProcessor.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessor:()=>i});var n,o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.onInit(r),n}return s(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(o.BatchSpanProcessorBase)},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessor:()=>n.BatchSpanProcessor,RandomIdGenerator:()=>o.RandomIdGenerator});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/export/BatchSpanProcessor.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/browser/RandomIdGenerator.js")},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>o});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>o});var n=r("../node_\';a.g+=\'modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>l});var n=r("../node_modules/@opentelemetry/api/build/esm/trace-api.js"),o=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),s=r("../node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js"),i=r("../node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js"),c=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js"),l=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,i.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new c.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new c.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new a.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new c.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new a.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,i,a,c){var l=n.trace.getSpanContext(e);return l&&(0,o.isSpanContextValid)(l)?l.isRemote?l.traceFlags&s.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,a,c):this._remoteParentNotSampled.shouldSample(e,t,r,i,a,c):l.traceFlags&s.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,a,c):this._localParentNotSampled.shouldSample(e,t,r,i,a,c):this._root.shouldSample(e,t,r,i,a,c)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>s});var n=r("../node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js"),o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js"),s=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?o.SamplingDecision.RECORD_AND_SAMPLED:o.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},"../node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{mergeConfig:()=>s,reconfigureLimits:()=>i});var n=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js"),o=r("../node_modules/@opentelemetry/core/build/esm/utils/environment.js");function s(e){var t={sampler:(0,n.buildSamplerFromEnv)()},r=(0,n.loadDefaultConfig)(),o=Object.assign({},r,t,e);return o.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),o}function i(e){var t,r,n,s,i,a,c,l,u,d,p,m,h=Object.assign({},e.spanLimits),_=(0,o.getEnvWithoutDefaults)();return h.attributeCountLimit=null!==(a=null!==(i=null!==(s=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==s?s:_.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:_.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:o.DEFAULT_ATTRIBUTE_COUNT_LIMIT,h.attributeValueLengthLimit=null!==(m=null!==(p=null!==(d=null!==(l=null===(c=e.spanLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==d?d:_.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:_.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==m?m:o.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:h})}},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StackContextManager:()=>i});var n=r("../node_modules/@opentelemetry/api/build/esm/context/context.js"),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){this._enabled=!1,this._currentContext=n.ROOT_CONTEXT}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=n.ROOT_CONTEXT);var r=this,o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return r.with(e,(function(){return t.apply(n,o)}))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),o},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=n.ROOT_CONTEXT,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=n.ROOT_CONTEXT),this},e.prototype.with=function(e,t,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var c=this._currentContext;this._currentContext=e||n.ROOT_CONTEXT;try{return t.call.apply(t,s([r],o(i),!1))}finally{this._currentContext=c}},e}()},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/WebTracerProvider.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{WebTracerProvider:()=>a});var n,o=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js"),s=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js"),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return r}return i(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new s.StackContextManager),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(o.BasicTracerProvider)},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js":(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{PerformanceTimingNames:()=>n}),function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(n||(n={}))},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>a.AlwaysOffSampler,AlwaysOnSampler:()=>a.AlwaysOnSampler,BasicTracerProvider:()=>a.BasicTracerProvider,BatchSpanProcessor:()=>a.BatchSpanProcessor,ConsoleSpanExporter:()=>a.ConsoleSpanExporter,ForceFlushState:()=>a.ForceFlushState,InMemorySpanExporter:()=>a.InMemorySpanExporter,NoopSpanProcessor:()=>a.NoopSpanProcessor,ParentBasedSampler:()=>a.ParentBasedSampler,PerformanceTimingNames:()=>s.PerformanceTimingNames,RandomIdGenerator:()=>a.RandomIdGenerator,SamplingDecision:()=>a.SamplingDecision,SimpleSpanProcessor:()=>a.SimpleSpanProcessor,Span:()=>a.Span,StackContextManager:()=>o.StackContextManager,TraceIdRatioBasedSampler:()=>a.TraceIdRatioBasedSampler,Tracer:()=>a.Tracer,WebTracerProvider:()=>n.WebTracerProvider,addSpanNetworkEvent:()=>i.addSpanNetworkEvent,addSpanNetworkEvents:()=>i.addSpanNetworkEvents,getElementXPath:()=>i.getElementXPath,getResource:()=>i.getResource,hasKey:()=>i.hasKey,normalizeUrl:()=>i.normalizeUrl,parseUrl:()=>i.parseUrl,shouldPropagateTraceHeaders:()=>i.shouldPropagateTraceHeaders,sortResources:()=>i.sortResources});var n=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/WebTracerProvider.js"),o=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/StackContextManager.js"),s=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js"),i=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/utils.js"),a=r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js")},"../node_modules/@opentelemetry/sdk-trace-web/build/esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{addSpanNetworkEvent:()=>l,addSpanNetworkEvents:()=>u,getElementXPath:()=>_,getResource:()=>p,hasKey:()=>c,normalizeUrl:()=>h,parseUrl:()=>m,shouldPropagateTraceHeaders:()=>f,sortResources:()=>d});var n,o=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/enums/PerformanceTimingNames.js"),s=r("../node_modules/@opentelemetry/core/build/esm/common/time.js"),i=r("../node_modules/@opentelemetry/core/build/esm/utils/url.js"),a=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js");function c(e,t){return t in e}function l(e,t,r){if(c(r,t)&&"number"==typeof r[t])return e.addEvent(t,r[t]),e}function u(e,t){l(e,o.PerformanceTimingNames.FETCH_START,t),l(e,o.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),l(e,o.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),l(e,o.PerformanceTimingNames.CONNECT_START,t),c(t,"name")&&t.name.startsWith("https:")&&l(e,o.PerformanceTimingNames.SECURE_CONNECTION_START,t),l(e,o.PerformanceTimingNames.CONNECT_END,t),l(e,o.PerformanceTimingNames.REQUEST_START,t),l(e,o.PerformanceTimingNames.RESPONSE_START,t),l(e,o.PerformanceTimingNames.RESPONSE_END,t);var r=t[o.PerformanceTimingNames.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(a.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH,r);var n=t[o.PerformanceTimingNames.DECODED_BODY_SIZE];void 0!==n&&r!==n&&e.setAttribute(a.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,n)}function d(e){return e.slice().sort((function(e,t){var r=e[o.PerformanceTimingNames.FETCH_START],n=t[o.PerformanceTimingNames.FETCH_START];return r>n?1:r<n?-1:0}))}function p(e,t,r,n,i,a){void 0===i&&(i=new WeakSet);var c=m(e),l=function(e,t,r,n,i,a){var c=(0,s.hrTimeToNanoseconds)(t),l=(0,s.hrTimeToNanoseconds)(r),u=n.filter((function(t){var r=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t[o.PerformanceTimingNames.FETCH_START])),n=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t[o.PerformanceTimingNames.RESPONSE_END]));return t.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&t.name===e&&r>=c&&n<=l}));u.length>0&&(u=u.filter((function(e){return!i.has(e)})));return u}(e=c.toString(),t,r,n,i,a);if(0===l.length)return{mainRequest:void 0};if(1===l.length)return{mainRequest:l[0]};var u=d(l);if(c.origin!==location.origin&&u.length>1){var p=u[0],h=function(e,t,r){for(var n,i=(0,s.hrTimeToNanoseconds)(r),a=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(t)),c=e[1],l=e.length,u=1;u<l;u++){var d=e[u],p=(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(d[o.PerformanceTimingNames.FETCH_START])),m=i-(0,s.hrTimeToNanoseconds)((0,s.timeInputToHrTime)(d[o.PerformanceTimingNames.RESPONSE_END]));p>=a&&(!n||m<n)&&(n=m,c=d)}return c}(u,p[o.PerformanceTimingNames.RESPONSE_END],r),_=p[o.PerformanceTimingNames.RESPONSE_END];return h[o.PerformanceTimingNames.FETCH_START]<_&&(h=p,p=void 0),{corsPreFlightRequest:p,mainRequest:h}}return{mainRequest:l[0]}}function m(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var t=(n||(n=document.createElement("a")),n);return t.href=e,t}function h(e){return m(e).href}function _(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(e,t){var r=e.nodeType,n=function(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var r=Array.from(e.parentNode.childNodes);if(r=r.filter((function(r){var n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName})),r.length>=1)return r.indexOf(e)+1;return 0}(e),o="";if(r===Node.ELEMENT_NODE){var s=e.getAttribute("id");if(t&&s)return\\\'//*[@id="\\\'+s+\\\'"]\\\';o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return"/"+o+"["+n+"]";return"/"+o}(e,t);if(t&&r.indexOf("@id")>0)return r;var n="";return e.parentNode&&(n+=_(e.parentNode,!1)),n+=r}function f(e,t){var r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),m(e).origin===location.origin||r.some((function(t){return(0,i.urlMatches)(e,t)}))}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>o.AwsEcsLaunchtypeValues,CloudPlatformValues:()=>o.CloudPlatformValues,CloudProviderValues:()=>o.CloudProviderValues,DbCassandraConsistencyLevelValues:()=>n.DbCassandraConsistencyLevelValues,DbSystemValues:()=>n.DbSystemValues,FaasDocumentOperationValues:()=>n.FaasDocumentOperationValues,FaasInvokedProviderValues:()=>n.FaasInvokedProviderValues,FaasTriggerValues:()=>n.FaasTriggerValues,HostArchValues:()=>o.HostArchValues,HttpFlavorValues:()=>n.HttpFlavorValues,MessageTypeValues:()=>n.MessageTypeValues,MessagingDestinationKindValues:()=>n.MessagingDestinationKindValues,MessagingOperationValues:()=>n.MessagingOperationValues,NetHostConnectionSubtypeValues:()=>n.NetHostConnectionSubtypeValues,NetHostConnectionTypeValues:()=>n.NetHostConnectionTypeValues,NetTransportValues:()=>n.NetTransportValues,OsTypeValues:()=>o.OsTypeValues,RpcGrpcStatusCodeValues:()=>n.RpcGrpcStatusCodeValues,SemanticAttributes:()=>n.SemanticAttributes,SemanticResourceAttributes:()=>o.SemanticResourceAttributes,TelemetrySdkLanguageValues:()=>o.TelemetrySdkLanguageValues});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/index.js"),o=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/index.js")},"../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>i,CloudPlatformValues:()=>s,CloudProviderValues:()=>o,HostArchValues:()=>a,OsTypeValues:()=>c,SemanticResourceAttributes:()=>n,TelemetrySdkLanguageValues:()=>l});var n={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLU\';a.g+=\'STER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},o={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},s={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},i={EC2:"ec2",FARGATE:"fargate"},a={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},c={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},l={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AwsEcsLaunchtypeValues:()=>n.AwsEcsLaunchtypeValues,CloudPlatformValues:()=>n.CloudPlatformValues,CloudProviderValues:()=>n.CloudProviderValues,HostArchValues:()=>n.HostArchValues,OsTypeValues:()=>n.OsTypeValues,SemanticResourceAttributes:()=>n.SemanticResourceAttributes,TelemetrySdkLanguageValues:()=>n.TelemetrySdkLanguageValues});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js")},"../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DbCassandraConsistencyLevelValues:()=>s,DbSystemValues:()=>o,FaasDocumentOperationValues:()=>a,FaasInvokedProviderValues:()=>c,FaasTriggerValues:()=>i,HttpFlavorValues:()=>p,MessageTypeValues:()=>f,MessagingDestinationKindValues:()=>m,MessagingOperationValues:()=>h,NetHostConnectionSubtypeValues:()=>d,NetHostConnectionTypeValues:()=>u,NetTransportValues:()=>l,RpcGrpcStatusCodeValues:()=>_,SemanticAttributes:()=>n});var n={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},o={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},s={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},i={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},a={INSERT:"insert",EDIT:"edit",DELETE:"delete"},c={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},l={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},u={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},d={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},p={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},m={QUEUE:"queue",TOPIC:"topic"},h={RECEIVE:"receive",PROCESS:"process"},_={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},f={SENT:"SENT",RECEIVED:"RECEIVED"}},"../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DbCassandraConsistencyLevelValues:()=>n.DbCassandraConsistencyLevelValues,DbSystemValues:()=>n.DbSystemValues,FaasDocumentOperationValues:()=>n.FaasDocumentOperationValues,FaasInvokedProviderValues:()=>n.FaasInvokedProviderValues,FaasTriggerValues:()=>n.FaasTriggerValues,HttpFlavorValues:()=>n.HttpFlavorValues,MessageTypeValues:()=>n.MessageTypeValues,MessagingDestinationKindValues:()=>n.MessagingDestinationKindValues,MessagingOperationValues:()=>n.MessagingOperationValues,NetHostConnectionSubtypeValues:()=>n.NetHostConnectionSubtypeValues,NetHostConnectionTypeValues:()=>n.NetHostConnectionTypeValues,NetTransportValues:()=>n.NetTransportValues,RpcGrpcStatusCodeValues:()=>n.RpcGrpcStatusCodeValues,SemanticAttributes:()=>n.SemanticAttributes});var n=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js")},"../node_modules/debug/src/browser.js":(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\\\/(\\\\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\\\/(\\\\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\\\/(\\\\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r("../node_modules/debug/src/common.js")(t);const{formatters:n}=e.exports;n.j=function(e)\';a.g+=\'{try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},"../node_modules/debug/src/common.js":(e,t,r)=>{e.exports=function(e){function t(e){let r,o,s,i=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];r=s.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\\\\.\\\\*\\\\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\\\\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\\\\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r("../node_modules/ms/index.js"),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},"../node_modules/ms/index.js":e=>{var t=1e3,r=60*t,n=60*r,o=24*n,s=7*o,i=365.25*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,c){c=c||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\\\\d+)?\\\\.?\\\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&isFinite(e))return c.long?function(e){var s=Math.abs(e);if(s>=o)return a(e,s,o,"day");if(s>=n)return a(e,s,n,"hour");if(s>=r)return a(e,s,r,"minute");if(s>=t)return a(e,s,t,"second");return e+" ms"}(e):function(e){var s=Math.abs(e);if(s>=o)return Math.round(e/o)+"d";if(s>=n)return Math.round(e/n)+"h";if(s>=r)return Math.round(e/r)+"m";if(s>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./event-bus.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkEventBus=void 0;const n=r("./tracer.ts"),o=r("../lib/tracer.ts");t.WorkEventBus=class{constructor(e,t,r){this.expectedAcknowledgements=new Set,this.blockOutgoingEvents=!1,this.batchProcessing=!1,this.pasting=!1,this.parent=e,this.api=t,this.embedLabel=r,this.activePage=t.getActivePage()}setupOutgoingEventBus(){const e=this.api;let t=null;const r=[],s=t=>{const r=this.getValue(t);this.send({eventType:"obj_change",label:t,property:r?"value":"style",content:r||e.getXML(t)})},i=()=>{r.forEach(s),r.splice(0,r.length),t=null};e.registerUpdateListener(this.updateListener=n=>{this.blockOutgoingEvents||this.pasting||!e.hasUnlabeledPredecessors(n)&&!e.isMoveable(n)||this.api.isAnimating(n)||(t||(t=window.setTimeout(i,300)),r.includes(n)||r.push(n))}),e.registerRenameListener(this.renameListener=(e,t)=>{this.blockOutgoingEvents||this.pasting||this.send({eventType:"rename",label:e,newLabel:t})}),this.addListener=e=>{this.blockOutgoingEvents||this.batchProcessing||this.pasting||(this.transmitImageData(e),this.send({eventType:"obj_create",labels:[e],content:this.getProps(e)}))},e.registerAddListener(this.addListener),e.registerRemoveListener(this.removeListener=e=>{this.blockOutgoingEvents||(this.deleteEmbedEventBus(e),this.send({eventType:"obj_delete",label:e}))}),e.registerClientListener(this.clientListener=t=>{var r,i;if("embedLoaded"==t.type&&t.api)this.parent.initEventBus(t.target,t.api,!!t.loadedWithFile,new o.TracingConsole((0,n.startSpan)("embedLoaded")));else{if("loadPage"==t.type){const e=[];for(const t of(null===(r=this.parent.storedState)||void 0===r?void 0:r.events)||[])t.page==this.activePage?this.checkAndHandleChangeEvent(t,void 0,!1):e.push(t);return this.parent.storedState&&(this.parent.storedState.events=e),void(this.blockOutgoingEvents=!1)}if("selectPage"==t.type)return this.activePage=t.argument,console.log("Active page "+this.activePage),void(this.blockOutgoingEvents=!0);if(!this.blockOutgoingEvents&&"viewChanged2D"!=t.type)switch(t.type){case"updateStyle":this.pasting||this.send({eventType:"obj_change",label:t.target,property:"style",content:e.getStyleXML(t.target)});break;case"redefine":s(t.target);break;case"startAnimation":this.send({eventType:"setting_change",properties:{animating:!0}});break;case"stopAnimation":this.send({eventType:"setting_change",properties:{animating:!1}});break;case"select":this.send({eventType:"obj_change",label:t.target,property:"selection"});break;case"deselect":this.send({eventType:"obj_change",property:"selection"});break;case"switchCalculator":this.send({eventType:"setting_change",properties:{calculator:t.argument}});break;case"pasteElms":this.pasting=!0;break;case"pasteElmsComplete":this.pasting=!1,t.targets&&this.send({eventType:"obj_create",labels:t.targets,content:t.targets.map((e=>this.getProps(e))).join("")});break;case"batchAddStarted":this.batchProcessing=!0;break;case"batchAddComplete":this.batchProcessing=!1,this.pasting||this.send({eventType:"obj_create",labels:e.getSiblingObjectNames(t.target),content:this.getProps(t.target)});break;case"groupObjects":case"ungroupObjects":this.send({eventType:"group",labels:t.targets||[],grouped:"groupObjects"==t.type});break;case"viewPropertiesChanged":{const r=Number.parseInt(t.argument),n=e.getGraphicsOptions(r);this.send({eventType:"graphics_change",viewId:r,graphicsOptions:n});break}case"orderingChange":this.send({eventType:"order_change",order:t.argument});break;case"addPage":this.activePage=t.argument,this.send({eventType:"add_page",page:t.argument});break;case"pastePage":this.activePage=t.argument,this.blockOutgoingEvents=!0;const r=t.ggbFile?JSON.parse(t.ggbFile):null,n=t.ggbFile?null===(i=r.archive.find((e=>"geogebra.xml"==e.fileName)))||void 0===i?void 0:i.fileContent:"";this.send({eventType:"paste_page",page:t.argument,xml:n||"",to:t.to||-1,labels:t.targets||[]});break;case"removePage":this.send({eventType:"remove_page",page:t.argument});break;case"movePage":this.send({eventType:"move_page",page:t.argument,to:t.to||-1});break;case"clearPage":this.send({eventType:"clear_page",page:t.argument});break;case"renamePage":this.send({eventType:"rename_page",page:t.argument,title:t.title||""})}}})}deleteEmbedEventBus(e){const t=this.parent.eventBuses.findIndex((t=>t.embedLabel==e));(this.api.getEmbeddedCalculators(!1)||{})[e]&&t>-1&&this.parent.eventBuses.splice(t,1)}getProps(e){return this.api.getAlgorithmXML(e)||this.api.getXML(e)}getValue(e){const t=this.api.getCommandString(e,!1);if(t){if(this.api.isMoveable(e)&&"point"==this.api.getObjectType(e)){return`SetValue(${this.api.getValueString(e,!1).replace("=",",")})`}return e+":"+t}const r=this.api.getValueString(e,!1);if(r&&r!=e)return r}transmitImageData(e){const t=this.api.getImageFileName(e);if(t){const e=this.api.getFileJSON(!1).archive.find((e=>e.fileName.includes(t)));e&&this.send({eventType:"image_add",fileName:t,fileContent:e.fileContent})}}checkAndHandleChangeEvent(e,t,r=!0){return this.parent.globalEventCounter+1!=e.globalEventCounter&&t&&t.error(`Event order inconsistency detected, local counter: ${this.parent.globalEventCounter}, event counter: ${e.globalEventCounter}`,e),this.parent.globalEventCounter=e.globalEventCounter,!(e.embedLabel!=this.embedLabel||e.page!=this.activePage&&!e.eventType.includes("page"))&&(console.log("Change event received:",e),this.blockOutgoingEvents=!0,this.api.setErrorDialogsActive(!1),this.handleChangeEvent(this.api,e,t,r),this.api.setErrorDialogsActive(!0),this.blockOutgoingEvents=!1,!0)}handleChangeEvent(e,t,r,n){var o,s,i;if("content_change"==t.eventType&&e.setXML(t.xml),"obj_create"==t.eventType&&t.labels&&(t.labels.filter((e=>this.api.exists(e))).forEach((t=>{const r=t.split("_")[0];let n,o=0;do{n=r+"_{"+o+++"}"}while(e.exists(n));e.renameObject(t,n),this.send({eventType:"obj_create",labels:[n],content:this.getProps(n)})})),t.content&&(e.evalXML(t.content),n))){const{name:r,color:n}=t.client.user;e.removeMultiuserSelections(t.client.id),e.addMultiuserSelection(t.client.id,r,n,t.labels[0],!0)}if("obj_change"==t.eventType){let s=!1;if(this.expectedAcknowledgements.forEach((e=>{s=s||!(t.eventType==e.eventType&&e.label==t.label&&t.property==e.property)})),s&&r)return void r.log(`Acknowledgement pending for property ${t.property} of ${t.label}, event rejected`);const{name:i,color:a}=t.client.user;"selection"==t.property?t.label?e.addMultiuserSelection(t.client.id,i,a,t.label,!1):e.removeMultiuserSelections(t.client.id):((null===(o=t.content)||void 0===o?void 0:o.startsWith("<"))?e.evalXML(t.content):t.content&&e.evalCommand(t.content),n&&t.label&&e.addMultiuserSelection(t.client.id,i,a,t.label,!0),e.updateConstruction())}if("rename"==t.eventType&&this.api.renameObject(t.label,t.newLabel),"setting_change"==t.eventType&&(t.properties.calculator&&e.switchCalculator(t.properties.calculator),!1===t.properties.animating?e.stopAnimation():t.properties.animating&&e.startAnimation()),"group"==t.eventType&&(t.grouped?e.groupObjects(t.labels):e.ungroupObjects(t.labels)),"obj_delete"==t.eventType&&t.label&&(this.deleteEmbedEventBus(t.label),e.deleteObject(t.label)),"graphics_change"==t.eventType){let n=!1;if(this.expectedAcknowledgements.forEach((e=>{n=n||!("graphics_change"==e.eventType)})),n&&r)return void r.log("Acknowledgement pending for graphics property, event rejected");e.setGraphicsOptions(t.viewId,t.graphicsOptions)}"image_add"==t.eventType&&(e.addImage(t.fileName,t.fileContent),e.updateConstruction()),"order_change"==t.eventType&&e.updateOrdering(t.order),"remove_page"!=t.eventType&&"clear_page"!=t.eventType||(e.handlePageAction(t.eventType.replace("_p","P"),t.page),(null===(s=this.parent.storedState)||void 0===s?void 0:s.events)&&(this.parent.storedState.events=this.parent.storedState.events.filter((e=>e.page!=t.page))),(null===(i=this.parent.storedState)||void 0===i?void 0:i.states)&&(this.parent.storedState.states=this.parent.storedState.states.filter((e=>e.page!=t.page)))),"move_page"==t.eventType&&e.handlePageAction("movePage",t.page,t),"rename_page"==t.eventType&&e.handlePageAction("renamePage",t.page,t),"add_page"==t.eventType&&e.handlePageAction("addPage",t.page),"paste_page"==t.eventType&&e.handlePageAction("pastePage",t.page,t)}send(e){this.expectedAcknowledgements.add(e);const t=Object.assign(Object.assign({page:this.activePage},e),{embedLabel:this.embedLabel});this.parent.socket.emit(...(0,n.traceEmit)("work",t,(t=>{this.expectedAcknowledgements.delete(e),t.ack?(console.log("Event acknowledged",e),this.parent.globalEventCounter++):t.ack||console.log("Event rejected"+(t.reason?` because ${t.reason}`:""),e),this.parent.resolvePendingSnapshotRequest()})))}getSnapshot(e){for(const t of this.api.getPages()){const r=this.api.getPageContent(t);e.push(Object.assign(Object.assign({},r),{embedLabel:this.embedLabel,page:t}))}}stop(){this.addListener&&this.api.unregisterAddListener(this.addListener),this.updateListener&&this.api.unregisterUpdateListener(this.updateListener),this.renameListener&&this.api.unregisterRenameListener(this.renameListener),this.removeListener&&this.api.unregisterRemoveListener(this.removeListener),this.clientListener&&this.api.unregisterClientListener(this.clientListener)}}},"./tracer.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startSpan=t.traceEmit=t.traceOn=void 0;const n=r("../node_modules/@opentelemetry/sdk-trace-web/build/esm/index.js"),o=r("../node_modules/@opentelemetry/resources/build/esm/index.js"),s=r("../node_modules/@opentelemetry/semantic-conventions/build/esm/index.js"),i=(r("../node_modules/@opentelemetry/sdk-trace-base/build/esm/index.js"),r("../node_modules/@opentelemetry/exporter-zipkin/build/esm/index.js"),r("../node_modules/@opentelemetry/api/build/esm/index.js")),a=r("../lib/tracer.ts");let c="x",l="x";const u=new n.WebTracerProvider({resource:new o.Resource({[s.SemanticResourceAttributes.SERVICE_NAME]:"client"})});u.register();const d=u.getTracer("client-tracer");function p(e,t={},r){const n=r?i.trace.setSpanContext(i.context.active(),r):i.ROOT_CONTEXT,o=Object.assign({"service.name":`client-${c}-${l}`},(0,a.toSpanAttrs)(t));return d.startSpan(e,{attributes:o},n)}t.traceOn=function(e,t){return[e,r=>{const n=p(e,r.payload,r.context);try{t(r.payload,r.context,new a.TracingConsole(n))}catch(e){throw n.setStatus((0,a.errorStatus)(e)),e}finally{n.end()}}]},t.traceEmit=function(e,t,r,n){c=void 0!==t.teamId?t.teamId:c,l=void 0!==t.userName?t.userName:l;const o=p(e,t,n);return[e,{context:o.spanContext(),payload:t},e=>{o.setAttributes((0,a.toSpanAttrs)("boolean"==typeof e?{ack:e}:{state:e},"multiplayer.cb"));try{r(e,o.spanContext(),new a.TracingConsole(o))}catch(e){throw o.setStatus((0,a.errorStatus)(e)),e}finally{o.end()}}]},t.startSpan=p},"../lib/tracer.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracingConsole=t.errorStatus=t.toSpanAttrs=void 0;const n=r("../node_modules/@opentelemetry/api/build/esm/index.js");function o(e,t="multiplayer.payload",r=5){let n={};return Object.entries(e).forEach((([e,s])=>{null!=s&&"object"==typeof s&&r>0?n=Object.assign(Object.assign({},n),o(s,`${t}.${e}`,r-1)):n[`${t}.${e}`]="string"==typeof s&&s.length>500?s.substring(0,500)+"...":s})),n}function s(e){try{return JSON.stringify(e)}catch(t){return e+""}}t.toSpanAttrs=o,t.errorStatus=function(e){return console.log(e),{code:n.SpanStatusCode.ERROR,message:e instanceof Error?e.message:s(e)}};t.TracingConsole=class{constructor(e){this.span=e}log(e,...t){console.log(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.log"))}warn(e,...t){console.warn(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.warn"))}error(e,...t){console.error(e,...t),this.span.setAttributes(o({msg:e,params:t},"multiplayer.error"))}}},"../node_modules/engine.io-client/build/cjs/contrib/has-cors.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let r=!1;try{r="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}t.hasCORS=r},"../node_modules/engine.io-client/build/cjs/contrib/parseqs.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},"../node_modules/engine.io-client/build/cjs/contrib/parseuri.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const r=/^(?:(?!\';a.g+=\'[^:@\\\\/?#]+:[^:@\\\\/]*@)(http|https|ws|wss):\\\\/\\\\/)?((?:(([^:@\\\\/?#]*)(?::([^:@\\\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\\\/?#]*)(?::(\\\\d*))?)(((\\\\/(?:[^?#](?![^?#\\\\/]*\\\\.[^?#\\\\/.]+(?:[?#]|$)))*\\\\/?)?([^?#\\\\/]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.parse=function(e){const t=e,o=e.indexOf("["),s=e.indexOf("]");-1!=o&&-1!=s&&(e=e.substring(0,o)+e.substring(o,s).replace(/:/g,";")+e.substring(s,e.length));let i=r.exec(e||""),a={},c=14;for(;c--;)a[n[c]]=i[c]||"";return-1!=o&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const r=/\\\\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,a.query),a}},"../node_modules/engine.io-client/build/cjs/contrib/yeast.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n=64,o={};let s,i=0,a=0;function c(e){let t="";do{t=r[e%n]+t,e=Math.floor(e/n)}while(e>0);return t}for(t.encode=c,t.decode=function(e){let t=0;for(a=0;a<e.length;a++)t=t*n+o[e.charAt(a)];return t},t.yeast=function(){const e=c(+new Date);return e!==s?(i=0,s=e):e+"."+c(i++)};a<n;a++)o[r[a]]=a},"../node_modules/engine.io-client/build/cjs/globalThis.browser.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"../node_modules/engine.io-client/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;const n=r("../node_modules/engine.io-client/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}}),t.protocol=n.Socket.protocol;var o=r("../node_modules/engine.io-client/build/cjs/transport.js");Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}});var s=r("../node_modules/engine.io-client/build/cjs/transports/index.js");Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var i=r("../node_modules/engine.io-client/build/cjs/util.js");Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return i.installTimerFunctions}});var a=r("../node_modules/engine.io-client/build/cjs/contrib/parseuri.js");Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}});var c=r("../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js");Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return c.nextTick}})},"../node_modules/engine.io-client/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transports/index.js"),s=r("../node_modules/engine.io-client/build/cjs/util.js"),i=r("../node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),a=r("../node_modules/engine.io-client/build/cjs/contrib/parseuri.js"),c=n(r("../node_modules/debug/src/browser.js")),l=r("../node_modules/@socket.io/component-emitter/index.mjs"),u=r("../node_modules/engine.io-parser/build/cjs/index.js"),d=r("../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js"),p=(0,c.default)("engine.io-client:socket");class m extends l.Emitter{constructor(e,t={}){super(),this.binaryType=d.defaultBinaryType,this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.parse)(t.host).host),(0,s.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\\\\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,i.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){p(\\\'creating transport "%s"\\\',e);const t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return p("options: %j",r),new o.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&m.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return p("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){p("setting transport %s",e.name),this.transport&&(p("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){p(\\\'probing transport "%s"\\\',e);let t=this.createTransport(e),r=!1;m.priorWebsocketSuccess=!1;const n=()=>{r||(p(\\\'probe transport "%s" opened\\\',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(n=>{if(!r)if("pong"===n.type&&"probe"===n.data){if(p(\\\'probe transport "%s" pong\\\',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;m.priorWebsocketSuccess="websocket"===t.name,p(\\\'pausing current transport "%s"\\\',this.transport.name),this.transport.pause((()=>{r||"closed"!==this.readyState&&(p("changing transport and sending upgrade packet"),l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{p(\\\'probe transport "%s" failed\\\',e);const r=new Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}})))};function o(){r||(r=!0,l(),t.close(),t=null)}const s=r=>{const n=new Error("probe error: "+r);n.transport=t.name,o(),p(\\\'probe transport "%s" failed because of error: %s\\\',e,r),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function a(){s("socket closed")}function c(e){t&&e.name!==t.name&&(p(\\\'"%s" works - aborting "%s"\\\',e.name,t.name),o())}const l=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};t.once("open",n),t.once("error",s),t.once("close",i),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onOpen(){if(p("socket open"),this.readyState="open",m.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){p("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(p(\\\'socket receive: type "%s", data "%s"\\\',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else p(\\\'packet received with socket readyState "%s"\\\',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();p("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=(0,s.byteLength)(r)),t>0&&e>this.maxPayload)return p("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return p("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:e,data:t,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),p("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){p("socket error %j",e),m.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(p(\\\'socket close with reason: "%s"\\\',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=m,m.protocol=u.protocol},"../node_modules/engine.io-client/build/cjs/transport.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const o=r("../node_modules/engine.io-parser/build/cjs/index.js"),s=r("../node_modules/@socket.io/component-emitter/index.mjs"),i=r("../node_modules/engine.io-client/build/cjs/util.js"),a=n(r("../node_modules/debug/src/browser.js")),c=r("../node_modules/engine.io-client/build/cjs/contrib/parseqs.js"),l=(0,a.default)("engine.io-client:transport");class u extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class d extends s.Emitter{constructor(e){super(),this.writable=!1,(0,i.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new u(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):l("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,o.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=(0,c.encode)(e);return t.length?"?"+t:""}}t.Transport=d},"../node_modules/engine.io-client/build/cjs/transports/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const n=r("../node_modules/engine.io-client/build/cjs/transports/polling.js"),o=r("../node_modules/engine.io-client/build/cjs/transports/websocket.js"),s=r("../node_modules/engine.io-client/build/cjs/transports/webtransport.js");t.transports={websocket:o.WS,webtransport:s.WT,polling:n.Polling}},"../node_modules/engine.io-client/build/cjs/transports/polling.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transport.js"),s=n(r("../node_modules/debug/src/browser.js")),i=r("../node_modules/engine.io-client/build/cjs/contrib/yeast.js"),a=r("../node_modules/engine.io-parser/build/cjs/index.js"),c=r("../node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.browser.js"),l=r("../node_modules/@socket.io/component-emitter/index.mjs"),u=r("../node_modules/engine.io-client/build/cjs/util.js"),d=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js"),p=(0,s.default)("engine.io-client:polling");function m(){}const h=null!=new c.XHR({xdomain:!1}).responseType;class _ extends o.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=h&&!t,this.opts.withCredentials&&(this.cookieJar=(0,c.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{p("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(p("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){p("pre-pause polling complete"),--e||t()}))),this.writable||(p("we are currently writing - waiting to pause"),e\';a.g+=\'++,this.once("drain",(function(){p("pre-pause writing complete"),--e||t()})))}else t()}poll(){p("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){p("polling got data %s",e);(0,a.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():p(\\\'ignoring poll - transport state "%s"\\\',this.readyState))}doClose(){const e=()=>{p("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(p("transport open - closing"),e()):(p("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,a.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,i.yeast)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new f(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){p("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}t.Polling=_;class f extends l.Emitter{constructor(e,t){super(),(0,u.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=(0,u.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new c.XHR(t);try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof r.status?r.status:0)}),0))},p("xhr data %s",this.data),r.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=m,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(t.Request=f,f.requestsCount=0,f.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",g);else if("function"==typeof addEventListener){const e="onpagehide"in d.globalThisShim?"pagehide":"unload";addEventListener(e,g,!1)}function g(){for(let e in f.requests)f.requests.hasOwnProperty(e)&&f.requests[e].abort()}},"../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;const n=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.WebSocket=n.globalThisShim.WebSocket||n.globalThisShim.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},"../node_modules/engine.io-client/build/cjs/transports/websocket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transport.js"),s=r("../node_modules/engine.io-client/build/cjs/contrib/yeast.js"),i=r("../node_modules/engine.io-client/build/cjs/util.js"),a=r("../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js"),c=n(r("../node_modules/debug/src/browser.js")),l=r("../node_modules/engine.io-parser/build/cjs/index.js"),u=(0,c.default)("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class p extends o.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=d?{}:(0,i.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=a.usingBrowserWebSocket&&!d?t?new a.WebSocket(e,t):new a.WebSocket(e):new a.WebSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;(0,l.encodePacket)(r,this.supportsBinary,(e=>{const t={};if(!a.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{a.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){u("websocket closed before onclose event")}n&&(0,a.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,s.yeast)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!a.WebSocket}}t.WS=p},"../node_modules/engine.io-client/build/cjs/transports/webtransport.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;const o=r("../node_modules/engine.io-client/build/cjs/transport.js"),s=r("../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.browser.js"),i=r("../node_modules/engine.io-parser/build/cjs/index.js"),a=(0,n(r("../node_modules/debug/src/browser.js")).default)("engine.io-client:webtransport");class c extends o.Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{a("transport closed gracefully"),this.onClose()})).catch((e=>{a("transport closed due to %s",e),this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=(0,i.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=(0,i.createPacketEncoderStream)();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();const o=()=>{r.read().then((({done:e,value:t})=>{e?a("session is closed"):(a("received chunk: %o",t),this.onPacket(t),o())})).catch((e=>{a("an error occurred while reading: %s",e)}))};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this.writer.write(r).then((()=>{n&&(0,s.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}}t.WT=c},"../node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCookieJar=t.XHR=void 0;const n=r("../node_modules/engine.io-client/build/cjs/contrib/has-cors.js"),o=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.XHR=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new(o.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},t.createCookieJar=function(){}},"../node_modules/engine.io-client/build/cjs/util.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;const n=r("../node_modules/engine.io-client/build/cjs/globalThis.browser.js");t.pick=function(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})};const o=n.globalThisShim.setTimeout,s=n.globalThisShim.clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=o.bind(n.globalThisShim),e.clearTimeoutFn=s.bind(n.globalThisShim)):(e.setTimeoutFn=n.globalThisShim.setTimeout.bind(n.globalThisShim),e.clearTimeoutFn=n.globalThisShim.clearTimeout.bind(n.globalThisShim))};t.byteLength=function(e){return"string"==typeof e?function(e){let t=0,r=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}},"../node_modules/engine.io-parser/build/cjs/commons.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);t.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach((e=>{n[r[e]]=e}));t.ERROR_PACKET={type:"error",data:"parser error"}},"../node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)n[r.charCodeAt(e)]=e;t.encode=e=>{let t,n=new Uint8Array(e),o=n.length,s="";for(t=0;t<o;t+=3)s+=r[n[t]>>2],s+=r[(3&n[t])<<4|n[t+1]>>4],s+=r[(15&n[t+1])<<2|n[t+2]>>6],s+=r[63&n[t+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s};t.decode=e=>{let t,r,o,s,i,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],s=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],d[l++]=r<<2|o>>4,d[l++]=(15&o)<<4|s>>2,d[l++]=(3&s)<<6|63&i;return u}},"../node_modules/engine.io-parser/build/cjs/decodePacket.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;const n=r("../node_modules/engine.io-parser/build/cjs/commons.js"),o=r("../node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js"),s="function"==typeof ArrayBuffer;t.decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:a(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:i(e.substring(1),t)};return n.PACKET_TYPES_REVERSE[r]?e.length>1?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET};const i=(e,t)=>{if(s){const r=(0,o.decode)(e);return a(r,t)}return{base64:!0,data:e}},a=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},"../node_modules/engine.io-parser/build/cjs/encodePacket.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=t.encodePacketToBinary=void 0;const n=r("../node_modules/engine.io-parser/build/cjs/commons.js"),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),s="function"==typeof ArrayBuffer,i=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,a=({type:e,data:t},r,a)=>o&&t instanceof Blob?r?a(t):c(t,a):s&&(t instanceof ArrayBuffer||i(t))?r?a(t):c(new Blob([t]),a):a(n.PACKET_TYPES[e]+(t||""));t.encodePacket=a;const c=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function l(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let u;t.encodePacketToBinary=function(e,t){return o&&e.data instanceof Blob?e.data.arrayBuffer().then(l).then(t):s&&(e.data instanceof ArrayBuffer||i(e.data))?t(l(e.data)):void a(e,!1,(e=>{u||(u=new TextEncoder),t(u.encode(e))}))}},"../node_modules/engine.io-parser/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=t.createPacketDecoderStream=t.createPacketEncoderStream=void 0;const n=r("../node_modules/engine.io-parser/build/cjs/encodePacket.browser.js");Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return n.encodePacket}});const o=r("../node_modules/engine.io-parser/build/cjs/decodePacket.browser.js");Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return o.decodePacket}});const s=r("../node_modules/engine.io-parser/build/cjs/commons.js"),i=String.fromCharCode(30);t.encodePayload=(e,t)=>{const r=e.length,o=new Array(r);let s=0;e.forEach(((e,a)=>{(0,n.encodePacket)(e,!1,(e=>{o[a]=e,++s===r&&t(o.join(i))}))}))};let a;function c(e){return e.reduce(((e,t)=>e+t.length),0)}function l(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)r[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}t.decodePayload=(e,t)=>{const r=e.split(i),n=[];for(let e=0;e<r.length;e++){const s=(0,o.decodePacket)(r[e],t);if(n.push(s),"error"===s.type)break}return n},t.createPacketEncoderStream=function(){return new TransformStream({transform(e,t){(0,n.encodePacketToBinary)(e,(r=>{const n=r.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(r)}))}})},t.createPacketDecoderStream=function(e,t){a||(a=new TextDecoder);const r=[];let n=0,i=-1,u=!1;return new TransformStream({transform(d,p){for(r.push(d);;){if(0===n){if(c(r)<1)break;const e=l(r,1);u=128==(128&e[0]),i=127&e[0],n=i<126?3:126===i?1:2}else if(1===n){if(c(r)<2)break;const e=l(r,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(c(r)<8)break;const e=l(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){p.enqueue(s.ERROR_PACKET);break}i=o*Math.pow(2,32)+t.getUint32(4),n=3}else{if(c(r)<i)break;const e=l(r,i);p.enqueue((0,o.decodePacket)(u?e:a.decode(e),t)),n=0}if(0===i||i>e){p.enqueue(s.ERROR_PACKET);break}}}})},t.protocol=4},"../node_modules/socket.io-client/build/cjs/contrib/backo2.js":(e,t)=>{"use strict";function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=\';a.g+=\'e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},"../node_modules/socket.io-client/build/cjs/index.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;const o=r("../node_modules/socket.io-client/build/cjs/url.js"),s=r("../node_modules/socket.io-client/build/cjs/manager.js");Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}});const i=r("../node_modules/socket.io-client/build/cjs/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});const a=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client"),c={};function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=o.url(e,t.path||"/socket.io"),n=r.source,i=r.id,l=r.path,u=c[i]&&l in c[i].nsps;let d;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(a("ignoring socket cache for %s",n),d=new s.Manager(n,t)):(c[i]||(a("new io instance for %s",n),c[i]=new s.Manager(n,t)),d=c[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}t.io=l,t.connect=l,t.default=l,Object.assign(l,{Manager:s.Manager,Socket:i.Socket,io:l,connect:l});var u=r("../node_modules/socket.io-parser/build/cjs/index.js");Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.exports=l},"../node_modules/socket.io-client/build/cjs/manager.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const a=r("../node_modules/engine.io-client/build/cjs/index.js"),c=r("../node_modules/socket.io-client/build/cjs/socket.js"),l=s(r("../node_modules/socket.io-parser/build/cjs/index.js")),u=r("../node_modules/socket.io-client/build/cjs/on.js"),d=r("../node_modules/socket.io-client/build/cjs/contrib/backo2.js"),p=r("../node_modules/@socket.io/component-emitter/index.mjs"),m=i(r("../node_modules/debug/src/browser.js")).default("socket.io-client:manager");class h extends p.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||l;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(m("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;m("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=u.on(t,"open",(function(){r.onopen(),e&&e()})),o=t=>{m("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=u.on(t,"error",o);if(!1!==this._timeout){const e=this._timeout;m("connect attempt will timeout after %d",e);const r=this.setTimeoutFn((()=>{m("connect attempt timed out after %d",e),n(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){m("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){a.nextTick((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){m("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new c.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void m("socket %s is still active, skipping close",e)}this._close()}_packet(e){m("writing packet %j",e);const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){m("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){m("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){m("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)m("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();m("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(m("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(m("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(m("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=h},"../node_modules/socket.io-client/build/cjs/on.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},"../node_modules/socket.io-client/build/cjs/socket.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r("../node_modules/socket.io-parser/build/cjs/index.js"),s=r("../node_modules/socket.io-client/build/cjs/on.js"),i=r("../node_modules/@socket.io/component-emitter/index.mjs"),a=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class l extends i.Emitter{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[s.on(e,"open",this.onopen.bind(this)),s.on(e,"packet",this.onpacket.bind(this)),s.on(e,"error",this.onerror.bind(this)),s.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(c.hasOwnProperty(e))throw new Error(\\\'"\\\'+e.toString()+\\\'" is a reserved event name\\\');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const r={type:o.PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;a("emitting packet with ack id %d",e);const n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)?a("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){var r;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(a("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));a("event with ack id %d has timed out after %d ms",e,n),t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(o),t.apply(this,[null,...e])}}emitWithAck(e,...t){const r=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((n,o)=>{t.push(((e,t)=>r?e?o(e):n(t):n(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...n)=>{if(r!==this._queue[0])return;return null!==e?r.tryCount>this._opts.retries&&(a("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),t&&t(e)):(a("packet [%d] was successfully sent",r.id),this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(a("draining queue"),!this.connected||0===this._queue.length)return;const t=this._queue[0];!t.pending||e?(t.pending=!0,t.tryCount++,a("sending packet [%d] (try n\\xB0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)):a("packet [%d] has already been sent and is waiting for an ack",t.id)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:o.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){a("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case o.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case o.PacketType.EVENT:case o.PacketType.BINARY_EVENT:this.onevent(e);break;case o.PacketType.ACK:case o.PacketType.BINARY_ACK:this.onack(e);break;case o.PacketType.DISCONNECT:this.ondisconnect();break;case o.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,a("sending ack %j",n),t.packet({type:o.PacketType.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)}onconnect(e,t){a("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:o.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}t.Socket=l},"../node_modules/socket.io-client/build/cjs/url.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const o=r("../node_modules/engine.io-client/build/cjs/index.js"),s=n(r("../node_modules/debug/src/browser.js")).default("socket.io-client:url");t.url=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==\';a.g+=\'typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\\\\/\\\\//.test(e)||(s("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),n=o.parse(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}},"../node_modules/socket.io-parser/build/cjs/binary.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const n=r("../node_modules/socket.io-parser/build/cjs/is-binary.js");function o(e,t){if(!e)return e;if((0,n.isBinary)(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=o(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=o(e[n],t));return r}return e}function s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=s(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=o(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=s(e.data,t),delete e.attachments,e}},"../node_modules/socket.io-parser/build/cjs/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r("../node_modules/@socket.io/component-emitter/index.mjs"),o=r("../node_modules/socket.io-parser/build/cjs/binary.js"),s=r("../node_modules/socket.io-parser/build/cjs/is-binary.js"),i=(0,r("../node_modules/debug/src/browser.js").default)("socket.io-parser"),a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var c;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(c=t.PacketType||(t.PacketType={}));function l(e){return"[object Object]"===Object.prototype.toString.call(e)}t.Encoder=class{constructor(e){this.replacer=e}encode(e){return i("encoding packet %j",e),e.type!==c.EVENT&&e.type!==c.ACK||!(0,s.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==c.BINARY_EVENT&&e.type!==c.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),i("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=(0,o.deconstructPacket)(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class u extends n.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===c.BINARY_EVENT;r||t.type===c.BINARY_ACK?(t.type=r?c.EVENT:c.ACK,this.reconstructor=new d(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!(0,s.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===c[r.type])throw new Error("unknown packet type "+r.type);if(r.type===c.BINARY_EVENT||r.type===c.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!u.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return i("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case c.CONNECT:return l(t);case c.DISCONNECT:return void 0===t;case c.CONNECT_ERROR:return"string"==typeof t||l(t);case c.EVENT:case c.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===a.indexOf(t[0]));case c.ACK:case c.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}t.Decoder=u;class d{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=(0,o.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},"../node_modules/socket.io-parser/build/cjs/is-binary.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function a(e){return r&&(e instanceof ArrayBuffer||n(e))||s&&e instanceof Blob||i&&e instanceof File}t.isBinary=a,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(a(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},"../node_modules/@socket.io/component-emitter/index.mjs":(e,t,r)=>{"use strict";function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}r.r(t),r.d(t,{Emitter:()=>n}),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.GGBMultiplayer=void 0;const t=r("./event-bus.ts"),o=r("../node_modules/socket.io-client/build/cjs/index.js"),s=r("./tracer.ts");class i{constructor(e,t,r,n){this.globalEventCounter=0,this.snapshotRequested=!1,this.eventBuses=[];const s=Object.assign({collabUrl:"ws://localhost:3001",tracerUrl:void 0,tracerLog:void 0},r),i={query:{teamId:t}};void 0!==n&&(i.auth={token:`Bearer ${n}`}),this.api=e,this.socket=(0,o.io)(s.collabUrl,i),this.userChangeListeners=[],this.connectionChangeListeners=[],this.teamId=t}start(e){return new Promise(((t,r)=>{const n={userName:e,teamId:this.teamId};this.socket.on("disconnect",((e,t)=>{const r=t&&"context"in t&&t.context;r instanceof XMLHttpRequest&&413===r.status?(this.socket.io.reconnectionAttempts(0),this.emitConnectionChange({connected:false,reason:"payload too large",tryReconnect:!1})):this.emitConnectionChange({connected:false,reason:e,tryReconnect:!0})})),this.socket.io.on("reconnect",(()=>{this.socket.emit(...(0,s.traceEmit)("join",n,((e,t,r)=>{if(!e.success)throw new Error(`Failed to join during reconnect: ${e.error}`);for(const e of this.eventBuses)e.blockOutgoingEvents=!0;this.eventBuses=[],this.handleJoin(e.data,t,r)})))})),this.socket.on("node_change",(e=>{console.info("Connected to pod",e)})),this.setupSnapshotEventBus(),this.setupUserEventBus(),this.setupIncomingWorkEventBus(),this.socket.emit(...(0,s.traceEmit)("join",n,((e,n,o)=>{e.success?(this.handleJoin(e.data,n,o),t()):r(new Error(`Failed to join: ${e.error}`))})))}))}terminate(){const e={teamId:this.teamId};this.socket.emit(...(0,s.traceEmit)("terminate",e,(e=>{e&&(this.disconnect(),console.log("Terminated"))})))}handleJoin(e,t,r){console.log("Joined. Current state of the session:",e),this.globalEventCounter=e.eventCounter,this.storedState=e,this.api&&this.initEventBus(void 0,this.api,!1,r),this.emitUserChange(e.users),this.emitConnectionChange({connected:!0})}initEventBus(e,r,n,o){if(!this.storedState||this.eventBuses.some((t=>t.embedLabel==e)))return;const s=new t.WorkEventBus(this,r,e);s.setupOutgoingEventBus(),this.eventBuses.push(s);for(const t of this.storedState.images)t.embedLabel==e&&r.addImage(t.fileName,t.fileContent);if(this.storedState.states.find((t=>t.embedLabel==e))){s.blockOutgoingEvents=!0,this.storedState.states.sort(((e,t)=>e.order-t.order)),this.storedState.states.forEach((t=>{t.embedLabel==e&&r.setPageContent(t.page,t)}));for(const e of r.getPages())this.storedState.states.find((t=>t.page==e))||r.handlePageAction("removePage",e);r.selectPage(r.getPages()[0]),s.activePage=r.getPages()[0];for(const e of this.storedState.events)s.checkAndHandleChangeEvent(e,o,!1);this.storedState.events=this.storedState.events.filter((t=>t.embedLabel!=e)),this.storedState.states=this.storedState.states.filter((t=>t.embedLabel!=e)),s.blockOutgoingEvents=!1}else if(n){for(const e of r.getAllObjectNames())s.transmitImageData(e);s.send({eventType:"content_change",xml:r.getXML()})}}setupIncomingWorkEventBus(){this.socket.on(...(0,s.traceOn)("work",((e,t,r)=>{for(const t of this.eventBuses){if(t.checkAndHandleChangeEvent(e.event,r))return}r.log("Unhandled event, saving for later",e.event),this.storedState&&this.storedState.events.push(e.event)})))}setupSnapshotEventBus(){this.socket.on(...(0,s.traceOn)("snapshot_req",((e,t)=>{console.log("Snapshot requested"),this.snapshotRequested=!0,this.resolvePendingSnapshotRequest(t)})))}setupUserEventBus(){this.socket.on(...(0,s.traceOn)("user_change",(e=>{this.emitUserChange(e.users)})))}resolvePendingSnapshotRequest(e){if(this.snapshotRequested&&this.areAllEventsAcknowledged()){const t=[];this.eventBuses.forEach((e=>e.getSnapshot(t)));const r={eventCounter:this.globalEventCounter,states:t};this.socket.emit(...(0,s.traceEmit)("snapshot",r,(e=>{console.log(e.ack?"Snapshot accepted":`Snapshot rejected by server: ${e.reason}`)}),e)),this.snapshotRequested=!1}}areAllEventsAcknowledged(){return this.eventBuses.every((e=>!e.expectedAcknowledgements.size))}addUserChangeListener(e){this.userChangeListeners.push(e)}addConnectionChangeListener(e){this.connectionChangeListeners.push(e)}disconnect(){for(const e of this.eventBuses)e.stop();this.socket.disconnect()}emitUserChange(e){this.userChangeListeners.forEach((t=>t(e)))}emitConnectionChange(e){this.connectionChangeListeners.forEach((t=>t(e)))}}e.GGBMultiplayer=i,window.GGBMultiplayer=function(e,t,r,n){return new i(e,t,r,n)}})()})();\\n//# sourceMappingURL=multiplayer.js.map\';return a.g};var $Eb=xgd(7258);kuc(5230,1,qMn);_.Se=function(){var a,b,c,d,e;d=Ppm(this.g.i.Z);hFj((VMj(),TMj),false);a=kxd(\'collabUrl\',d);b=(ned(),ked).hostname;e=mid(b,\'\\\\W\',\'\')+\'_\'+this.n;c=new $wnd.GGBMultiplayer(this.i,e,a,this.k.n);this.j.dk(c)};eXm(Qc)(11);\n//# sourceURL=web3d-11.js\n')
